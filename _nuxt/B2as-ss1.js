import{_ as z}from"./BR-g2I5I.js";import{_ as E}from"./DcRiOYIC.js";import{e as T,u as Y,r as u,s as F,g as O,c as o,a as e,b as x,h as R,v as U,f as l,j as A,n as _,t as h,F as v,l as f,o as a,k as S}from"./Btp9uNj6.js";import{h as X}from"./C5S46NFB.js";import{_ as G}from"./5JjjnmY2.js";import{X as I}from"./p1tYmxji.js";/* empty css        */import{_ as J}from"./DlAUqK2U.js";const q=[{time:["08:00 AM - 08:20 AM","08:20 AM - 08:40 AM","08:40 AM - 09:00 AM","09:00 AM - 09:20 AM","09:20 AM - 09:40 AM","09:40 AM - 10:00 AM","10:00 AM - 10:20 AM","10:20 AM - 10:40 AM","10:40 AM - 11:00 AM","11:00 AM - 11:20 AM","11:20 AM - 11:40 AM","11:40 AM - 12:00 NN","12:00 NN - 12:20 PM","12:20 PM - 12:40 PM","12:40 PM - 01:00 PM","01:00 PM - 01:20 PM","01:20 PM - 01:40 PM","01:40 PM - 02:00 PM","02:00 PM - 02:20 PM","02:20 PM - 02:40 PM","02:40 PM - 03:00 PM","03:00 PM - 03:20 PM","03:20 PM - 03:40 PM","03:40 PM - 04:00 PM","04:00 PM - 04:20 PM","04:20 PM - 04:40 PM","04:40 PM - 05:00 PM"]}],H={timeSelection:q},K={class:""},Q={class:"flex"},W={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},Z={class:"w-full"},ee={class:"bg-green-700"},te={class:"lg:flex mx-auto justify-between py-2 px-3.5"},se={class:"lg:flex items-center text-white gap-5"},le={class:"flex -mt-1"},ie={class:"text-sm"},oe={class:"border pb-5 m-5"},ae={class:"w-11/12 mx-auto lg:flex gap-10"},ne={class:"w-4/12 mb-1"},re={class:""},ue={class:"mx-auto w-fit"},de={class:"w-full relative"},ce={class:"w-full border rounded-md"},me={class:"flex flex-wrap pt-4 justify-center"},pe={class:""},_e={class:"flex justify-between w-full"},he={class:""},ve={key:0},fe={class:"text-xs -mt-0.5 mb-3 block"},Me={class:"text-xs"},be={class:"relative"},ge={key:0},xe={class:""},ke=["onClick"],we={__name:"index",async setup(ye){let M,k;const b=T(),i=Y(),D=u(i.mainDevServer),w=([M,k]=F(()=>$fetch(D.value+"/api/library/booking/list/").catch(r=>r.data)),M=await M,k(),M);let d=u(),g=u([]),y=u([]),p=u([]);const N=u(H.timeSelection),j=u(i.user.developerEmail);O(()=>{i.user.isAuthenticated&&(i.user.email===j.value||i.user.email==="monaliza.mugot@lsu.edu.ph"||i.user.email==="marilyn.bejec@lsu.edu.ph"||i.user.email==="applejane.ebarle@lsu.edu.ph"||i.user.email==="janekaren.gudmalin@lsu.edu.ph"||i.user.email==="macy.beniola@lsu.edu.ph"||i.user.email==="lynn.lumacad@lsu.edu.ph"||i.user.email==="zosette.salas@lsu.edu.ph")?(w.filter(function(r){y.value.push(r.booking_date)}),b.push("/library/dashboard/appointment"),P()):b.push("/_/unauthorized")});const P=r=>{d.value=X(r).format("MM-DD-YYYY"),g.value=[],p.value=["-"],setTimeout(()=>{w.filter(function(t){t.booking_date===d.value&&(g.value.push(t.booking_time),p.value.push(t))})},100)},C=r=>{b.push("/library/dashboard/appointment/edit/"+r)};let c=u(!0);const V=()=>{b.push("/library/login"),i.removeToken()};return(r,t)=>{const $=z,B=E;return a(),o("div",K,[e("div",Q,[R(e("div",W,[x($)],512),[[U,l(c)]]),e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",{onClick:t[0]||(t[0]=n=>A(c)?c.value=!l(c):c=!l(c)),class:"w-10 px-1.5"},[e("i",{class:_(["fa text-3xl text-white",l(c)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",le,[t[4]||(t[4]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",ie,h(l(i).user.email),1)])]),e("button",{onClick:t[1]||(t[1]=n=>V()),class:"flex hover:font-bold pt-1"},t[5]||(t[5]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",oe,[e("div",null,[t[8]||(t[8]=e("div",{class:"py-2 mb-5 text-center bg-green-900 text-white uppercase text-xs tracking-widest"},"Appointments ",-1)),e("div",ae,[e("div",ne,[e("div",re,[e("div",ue,[x(l(I),{modelValue:l(d),"onUpdate:modelValue":[t[2]||(t[2]=n=>A(d)?d.value=n:d=n),t[3]||(t[3]=n=>P(l(d)))],inline:"","enable-time-picker":!1,name:"date","auto-apply":"",highlight:l(y),"year-range":[2025,2025],"disabled-week-days":[0,7],"week-start":"0"},null,8,["modelValue","highlight"])])])]),e("div",de,[e("div",ce,[e("ul",me,[(a(!0),o(v,null,f(N.value[0].time,(n,L)=>(a(),o("li",{class:"mb-3 font-bold mx-2 border p-3 w-[240px] min-h-[110px]",key:L},[e("div",pe,[e("div",_e,[e("div",he,[(a(!0),o(v,null,f(l(p),(s,m)=>(a(),o("div",{key:m,class:_({"text-red-700":s.status==="pending","text-yellow-500":s.status==="reserved","text-green-900":s.status==="received","text-blue-300":s.status==="returned"})},[n===s.booking_time?(a(),o("span",ve,[e("span",fe,h(s.booking_time),1)])):S("",!0)],2))),128)),e("div",{class:_(["text-xs w-full",l(G).includes(l(g),n)?"hidden":""])},h(n),3)])]),e("div",Me,[e("div",be,[(a(!0),o(v,null,f(l(p),(s,m)=>(a(),o("p",{key:m},[e("span",{class:_(n===s.booking_time?"":"hidden")},h(s.booking_date),3)]))),128))]),(a(!0),o(v,null,f(l(p),(s,m)=>(a(),o("p",{key:m},[n===s.booking_time?(a(),o("span",ge,[e("span",null,h(s.email),1),t[6]||(t[6]=e("br",null,null,-1)),e("span",null,h(s.borrower_category),1)])):S("",!0)]))),128)),(a(!0),o(v,null,f(l(p),(s,m)=>(a(),o("div",{key:m,class:""},[e("span",{class:_(["",n===s.booking_time?"":"hidden"])},[e("div",xe,[e("button",{onClick:Pe=>C(s.id),class:_(["w-full py-0.5 rounded-sm flex items-center gap-10 px-10 mt-3",{"bg-red-700":s.status==="pending","bg-yellow-500":s.status==="reserved","bg-green-900":s.status==="received","bg-blue-300":s.status==="returned"}])},t[7]||(t[7]=[e("span",{class:"text-white"}," Go To Details",-1),e("i",{class:"fa fa-chevron-circle-right text-white rounded-lg uppercase text-sm","aria-hidden":"true"},null,-1)]),10,ke)])],2)]))),128))])])]))),128))])])])])])])])]),x(B)])}}},Be=J(we,[["__scopeId","data-v-c5635f58"]]);export{Be as default};
