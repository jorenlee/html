import{_ as ce}from"./lM6NV0BD.js";import{_ as me}from"./CmcEKNtZ.js";import{u as be,g as pe,r as l,q as he,h as _e,c as r,b as I,a as e,t as M,k as ge,f as s,j as x,F as J,s as X,i as b,y as ve,l as w,z as j,d as k,x as fe,o as n,A as xe,n as we,p as ye,e as ke}from"./syrbsziU.js";import{h as Se}from"./C5S46NFB.js";import{_ as q}from"./vUEbHlag.js";import{s as Ce}from"./mLt1cZes.js";import{X as Ve}from"./DOzGM8Sd.js";import{_ as Te}from"./DlAUqK2U.js";import"./Cpj98o6Y.js";const a=S=>(ye("data-v-0bf5d42a"),S=S(),ke(),S),Be={class:"bg-gray-50"},De={class:""},Ne={class:""},Ue={class:"relative"},je=a(()=>e("img",{src:"https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/banners/about.jpg",class:"align-top w-full h-auto lg:object-fill lg:block hidden"},null,-1)),qe=a(()=>e("img",{src:"https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/banners/green-tones-gradient-background_23-2148374436.png",class:"align-top w-full h-36 object-none lg:hidden block"},null,-1)),ze={class:"pt-10 absolute top-1/2 transform -translate-y-1/2 w-full"},Le={class:"font-bold uppercase text-white lg:text-2xl text-lg w-11/12 mx-auto"},Re=fe('<div class="pt-2.5 pb-3 shadow-lg" data-v-0bf5d42a><div class="w-11/12 mx-auto flex justify-between" data-v-0bf5d42a><ul class="flex lasalle-green-text capitalize text-xs" data-v-0bf5d42a><li data-v-0bf5d42a><a href="/" class="" data-v-0bf5d42a> Home </a></li><li class="flex items-center" data-v-0bf5d42a><i class="fas fa-caret-right mx-1.5 mt-0.5" data-v-0bf5d42a></i><a href="/library" class="mr-1 flex" data-v-0bf5d42a> Library </a></li><li class="flex items-center" data-v-0bf5d42a><i class="fas fa-caret-right mx-1.5 mt-0.5" data-v-0bf5d42a></i><a href="/library/LRCBookThru" class="mr-1 flex" data-v-0bf5d42a><span class="lg:flex hidden ml-1" data-v-0bf5d42a> LRC Book Thru</span><span class="lg:hidden flex" data-v-0bf5d42a> LRC Book Thru</span></a></li></ul></div></div>',1),Fe={class:"text-xs lg:mb-5 bg-white w-11/12 mx-auto lg:mt-5 shadow-xl rounded-xl"},Ae={class:""},Ie=a(()=>e("div",{class:"bg-green-900 py-1 mt-4 lg:mb-10 mb-4 text-base font-medium text-white text-center uppercase tracking-tight"}," Book an Appointment ",-1)),Me={class:"lg:w-fit w-auto mx-auto lg:flex lg:gap-20"},Pe={class:"lg:w-fit mb-1"},Oe={class:""},He=a(()=>e("h1",{class:"font-bold lasalle-green-text text-xs text-center capitalize mb-3"}," Date ",-1)),Ye={class:"mx-auto w-fit"},Ee={class:"mx-auto shadow lg:h-fit lg:my-auto border rounded-sm my-3"},Je=a(()=>e("h1",{class:"border-b-2 border-green-900 text-center font-bold text-green-900 lg:whitespace-nowrap capitalize pt-3 pb-3 mb-3"}," Time ",-1)),Xe={class:"w-full rounded-md justify-center"},Ge={class:"grid lg:grid-cols-3 grid-cols-2"},$e=["value","id"],Ke=["value"],Qe=["for"],We={class:"lg:w-10/12 mx-auto lg:p-5"},Ze={class:"flex gap-2 lg:mb-3 lg:mt-0 mt-3"},et={class:"lg:w-fit w-[170px] lg:mb-0 mb-2"},tt=a(()=>e("label",{class:"text-[10px] text-gray-300 lg:block hidden"}," Borrower Category ",-1)),lt=a(()=>e("option",{value:"",disabled:"",selected:"",hidden:""}," Select Borrower Category ",-1)),at=a(()=>e("option",{value:"Faculty"},"Faculty",-1)),ot=a(()=>e("option",{value:"Staff"},"Staff",-1)),st=a(()=>e("option",{value:"Student"},"Student",-1)),dt=[lt,at,ot,st],it={key:0,class:"lg:w-3/12 w-full lg:mb-0 mb-2"},rt=a(()=>e("label",{class:"text-[10px] text-gray-300 lg:block hidden"}," ID Number ",-1)),nt={class:"lg:flex gap-2 lg:mb-3"},ut={class:"w-full lg:mb-0 mb-2"},ct=a(()=>e("label",{class:"text-[10px] text-gray-300 lg:block hidden"}," First Name ",-1)),mt={class:"w-full lg:mb-0 mb-2"},bt=a(()=>e("label",{class:"text-[10px] text-gray-300 lg:block hidden"}," Last Name ",-1)),pt={class:"w-full lg:mb-0 mb-2"},ht=a(()=>e("label",{class:"text-[10px] text-gray-300 lg:block hidden"}," Email ",-1)),_t={class:"shadow rounded-lg px-2 py-3"},gt=a(()=>e("div",{class:"text-green-900 text-sm text-center lg:mb-3 px-3"},[k(" Open this link "),e("a",{class:"font-bold cursor-pointer",target:"_blank",href:"http://203.177.51.122:443/common/servlet/presenthomeform.do?l2m=Home&tm=Home"}," OPAC "),k(" for the available resources and copy the book details in the input boxes "),e("span",{class:""}," (please select first the borrower category above)"),k(". ")],-1)),vt={class:"flex items-center"},ft=a(()=>e("div",{class:"mr-2 lg:hidden block mt-1"},"Book",-1)),xt={class:"flex items-center lg:mr-3 mt-3 font-bold justify-center bg-green-900 text-white rounded-full h-8 w-8 py-2 px-2.5 text-sm mb-2"},wt={class:"w-full lg:mb-0 mb-2"},yt=a(()=>e("label",{class:"text-[10px] text-gray-300 lg:block hidden"}," Book Title ",-1)),kt=["onUpdate:modelValue"],St={class:"w-full lg:mb-0 mb-2"},Ct=a(()=>e("label",{class:"text-[10px] text-gray-300 lg:block hidden"}," Book Author ",-1)),Vt=["onUpdate:modelValue"],Tt={class:"w-full lg:mb-0 mb-2"},Bt=a(()=>e("label",{class:"text-[10px] text-gray-300 lg:block hidden"}," Book Call Number ",-1)),Dt=["onUpdate:modelValue"],Nt={key:0,class:"flex items-center lg:static absolute top-3 right-0"},Ut=a(()=>e("div",{class:"mr-2 lg:hidden block"},"Remove",-1)),jt=["onClick"],qt=a(()=>e("i",{class:"fa fa-close"},null,-1)),zt=[qt],Lt={class:"lg:w-10/12 lg:mx-auto"},Rt=a(()=>e("i",{class:"fa fa-plus mr-1"},null,-1)),Ft={key:0,class:"text-white w-full bg-red-800 text-sm px-3 py-2 rounded-md text-center"},At=a(()=>e("div",{class:"mt-5 mb-3 w-fit lg:mx-auto mr-0 ml-auto"},[e("button",{class:"hover:text-green-800 border border-green-800 text-white hover:bg-white bg-green-800 uppercase text-xs rounded-md w-fit mx-auto px-5 py-2 text-center font-bold lg:mb-0 mb-5"},[k(" Submit "),e("i",{class:"fa fa-paper-plane","aria-hidden":"true"})])],-1)),It=a(()=>e("div",null,null,-1)),Mt=a(()=>e("div",null,[e("div",{id:"fb-root"}),e("div",{id:"fb-customer-chat-library",class:"fb-customerchat"})],-1)),Pt={__name:"backup",async setup(S){let C,P;const G=["LRC Book Thru","(lrc)","Book Thru"],$=be(),K=pe(),V=l(K.mainServer),O=([C,P]=he(()=>$fetch(V.value+"/api/library/schedule/booking/list/").catch(d=>d.data)),C=await C,P(),C),H=l(Ce.timeSelection);let z=l([]);const Q=l(new Date);let Y=l(),c=l(),_=l(H._rawValue[0].time);_e(()=>{O.filter(function(d){z.value.push(d.date)})});let u=l(""),p=l(""),g=l(""),v=l(""),h=l(),i=l([]),T=l(),B=l(),L=l("pending"),D=l(),N=l("Jan 1, 2024"),y=l(0),W=l(""),Z=l(""),ee=l(""),R=l(!1),F=l([]),f=l(),E=l(!1);const A=()=>{E.value=!0,p.value=""},te=()=>{u.value==="Faculty"&&(y.value=20,A()),u.value==="Staff"&&(y.value=20,A()),u.value==="Student"&&(y.value=15,A()),i.value=[{book_title:null,book_author:null,book_call_number:null}]},le=()=>{i.value.push({book_title:W.value,book_author:Z.value,book_call_number:ee.value}),console.log(i),y.value--},ae=d=>{i.value.length>1&&(q.pull(i.value,d),y.value++,console.log(i))},oe=d=>{c.value=Se(d).format("MM-DD-YYYY"),_.value=["-"],setTimeout(()=>{O.filter(function(o){o.date===c.value&&(Y.value=o.id,f.value=o.time)})},100)},se=async()=>{f.value.length===1&&(f.value=["-"]),q.pull(f.value,_.value),await $fetch(V.value+"/api/library/schedule/booking/"+Y.value+"/edit/",{method:"PUT",headers:{"Content-Type":"application/json"},body:{date:c.value,time:f.value,updated_at:N.value}}).then(d=>{console.log("response",d)})},de=()=>{ie(),re()},ie=async()=>{console.log("submitForm"),F.value=[],T.value=c.value,B.value=_.value,D.value=h.value,u.value===""&&p.value===""&&g.value===""&&v.value===""&&h.value===""&&i.value===""&&T.value===""&&B.value===""&&L.value===""&&D.value===""&&N.value===""&&F.value.push("Please fill in all fields."),F.value.length==0&&await $fetch(V.value+"/api/library/booking/create/",{method:"POST",headers:{"Content-Type":"application/json"},body:{borrower_category:u.value,id_number:p.value,firstname:g.value,lastname:v.value,email:h.value,books:i.value,booking_date:T.value,booking_time:B.value,status:L.value,created_by_email:D.value,updated_at:N.value}}).then(d=>{d.status==="errors"?(console.log("response.status",d.status),console.log("response.errors",d.errors),R.value=!0,setTimeout(()=>{R.value=!1},1e4)):(se(),$.push({path:"/library/LRCBookThru/ConfirmationPage"}))})},re=async()=>{await $fetch(V.value+"/api/library/submit-appointment-to-gmail/",{method:"POST",headers:{"Content-Type":"application/json"},body:{borrower_category:u.value,id_number:p.value,firstname:g.value,lastname:v.value,email:h.value,books:i.value,booking_date:T.value,booking_time:B.value,status:L.value,created_by_email:D.value,updated_at:N.value}}).then(d=>{})};return(d,o)=>{const ne=ce,ue=me;return n(),r("div",Be,[I(ne),e("div",De,[e("div",Ne,[e("div",Ue,[je,qe,e("div",ze,[e("h1",Le,M(G[0]),1)]),Re])]),e("div",Fe,[e("div",Ae,[Ie,e("form",{onSubmit:ge(de,["prevent"]),class:"px-3"},[e("div",Me,[e("div",Pe,[e("div",Oe,[He,e("div",Ye,[I(s(Ve),{modelValue:s(c),"onUpdate:modelValue":[o[0]||(o[0]=t=>x(c)?c.value=t:c=t),o[1]||(o[1]=t=>oe(s(c)))],inline:"","enable-time-picker":!1,name:"date","auto-apply":"",highlight:s(z),"year-range":[2024,2024],"disabled-week-days":[6,7,0],"week-start":"0","allowed-dates":s(z),"min-date":s(Q)},null,8,["modelValue","highlight","allowed-dates","min-date"])])])]),e("div",Ee,[Je,e("div",Xe,[e("ul",Ge,[(n(!0),r(J,null,X(s(H)[0].time,(t,U)=>(n(),r("li",{class:"flex items-center mb-3 font-semibold whitespace-nowrap lg:w-[170px] lg:text-left text-center lg:pl-6 pl-3.5",key:U},[s(q).includes(s(f),t)?b((n(),r("input",{key:0,type:"radio",name:"time",value:t,class:"mr-2 mt-0.5","onUpdate:modelValue":o[2]||(o[2]=m=>x(_)?_.value=m:_=m),id:t,required:""},null,8,$e)),[[xe,s(_)]]):(n(),r("input",{key:1,type:"radio",name:"time",value:t,class:"mr-2 mt-0.5",disabled:""},null,8,Ke)),e("label",{for:t,class:we(["lg:text-xs text-[10px]",s(q).includes(s(f),t)?"text-[#087830] font-bold":" text-gray-400 font-light"])},M(t),11,Qe)]))),128))])])])]),e("div",We,[e("div",Ze,[e("div",et,[tt,b(e("select",{"onUpdate:modelValue":o[3]||(o[3]=t=>x(u)?u.value=t:u=t),name:"borrower_category",class:"shadow-md px-2 py-2 rounded-md w-full lg:border-2 border border-[#225c21] capitalize",required:"",onChange:o[4]||(o[4]=t=>te())},dt,544),[[ve,s(u)]])]),s(E)?(n(),r("div",it,[rt,b(e("input",{class:"shadow-md text-green-800 px-2 text-xs rounded-md w-full lg:border-2 border border-[#225c21] capitalize","onUpdate:modelValue":o[5]||(o[5]=t=>x(p)?p.value=t:p=t),placeholder:"ID Number",type:"text",required:""},null,512),[[w,s(p)]])])):j("",!0)]),e("div",nt,[e("div",ut,[ct,b(e("input",{class:"shadow-md text-xs text-green-800 px-2 py-2 rounded-md w-full lg:border-2 border border-[#225c21] capitalize","onUpdate:modelValue":o[6]||(o[6]=t=>x(g)?g.value=t:g=t),placeholder:"first Name",type:"text",required:""},null,512),[[w,s(g)]])]),e("div",mt,[bt,b(e("input",{class:"shadow-md text-xs text-green-800 px-2 py-2 rounded-md w-full lg:border-2 border border-[#225c21] capitalize","onUpdate:modelValue":o[7]||(o[7]=t=>x(v)?v.value=t:v=t),placeholder:"last Name",type:"text",required:""},null,512),[[w,s(v)]])]),e("div",pt,[ht,b(e("input",{class:"shadow-md text-xs text-green-800 px-2 py-2 rounded-md w-full lg:border-2 border border-[#225c21]","onUpdate:modelValue":o[8]||(o[8]=t=>x(h)?h.value=t:h=t),placeholder:"Email",type:"email",required:""},null,512),[[w,s(h)]])])]),e("div",_t,[gt,(n(!0),r(J,null,X(s(i),(t,U)=>(n(),r("div",{class:"lg:flex lg:shadow lg:p-5 gap-2 mb-3 relative",key:U},[e("div",vt,[ft,e("div",xt,M(U+1),1)]),e("div",wt,[yt,b(e("input",{class:"shadow-md px-2 py-2 text-xs rounded-md w-full lg:border-2 border border-[#225c21] capitalize","onUpdate:modelValue":m=>t.book_title=m,placeholder:"book title",type:"text",required:""},null,8,kt),[[w,t.book_title]])]),e("div",St,[Ct,b(e("input",{class:"shadow-md px-2 py-2 text-xs rounded-md w-full lg:border-2 border border-[#225c21] capitalize","onUpdate:modelValue":m=>t.book_author=m,placeholder:"book author",type:"text",required:""},null,8,Vt),[[w,t.book_author]])]),e("div",Tt,[Bt,b(e("input",{class:"shadow-md px-2 py-2 text-xs rounded-md w-full lg:border-2 border border-[#225c21] capitalize","onUpdate:modelValue":m=>t.book_call_number=m,placeholder:"book call number",type:"text",required:""},null,8,Dt),[[w,t.book_call_number]])]),s(i).length>1?(n(),r("div",Nt,[Ut,e("div",{class:"flex items-center lg:ml-5 lg:mt-5 justify-center hover:bg-white bg-red-900 border border-red-900 hover:text-red-900 text-white rounded-full h-8 w-8 pt-2 pb-1.5 px-2.5 text-sm",onClick:m=>ae(t)},zt,8,jt)])):j("",!0)]))),128)),e("div",Lt,[s(y)>1?(n(),r("button",{key:0,class:"hover:text-[#f4ca16] border border-[#f4ca16] text-white cursor-pointer w-fit mb-3 hover:bg-white bg-[#f4ca16] font-bold uppercase text-xs rounded-md px-3 py-2 text-center lg:-ml-2",onClick:le},[Rt,k(" Add Book ")])):j("",!0)])]),s(R)?(n(),r("div",Ft," Date and Time and other fields are required! ")):j("",!0),At])],32)])])]),It,Mt,I(ue)])}}},Qt=Te(Pt,[["__scopeId","data-v-0bf5d42a"]]);export{Qt as default};
