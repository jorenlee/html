import{_ as N}from"./Bfli62Ia.js";import{_ as $}from"./ydWIKFAn.js";import{u as L,g as z,r as t,m as A,h as E,c as i,a as e,i as g,v,f as o,b as k,j as F,n as f,t as p,F as P,s as R,z as V,x as M,o as r,p as O,e as U}from"./CpaL2y8w.js";import{_ as W}from"./vUEbHlag.js";import"./C5S46NFB.js";import{_ as Y}from"./DlAUqK2U.js";import"./Cpj98o6Y.js";const _=h=>(O("data-v-d541a9e0"),h=h(),U(),h),q={class:"flex"},G={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},H={class:"w-full min-h-screen"},J={class:"bg-green-800"},K={class:"lg:flex mx-auto justify-between py-2 px-3.5"},Q={class:"lg:flex items-center text-white gap-5"},X={class:"flex -mt-1"},Z=_(()=>e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),ee={class:"text-sm"},te=_(()=>e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1)),se=_(()=>e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)),ae=[te,se],oe={class:"w-full p-5"},le={class:""},ne={class:"appointment-lists shadow mx-auto text-xs"},ie={class:""},re=M('<div class="header w-full p-2 bg-green-800 text-white flex items-center" data-v-d541a9e0><ul class="lg:flex w-full justify-evenly text-center whitespace-nowrap" data-v-d541a9e0><li class="lg:w-1/12" data-v-d541a9e0>No.</li><li class="lg:w-5/12" data-v-d541a9e0>Title</li><li class="lg:w-1/12" data-v-d541a9e0>Bid Status</li><li class="lg:w-3/12" data-v-d541a9e0>Deadline of Submission</li><li class="lg:w-2/12" data-v-d541a9e0>Action</li></ul></div>',1),ce={key:0,class:"w-full rows"},de={class:"px-2 lg:w-1/12"},ue={class:"px-2 lg:w-5/12"},pe={class:"px-2 lg:w-1/12 uppercase"},_e={class:"px-2 lg:w-3/12"},he={class:"flex px-2 font-bold justify-center lg:w-2/12"},xe={class:"mx-auto lg:flex justify-center"},me=["onClick"],ge=_(()=>e("i",{class:"fa fa-trash text-red-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)),ve=[ge],fe={class:"px-5 rounded-lg bg-white shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},we=_(()=>e("div",{class:"my-6"},"Are you sure you want to Delete?",-1)),ye={key:1,class:"itallic text-gray-400 text-center p-1"},be={__name:"index",setup(h){const c=L(),s=z(),m=t(s.mainDevServer);A();const n=t(0);t(new Date),t(!1);let w=t(),C=t(!0),l=t(!0),d=t(!1);E(()=>{setTimeout(async()=>{s.user.isAuthenticated&&(s.user.email==="jorenleeluna24@gmail.com"||s.user.email==="procurement@lsu.edu.ph"||s.user.email==="jason.yap@lsu.edu.ph")?(n.value=await $fetch(m.value+"/api/procurements/list").catch(u=>u.data)||0,c.push("/_/panels/procurement")):c.push("/_/unauthorized")},3e3)});const y=u=>{d.value=!d.value,w.value=u},S=async()=>{await $fetch(m.value+"/api/procurements/"+w.value+"/delete/",{method:"DELETE",headers:{Authorization:s.user.token,"Content-Type":"application/json"}}).then(async u=>{n.value=await $fetch(m.value+"/api/procurements/list").catch(x=>x.data)||0,d.value=!d.value})},D=()=>{c.push("/_/proc-admin"),s.removeToken()};t(!0);const j=()=>{c.push("/_/panels/procurement")},T=()=>{c.push("/_/panels/procurement/create")};return(u,x)=>{const B=N,I=$;return r(),i("div",null,[e("div",q,[g(e("div",G,[k(B,{goToList:j,goToCreate:T})],512),[[v,o(l)]]),e("div",H,[e("div",J,[e("div",K,[e("div",Q,[e("div",{onClick:x[0]||(x[0]=a=>F(l)?l.value=!o(l):l=!o(l)),class:"w-10 px-1.5"},[e("i",{class:f(["fa text-3xl text-white",o(l)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",X,[Z,e("h1",ee,p(o(s).user.email),1)])]),e("button",{onClick:D,class:"flex hover:font-bold pt-1"},ae)])]),e("div",null,[e("div",oe,[g(e("div",null,[e("div",le,[e("div",ne,[e("div",ie,[re,n.value.length>0?(r(),i("div",ce,[(r(!0),i(P,null,R(o(W).orderBy(n.value,"id","asc"),(a,b)=>(r(),i("ul",{class:"lg:flex w-full justify-evenly text-center items-center h-auto border-b border-gray-100",key:b},[e("li",de,p(b+1),1),e("li",ue,p(a.title),1),e("li",pe,[e("span",{class:f({"border-green-900 px-2 py-1 text-white bg-green-900":a.bid_status==="completed","border-green-900 px-2 py-1 text-white bg-red-500":a.bid_status==="on hold","border-green-900 px-2 py-1 text-white bg-yellow-500":a.bid_status==="ongoing"})},p(a.bid_status),3)]),e("li",_e,p(a.deadline),1),e("li",he,[e("div",xe,[e("button",{onClick:ke=>y(a.id)},ve,8,me)])])]))),128)),g(e("div",fe,[we,e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:S},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:y},"Cancel")])],512),[[v,o(d)]])])):V("",!0),n.value.length===0?(r(),i("div",ye," No Results Found! ")):(r(),i("div",{key:2,class:f(["itallic text-gray-400 text-center p-1",n.value.length>0?"hidden":""])}," Please Wait ... ",2))])])])],512),[[v,o(C)]])])])])]),k(I)])}}},Ne=Y(be,[["__scopeId","data-v-d541a9e0"]]);export{Ne as default};
