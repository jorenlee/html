import{_ as $s}from"./EUKHQEQX.js";import{k as Ps,l as Us,r as i,p as Vs,D as ne,K as Gt,m as F,c as o,a as e,f as w,i as Ht,h as v,e as Kt,t as p,X as Qt,n as c,j as m,F as T,g as Y,d as E,y as Xt,aa as Es,v as _,q as S,b as Ls,o as r,s as Rs}from"./2O0jCptD.js";import{_ as Fs}from"./5JjjnmY2.js";import{h as L}from"./C5S46NFB.js";const Ys={class:"h-screen flex"},Ns={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},Bs={class:"w-full"},zs={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},Os={class:"flex items-center w-full px-2"},qs={class:"text-sm"},Gs={class:"w-full"},Hs={class:"bg-green-800 w-full z-10"},Ks={class:"flex mx-auto justify-between py-2 px-3.5"},Qs={key:0,class:"lg:mx-2 mx-2 shadow-lgrounded-lg lg:mb-0 mb-3 p-1 mt-2"},Xs={class:"flex gap-2"},Ws={class:"font-semibold text-[10px] text-gray-800 whitespace-nowrap text-center"},Js={class:"text-[10px] text-gray-500 text-center"},Zs={class:"flex flex-wrap mx-auto w-fit gap-1 mt-2 text-[11px]"},el={class:"bg-gray-800 text-white px-2 py-0.5 rounded-full font-semibold"},tl={class:"bg-green-700 text-white px-2 py-0.5 rounded-full font-semibold"},sl={class:"bg-blue-600 text-white px-2 py-0.5 rounded-full font-semibold"},ll={class:"w-full px-3 py-2"},al={class:"relative"},ol={key:0,class:"fixed inset-0 z-[1000] bg-gray-800 bg-opacity-90 flex items-center justify-center"},rl={class:"text-white text-lg font-semibold text-center px-6"},nl={key:1,class:"fixed inset-0 z-[1000] bg-red-900 bg-opacity-90 flex items-center justify-center"},il={class:"text-white text-lg font-semibold text-center px-6"},dl={class:"w-full flex flex-wrap items-center gap-3 mb-4 px-3 py-2 bg-white border rounded-md shadow-sm"},ul={class:"w-full flex items-center gap-3"},cl={class:"flex flex-wrap items-center gap-2 lg:w-3/12 w-full"},fl=["disabled"],gl={key:0,class:"w-full"},vl=["value"],pl={class:"relative w-full"},ml={class:"flex items-center gap-1"},xl={class:""},hl={class:"appointment-lists mx-auto text-xs"},yl={key:0,class:"text-center"},wl={key:1},bl={key:0,class:"gap-4"},_l={class:"w-fit flex px-2"},kl={class:""},Cl=["value"],jl={class:"lg:w-5/12 w-full flex items-center"},Al={class:"w-full"},Ml={class:"w-full lg:px-3 lg:flex items-center"},Dl={class:"text-[10px] font-light whitespace-nowrap"},Sl={class:"font-bold"},Tl={class:"lg:w-6/12 w-full"},Il={class:"w-full my-1"},$l={class:"w-full text-xs font-bold uppercase text-green-800 py-1 px-1 flex items-center"},Pl={class:"flex justify-between items-center mb-4 border-b pb-3"},Ul={class:"text-lg font-medium text-gray-900"},Vl={class:"mb-6 max-h-[40vh] overflow-y-auto"},El={key:0,class:"text-center text-gray-500 py-4"},Ll={key:1,class:"space-y-3"},Rl={class:"flex items-center justify-between capitalize gap-x-3"},Fl={class:"text-gray-500 w-3/12"},Yl={class:"lg:flex gap-x-10"},Nl={class:"w-full space-y-1"},Bl={class:"flex items-center"},zl={class:"ml-3 text-sm w-full"},Ol={class:"text-xs shadow-md py-1 px-2"},ql={class:"flex items-center"},Gl={class:"ml-3 text-sm w-full"},Hl={class:"text-xs shadow-md py-1 px-2"},Kl={class:"flex items-center"},Ql={class:"ml-3 text-sm w-full"},Xl=["onUpdate:modelValue"],Wl={class:"flex items-center"},Jl={class:"ml-3 text-sm w-full"},Zl=["onUpdate:modelValue"],ea={class:"flex items-center"},ta={class:"ml-3 text-sm w-full"},sa=["onUpdate:modelValue"],la={class:"flex items-center"},aa={class:"ml-3 text-sm w-full"},oa=["onUpdate:modelValue"],ra={class:"flex items-center"},na={class:"ml-3 text-sm w-full"},ia=["onUpdate:modelValue"],da={class:"flex items-center"},ua={class:"ml-3 text-sm w-full"},ca=["onUpdate:modelValue"],fa={class:"flex items-center"},ga={class:"ml-3 text-sm w-full"},va=["onUpdate:modelValue"],pa={class:"flex items-center"},ma={class:"ml-3 text-sm w-full"},xa=["onUpdate:modelValue"],ha={class:"w-full"},ya={class:"w-full py-1"},wa={class:"lg:flex items-center gap-x-3"},ba={class:"flex gap-x-3 w-fit mx-auto"},_a={key:0,class:"flex items-center gap-x-3"},ka=["onClick"],Ca=["src"],ja=["href"],Aa=["href"],Ma=["onClick"],Da=["src"],Sa=["href"],Ta=["href"],Ia=["onClick"],$a=["src"],Pa=["href"],Ua=["href"],Va={key:0,class:"flex text-sm"},Ea={class:"text-sm w-full"},La={class:"flex flex-wrap gap-2"},Ra={class:"mt-2"},Fa=["onUpdate:modelValue"],Ya={class:"w-full flex justify-center gap-x-2 mt-5"},Na=["onClick"],Ba={key:0},za={key:1},Oa={class:"border-4 border-[#eeeeee] px-3 py-3 my-3 rounded-lg"},qa={class:"flex w-full gap-x-2"},Ga={class:"flex items-center mb-2 w-full lg:w-6/12"},Ha={class:"text-sm w-full"},Ka={class:"flex items-center mb-2 w-full"},Qa={class:"text-sm w-full"},Xa={class:"flex items-center mb-2 lg:w-fit w-full"},Wa={class:"text-sm w-full"},Ja={class:"flex items-center mb-2"},Za={class:"text-sm w-full"},eo={class:""},to={class:"text-sm w-full"},so={class:"w-full"},lo=["for"],ao=["id","onUpdate:modelValue"],oo={class:"w-full"},ro=["for"],no=["id","onUpdate:modelValue"],io=["onClick"],uo={class:"mt-2 hidden"},co=["onUpdate:modelValue"],fo={class:"mt-4 mx-auto w-fit block"},go=["onClick","disabled"],vo={key:0,class:"mt-3 text-center text-sm bg-green-100 text-green-800 border border-green-400 px-4 py-2 rounded w-full"},po={class:"flex justify-between items-center mb-4 border-b pb-3"},mo={class:"text-lg font-medium text-gray-900"},xo={class:"mb-6 max-h-[40vh] overflow-y-auto"},ho={key:0,class:"text-center text-gray-500 py-4"},yo={key:1,class:"space-y-3"},wo={class:"flex items-center justify-between capitalize gap-x-3"},bo={class:"text-gray-500 w-3/12"},_o={key:0,class:"mt-3"},ko={class:"flex items-center gap-2"},Co=["onClick"],jo=["src"],Ao={class:"mt-2 mb-10"},Mo=["onUpdate:modelValue"],Do={class:"flex gap-3"},So=["onClick"],To={key:0},Io={key:1},$o={class:"mt-2 mb-14"},Po=["onUpdate:modelValue"],Uo=["onClick"],Vo={key:0},Eo={key:1},Lo=["onClick"],Ro={key:0},Fo={key:1},Yo={class:"w-full text-[10px]"},No={class:"w-fit mx-auto"},Bo={class:"lg:w-fit mx-auto w-full py-1 lg:gap-x-3 lg:flex lg:whitespace-nowrap text-left"},zo=["onClick"],Oo=["onClick"],qo=["onClick"],Go=["onClick"],Ho=["onClick"],Ko=["onClick"],Qo=["src"],Xo={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300"},Wo={class:"text-center"},Jo={class:"text-sm text-gray-500 mb-6"},Zo={class:"flex justify-center gap-4"},er=["disabled"],tr={key:0,class:"fa fa-spinner fa-spin mr-2"},sr=["disabled"],lr={key:1,class:"flex justify-center my-4 pb-10"},ar=["disabled"],or=["onClick"],rr=["disabled"],nr={key:2,class:"text-center my-5"},ir={class:"w-full"},dr=1e3,Re=500,we=4,pr={__name:"index",setup(ur){const be=Ps(),H=Us(),d=i([]);let Wt=i(!0),M=i(!1),K=i(!1);const A=i(H.mainDevServer);let I=i(null);const R=i("all"),W=i(!1),Fe=i(""),Q=i(!1),ie=i(null),$=i(!1),X=i(!1),N=i(!1),B=i(!1),z=i(!1),x=i(null),Jt=i(""),de=i(null),Zt=async s=>{try{const t=await $fetch(A.value+"/api/registrar/payment/list/").catch(()=>[]);de.value=(t||[]).find(a=>(a==null?void 0:a.tracking_id)===s)||null}catch(t){console.error("Failed to load payment by tracking id",t),de.value=null}},k=i(""),C=i(""),O=i(!1),D=i(!1),ue=s=>{Fe.value=s,W.value=!0,j.value=!0},ce=()=>{W.value=!1,j.value=P()},es=async s=>{var l;k.value="",C.value="",O.value=!0;const t="Reviewed and Verified",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===t.toLowerCase()){O.value=!1;return}try{const g={timestamp:L().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},u=s.logs?[...s.logs]:[];u.unshift(g),I.value=s.id;const y={...s,logs:u};await $fetch(`${A.value}/api/registrar/${I.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:y}),s.logs=u;const oe=d.value.findIndex(ye=>ye.id===s.id);oe!==-1&&(d.value[oe].logs=u),Ce.value[s.id]=!0,await $fetch(`${A.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await ee(),k.value="✅ Confirm and email sent successfully!",setTimeout(()=>{k.value=""},3e3)}catch(g){console.error("Error verifying and sending email:",g),C.value="❌ Failed to verify and send email.",setTimeout(()=>{C.value=""},3e3)}finally{O.value=!1}},ts=async s=>{k.value="",C.value="",D.value=!0;const t="Preparing Documents";try{const a={timestamp:L().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},l=s.logs?[...s.logs]:[];l.unshift(a),I.value=s.id;const g={...s,logs:l};await $fetch(`${A.value}/api/registrar/${I.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:g}),s.logs=l;const u=d.value.findIndex(y=>y.id===s.id);u!==-1&&(d.value[u].logs=l),Ae.value[s.id]=!0,await $fetch(`${A.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await ee(),k.value="✅ Confirm and email sent successfully!",setTimeout(()=>{k.value=""},3e3)}catch(a){console.error("Error verifying and sending email:",a),C.value="❌ Failed to verify and send email.",setTimeout(()=>{C.value=""},3e3)}finally{D.value=!1,N.value=!1}},ss=async s=>{k.value="",C.value="",D.value=!0;const t="Releasing Documents";try{const a={timestamp:L().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},l=s.logs?[...s.logs]:[];l.unshift(a),I.value=s.id;const g={...s,logs:l};await $fetch(`${A.value}/api/registrar/${I.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:g}),s.logs=l;const u=d.value.findIndex(y=>y.id===s.id);u!==-1&&(d.value[u].logs=l),Me.value[s.id]=!0,await $fetch(`${A.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await ee(),k.value="✅ Confirm and email sent successfully!",setTimeout(()=>{k.value=""},3e3)}catch(a){console.error("Error verifying and sending email:",a),C.value="❌ Failed to verify and send email.",setTimeout(()=>{C.value=""},3e3)}finally{D.value=!1,B.value=!1}},ls=async s=>{k.value="",C.value="",D.value=!0;const t="Transaction Closed";try{const a={timestamp:L().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},l=s.logs?[...s.logs]:[];l.unshift(a),I.value=s.id;const g={...s,logs:l};await $fetch(`${A.value}/api/registrar/${I.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:g}),s.logs=l;const u=d.value.findIndex(y=>y.id===s.id);u!==-1&&(d.value[u].logs=l),De.value[s.id]=!0,await $fetch(`${A.value}/api/registrar/status/transaction-closed/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await ee(),k.value="✅ Confirm and email sent successfully!",setTimeout(()=>{k.value=""},3e3)}catch(a){console.error("Error verifying and sending email:",a),C.value="❌ Failed to verify and send email.",setTimeout(()=>{C.value=""},3e3)}finally{D.value=!1,z.value=!1}},as=async s=>{xe.value=!0,s.follow_up_remarks="Kindly upload the receipt to this page: https://lsu.edu.ph/registrar/track";const t={...h.value,date_graduated_last_attended:L(h.value.date_graduated_last_attended).format("LL")};try{await $fetch(A.value+"/api/registrar/payment/fees/",{method:"POST",headers:{"Content-Type":"application/json"},body:t}),Ee.value=!0,setTimeout(()=>{Ee.value=!1},3e3)}catch(a){console.error("Error sending email:",a)}finally{xe.value=!1,os(s)}},os=async s=>{k.value="",C.value="",O.value=!0;const t="Assessment";try{const a={timestamp:L().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},l=s.logs?[...s.logs]:[];l.unshift(a),I.value=s.id;const g={...s,logs:l};await $fetch(`${A.value}/api/registrar/${I.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:g}),s.logs=l;const u=d.value.findIndex(y=>y.id===s.id);u!==-1&&(d.value[u].logs=l),je.value[s.id]=!0,await $fetch(`${A.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await ee(),k.value="✅ Confirm and email sent successfully!",setTimeout(()=>{k.value=""},3e3)}catch(a){console.error("Error verifying and sending email:",a),C.value="❌ Failed to verify and send email.",setTimeout(()=>{C.value=""},3e3)}finally{O.value=!1}},J=()=>{Q.value=!1,X.value=!1,N.value=!1,B.value=!1,z.value=!1,$.value=!1,x.value=null,ie.value=null},rs=s=>{J(),x.value=s,$.value=!0,j.value=!0,Jt.value=""},fe=()=>{$.value=!1,j.value=P()},ns=s=>{J(),x.value=s,X.value=!0,j.value=!0,h.value.fullname=`${s.firstname} ${s.middlename} ${s.lastname}`,h.value.email=s.email,h.value.course=s.course,h.value.tracking_id=s.tracking_id,h.value.college=s.college,h.value.date_graduated_last_attended=L(s.date_graduated_last_attended).format("YYYY-MM-DD"),console.log("currentItemInfo.value.date_graduated_last_attended",h.value.date_graduated_last_attended);const t=s.type_document_requests||[];h.value.detail_fees=t.map(a=>Ke.value[a]?{fee_name:a,amount:Ke.value[a]}:{fee_name:a,amount:0}),he(),console.log("tracking id:",h.value.tracking_id)},Ye=()=>{X.value=!1,x.value=null,j.value=P()},is=s=>{J(),ie.value=s,Q.value=!0,j.value=!0},Ne=()=>{Q.value=!1,ie.value=null,j.value=P()},ds=async s=>{J(),x.value=s,N.value=!0,j.value=!0,await Zt(s.tracking_id)},Be=()=>{N.value=!1,x.value=null,j.value=P()},us=s=>{J(),x.value=s,B.value=!0,j.value=!0},ze=()=>{B.value=!1,x.value=null,j.value=P()},cs=s=>{J(),x.value=s,z.value=!0,j.value=!0},Oe=()=>{z.value=!1,x.value=null,j.value=P()},P=()=>X.value||N.value||B.value||z.value||$.value||W.value||Q.value||K.value,q=i(""),qe=i([{value:"Arts and Sciences, Engineering, Architecture, Computer Studies",label:"Arts and Sciences, Engineering, Architecture, Computer Studies"},{value:"Business, Commerce, Accountancy",label:"Business, Commerce, Accountancy"},{value:"Education / Graduate Studies",label:"Education / Graduate Studies"},{value:"Nursing / Tourism and Hospitality Management",label:"Nursing / Tourism and Hospitality Management"},{value:"Criminology / BS Psychology",label:"Criminology / BS Psychology"}]);i(null),i("asc");const Ge=i(!1);Vs(async()=>{const s=H.user.email,t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Business, Commerce, Accountancy","cba.registrar@lsu.edu.ph":"Business, Commerce, Accountancy","cte.registrar@lsu.edu.ph":"Education / Graduate Studies","onlinerequest@lsu.edu.ph":"Nursing / Tourism and Hospitality Management","ccje.registrar@lsu.edu.ph":"Criminology / BS Psychology"},a=["jorenleeluna24@gmail.com","registrar@lsu.edu.ph","jason.yap@lsu.edu.ph"],l=[...a,...Object.keys(t)];window.addEventListener("keydown",g=>{g.key==="Escape"&&W.value&&ce()}),H.user.isAuthenticated&&l.includes(s)?(a.includes(s)?Ge.value=!0:q.value=t[s]||"",await Ue(),be.push("/registrar/dashboard"),ke()):be.push("/unauthorized")});let Z=null,j=i(!1),_e=i(!1);const ge=i(!1),ke=()=>{Z&&clearInterval(Z),Z=setInterval(async()=>{!P()&&!_e.value&&!D.value&&!O.value&&!ge.value&&(await ee(),await fs())},dr)},ve=()=>{Z&&(clearInterval(Z),Z=null)},fs=async()=>{ve();try{const s=d.value;if(!s||!Array.isArray(s)||s.length===0)return;const t={},a=[];s.forEach(l=>{if(l.tracking_id)if(t[l.tracking_id]){const g=t[l.tracking_id],u=new Date(g.created_at)>new Date(l.created_at)?g.id:l.id;a.push(u)}else t[l.tracking_id]=l});for(const l of a)console.log(`Removing duplicate item with ID: ${l}`),await $fetch(A.value+"/api/registrar/"+l+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});a.length>0&&(console.log(`Removed ${a.length} duplicate entries`),await Ue())}catch(s){console.error("Error checking for duplicates:",s)}finally{ke()}},Ce=i({}),je=i({}),Ae=i({}),Me=i({}),De=i({}),Se=()=>{!d.value||!Array.isArray(d.value)||d.value.forEach(s=>{s&&s.id&&(Ce.value[s.id]=gs(s))})},Te=()=>{!d.value||!Array.isArray(d.value)||d.value.forEach(s=>{s&&s.id&&(je.value[s.id]=vs(s))})},Ie=()=>{!d.value||!Array.isArray(d.value)||d.value.forEach(s=>{s&&s.id&&(Ae.value[s.id]=ps(s))})},$e=()=>{!d.value||!Array.isArray(d.value)||d.value.forEach(s=>{s&&s.id&&(Me.value[s.id]=ms(s))})},Pe=()=>{!d.value||!Array.isArray(d.value)||d.value.forEach(s=>{s&&s.id&&(De.value[s.id]=xs(s))})},gs=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Reviewed and Verified")),vs=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Assessment")),ps=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Preparing Documents")),ms=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Releasing Documents")),xs=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Transaction Closed"));ne(()=>d.value,()=>{Se(),Te(),Ie(),$e(),Pe()},{deep:!0});const ee=async()=>{if(!ge.value){ge.value=!0;try{const s=await $fetch(A.value+"/api/registrar/list").catch(()=>[])||[],t=(a,l)=>{const g=new Map((a||[]).map(y=>[y.id,y])),u=[];for(const y of l||[])y&&g.has(y.id)?(Object.assign(g.get(y.id),y),u.push(g.get(y.id))):y&&u.push(y);return u};if(Array.isArray(s)&&(G.value.length>0?(G.value=t(G.value,s),Le()):d.value.length===0?d.value=s:d.value=t(d.value,s),Se(),Te(),Ie(),$e(),Pe(),x.value)){const a=s.find(l=>l.id===x.value.id);a&&Object.assign(x.value,a)}}catch(s){console.error("Error fetching list items quietly:",s)}finally{ge.value=!1}}},Ue=async()=>{pe.value=!0;try{const s=await $fetch(A.value+"/api/registrar/list").catch(t=>(console.error("Fetch error:",t),[]));d.value=Array.isArray(s)?s:[],G.value=[],me.value="",Se(),Te(),Ie(),$e(),Pe()}catch(s){console.error("Error fetching list items:",s),d.value=[]}finally{pe.value=!1}};Gt(()=>{ve()});const hs=()=>{be.push("/registrar/login"),H.removeToken()},b=i([]),te=i(!1),Ve=F(()=>b.value.length===ae.value.length&&ae.value.length>0),ys=()=>{console.log("selectAllItems called"),console.log("allSelected.value:",Ve.value),ve(),_e.value=!0,Ve.value?b.value=[]:(console.log("filteredByCollege.value:",ae.value),b.value=ae.value.map(s=>s.id)),console.log("selectedItems.value:",b.value),ke(),_e.value=!1},ws=()=>{b.value.length!==0&&(K.value=!0,j.value=!0)},bs=()=>{K.value=!1,j.value=P()},_s=async()=>{if(b.value.length!==0)try{te.value=!0;for(const s of b.value)await $fetch(A.value+"/api/registrar/"+s+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});console.log(`${b.value.length} items deleted successfully`),b.value=[],await Ue(),K.value=!1,j.value=P()}catch(s){console.error("Error deleting items:",s)}finally{te.value=!1}},se=F(()=>{let s=[...d.value];return R.value==="done"?s=s.filter(t=>{var a;return(a=t.logs)==null?void 0:a.some(l=>{var u;return(((u=l==null?void 0:l.status_remarks)==null?void 0:u.toLowerCase())||"").includes("transaction closed")})}):R.value==="pending"&&(s=s.filter(t=>{var a;return(a=t.logs)==null?void 0:a.every(l=>{var u;return!(((u=l==null?void 0:l.status_remarks)==null?void 0:u.toLowerCase())||"").includes("transaction closed")})})),Fs.orderBy(s,"created_at","asc")}),ks=s=>se.value.filter(t=>{var a;return t.college===s&&((a=t.logs)==null?void 0:a.some(l=>{var u;return(((u=l==null?void 0:l.status_remarks)==null?void 0:u.toLowerCase())||"").includes("transaction closed")}))}).length,Cs=s=>se.value.filter(t=>{var a;return t.college===s&&((a=t.logs)==null?void 0:a.every(l=>{var u;return!(((u=l==null?void 0:l.status_remarks)==null?void 0:u.toLowerCase())||"").includes("transaction closed")}))}).length,js=s=>se.value.filter(t=>t.college===s).length,As=s=>{const t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Business, Commerce, Accountancy","cba.registrar@lsu.edu.ph":"Business, Commerce, Accountancy","cte.registrar@lsu.edu.ph":"Education / Graduate Studies","onlinerequest@lsu.edu.ph":"Nursing / Tourism and Hospitality Management","ccje.registrar@lsu.edu.ph":"Criminology / BS Psychology"};return Object.keys(t).filter(a=>t[a]===s)},pe=i(!0),U=i(1),me=i(""),G=i([]),Ee=i(!1),xe=i(!1),He=F(()=>Math.ceil(se.value.length/Re)),le=F(()=>{const s=(U.value-1)*Re,t=s+Re;return se.value.slice(s,t)}),ae=F(()=>{if(console.log("filteredByCollege computed"),console.log("selectedCollege.value:",q.value),console.log("paginatedListItems.value:",le.value),!q.value||!q.value)return le.value;const s=le.value.filter(t=>t.college===q.value);return console.log("filtered:",s),s}),Ms=F(()=>{const s=[];let t=Math.max(1,U.value-Math.floor(we/2)),a=Math.min(He.value,t+we-1);a-t+1<we&&(t=Math.max(1,a-we+1));for(let l=t;l<=a;l++)s.push(l);return s});Gt(()=>{window.removeEventListener("keydown",s=>{s.key==="Escape"&&W.value&&ce()}),ve()});const Le=()=>{U.value=1,G.value.length===0&&d.value.length>0&&(G.value=[...d.value]);const s=me.value.toLowerCase().trim(),t=G.value.length>0?G.value:d.value;d.value=t.filter(a=>a?Object.keys(a).some(l=>typeof a[l]=="string"?a[l].toLowerCase().includes(s):!1):!1),b.value=[]},V=F(()=>{var s;return!((s=x.value)!=null&&s.logs)||!Array.isArray(x.value.logs)?[]:[...x.value.logs].sort((t,a)=>{const l=L(t.timestamp,"MMMM DD, YYYY h:mm:ss A"),g=L(a.timestamp,"MMMM DD, YYYY h:mm:ss A");return l.valueOf()-g.valueOf()})});ne(d,s=>{console.log("listItems updated:",s)}),ne(q,()=>{b.value=[]}),ne(R,()=>{b.value=[]});const Ds=F(()=>H.user.email==="jorenleeluna24@gmail.com"||H.user.email==="registrar@lsu.edu.ph"),h=i({payment_id:"PID"+L().valueOf(),fullname:"",email:"",course:"",college:"",date_graduated_last_attended:"",total:"0",tracking_id:"",receipt_image_url:[],detail_fees:[]}),Ke=i({"Transcript of Records":85,"Transfer of Credentials (Honorable Dismissal)":0,"CAV (Certification, Authentication, Verification)":0,"Credential Evaluations (WES, CGFNS, NCLEX, SpanTran, IES, etc.)":0}),Ss=()=>{h.value.detail_fees.push({fee_name:"",amount:0}),he()},Ts=s=>{h.value.detail_fees.splice(s,1),he()},he=()=>{let s=0;h.value.detail_fees.forEach(a=>{s+=Number((a.amount||0).toString())});const t=s.toFixed(2);h.value.total=t};ne(()=>h.value.detail_fees,()=>he(),{deep:!0});const Is=F(()=>{var s,t;return(t=(s=h.value)==null?void 0:s.detail_fees)==null?void 0:t.some(a=>!a.fee_name||a.fee_name.trim()==="")});return(s,t)=>{const a=$s;return r(),o("div",null,[e("div",Ys,[w(e("div",Ns,[e("div",Bs,[e("div",zs,[e("div",Os,[t[22]||(t[22]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",qs,p(v(H).user.email),1)]),e("div",{onClick:t[0]||(t[0]=l=>Qt(M)?M.value=!v(M):M=!v(M)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:c(["fa text-3xl text-white",v(M)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[23]||(t[23]=Kt('<div class=""><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto"></div><div class="text-center"><h1 class="font-bold text-green-800 text-2xl">Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/registrar/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1))])],512),[[Ht,v(M)]]),e("div",Gs,[e("div",Hs,[e("div",Ks,[e("div",{onClick:t[1]||(t[1]=l=>Qt(M)?M.value=!v(M):M=!v(M)),class:"w-auto flex items-center lg:px-1.5"},[e("i",{class:c(["fa text-3xl text-white",v(M)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),t[24]||(t[24]=e("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Registrar ",-1))]),e("button",{onClick:hs,class:"flex hover:font-bold pt-1"},t[25]||(t[25]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)]))])]),v(Ds)?(r(),o("div",Qs,[e("div",Xs,[(r(!0),o(T,null,Y(qe.value,l=>(r(),o("div",{key:l.value,class:"bg-gray-100 border border-gray-300 rounded-lg px-2 py-2 shadow-sm w-full"},[e("div",Ws,p(l.label),1),e("div",Js,p(As(l.value).join(", ")),1),e("div",Zs,[e("span",el," Pending: "+p(Cs(l.value)),1),e("span",tl," Done: "+p(ks(l.value)),1),e("span",sl," Total: "+p(js(l.value)),1)])]))),128))])])):m("",!0),e("div",null,[e("div",ll,[w(e("div",al,[t[95]||(t[95]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-1 text-xs uppercase"}," All Request Lists ",-1)),k.value?(r(),o("div",ol,[e("p",rl,p(k.value),1)])):m("",!0),C.value?(r(),o("div",nl,[e("p",il,p(C.value),1)])):m("",!0),e("div",dl,[e("div",ul,[e("div",cl,[e("button",{onClick:ys,class:"flex items-center text-xs px-2 py-1 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 transition"},p(v(Ve)?"Deselect All":"Select All"),1),e("button",{onClick:ws,disabled:b.value.length===0,class:c([b.value.length===0?"bg-pink-100 text-red-300 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700","flex items-center text-xs px-2 py-1 rounded-md transition whitespace-nowrap"])},[t[26]||(t[26]=e("i",{class:"fa fa-trash mr-1"},null,-1)),E(" ("+p(b.value.length)+") ",1)],10,fl)]),Ge.value?(r(),o("div",gl,[w(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>q.value=l),class:"w-full text-xs px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},[t[27]||(t[27]=e("option",{value:""},"All Colleges",-1)),(r(!0),o(T,null,Y(qe.value,l=>(r(),o("option",{key:l.value,value:l.value},p(l.label),9,vl))),128))],512),[[Xt,q.value]])])):m("",!0),e("div",pl,[w(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>me.value=l),type:"search",placeholder:"Search",class:"text-xs w-full border border-gray-300 rounded-md px-2 py-1 pr-8 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",onKeyup:Es(Le,["enter"])},null,544),[[_,me.value]]),e("button",{onClick:Le,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-green-600"},t[28]||(t[28]=[e("i",{class:"fa fa-search"},null,-1)]))]),e("div",ml,[e("button",{onClick:t[4]||(t[4]=l=>R.value="all"),class:c([R.value==="all"?"bg-blue-600 text-white":"bg-white text-blue-600 border hover:bg-blue-600 hover:text-white","text-xs border border-blue-600 px-2 py-1 rounded-full transition"])}," All ",2),e("button",{onClick:t[5]||(t[5]=l=>R.value="pending"),class:c([R.value==="pending"?"bg-red-600 text-white":"bg-white text-red-600 border hover:bg-red-600 hover:text-white","text-xs border border-red-600 px-2 py-1 rounded-full transition"])}," Pending ",2),e("button",{onClick:t[6]||(t[6]=l=>R.value="done"),class:c([R.value==="done"?"bg-green-600 text-white":"bg-white text-green-600 border hover:bg-green-600 hover:text-white","text-xs border border-green-600 px-2 py-1 rounded-full transition"])}," Done ",2)])])]),e("div",xl,[e("div",hl,[pe.value?(r(),o("div",yl,t[29]||(t[29]=[Kt('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(r(),o("div",wl,[v(le).length>0?(r(),o("div",bl,[(r(!0),o(T,null,Y(v(ae),(l,g)=>{var u,y,oe,ye,Qe,Xe,We,Je,Ze,et,tt,st,lt,at,ot,rt,nt,it,dt,ut,ct,ft,gt,vt,pt,mt,xt,ht,yt,wt,bt,_t,kt,Ct,jt,At,Mt,Dt,St,Tt,It,$t,Pt,Ut,Vt,Et,Lt,Rt,Ft,Yt,Nt,Bt,zt,Ot,qt;return r(),o("div",{class:"flex items-center h-auto shadow lg:mb-0 mb-3 border-gray-200",key:g},[e("div",_l,[e("div",kl,[w(e("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":t[7]||(t[7]=n=>b.value=n),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"},null,8,Cl),[[Rs,b.value]])])]),e("div",{class:c(["w-full border-l lg:flex items-center",g%2?"bg-gray-100":""])},[e("div",jl,[e("div",null,[e("div",Al,[e("div",Ml,[e("div",Dl,[t[30]||(t[30]=e("span",{class:"mr-1"},"Tracking ID:",-1)),e("span",Sl,p(l.tracking_id),1)])])])])]),e("div",Tl,[e("div",Il,[e("div",$l,[t[31]||(t[31]=e("i",{class:"fa fa-user mr-2.5"},null,-1)),E(" "+p(l.lastname)+", "+p(l.firstname)+" "+p(l.middlename),1)])]),$.value&&x.value===l?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:fe},[e("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":$.value,"scale-95 opacity-0":!$.value}]),onClick:t[8]||(t[8]=S(()=>{},["stop"]))},[e("div",Pl,[e("h3",Ul," Status Logs - "+p(((u=x.value)==null?void 0:u.tracking_id)||"N/A"),1),e("button",{onClick:fe,class:"text-gray-400 hover:text-gray-500"},t[32]||(t[32]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",Vl,[!((y=x.value)!=null&&y.logs)||x.value.logs.length===0?(r(),o("div",El," No logs available ")):(r(),o("div",Ll,[(r(!0),o(T,null,Y(v(V),(n,f)=>(r(),o("div",{key:f,class:c(["border-l-4 rounded-r text-[10px]",f===v(V).length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[e("div",Rl,[e("div",{class:c(["font-medium w-9/12",f===v(V).length-1?"text-green-800 text-sm":"text-gray-500"])},[e("div",{class:c(["w-full bg-transparent focus:outline-none px-1",f===v(V).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},p(n.status_remarks),3)],2),e("div",Fl,[e("div",{class:c(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",f===v(V).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},p(n.timestamp),3)])])],2))),128))]))])],2)])):m("",!0),Q.value&&ie.value===l?(r(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Ne},[e("div",{class:c(["bg-white rounded-lg shadow-xl p-6 w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":Q.value,"scale-95 opacity-0":!Q.value}]),onClick:t[9]||(t[9]=S(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[34]||(t[34]=e("h3",{class:"text-lg font-medium text-gray-900"}," Personal Information ",-1)),e("button",{onClick:Ne,class:"text-gray-400 hover:text-gray-500"},t[33]||(t[33]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",Yl,[e("div",Nl,[e("div",Bl,[t[36]||(t[36]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-user text-green-600"})],-1)),e("div",zl,[t[35]||(t[35]=e("p",{class:"text-sm font-medium"}," Fullname ",-1)),e("p",Ol,p(l.firstname)+" "+p(l.middlename)+" "+p(l.lastname),1)])]),e("div",ql,[t[38]||(t[38]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-bookmark text-green-600"})],-1)),e("div",Gl,[t[37]||(t[37]=e("p",{class:"text-sm font-medium"}," Tracking ID ",-1)),e("p",Hl,p(l.tracking_id),1)])]),e("div",Kl,[t[40]||(t[40]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-envelope text-green-600"})],-1)),e("div",Ql,[t[39]||(t[39]=e("p",{class:"font-medium text-gray-900"}," Email ",-1)),w(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.email=n},null,8,Xl),[[_,l.email]])])]),e("div",Wl,[t[42]||(t[42]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-phone text-green-600"})],-1)),e("div",Jl,[t[41]||(t[41]=e("p",{class:"font-medium text-gray-900"}," Contact Number ",-1)),w(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.contact_number=n},null,8,Zl),[[_,l.contact_number]])])]),e("div",ea,[t[44]||(t[44]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-birthday-cake text-green-500"})],-1)),e("div",ta,[t[43]||(t[43]=e("p",{class:"font-medium text-gray-900"}," Date of Birth ",-1)),w(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.birthdate=n},null,8,sa),[[_,l.birthdate]])])]),e("div",la,[t[46]||(t[46]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-female text-green-500"})],-1)),e("div",aa,[t[45]||(t[45]=e("p",{class:"font-medium text-gray-900"}," Mother's Maiden Name ",-1)),w(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.mother_maiden_name=n},null,8,oa),[[_,l.mother_maiden_name]])])]),e("div",ra,[t[49]||(t[49]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-graduation-cap text-green-500"})],-1)),e("div",na,[t[48]||(t[48]=e("p",{class:"font-medium text-gray-900"}," ICC / LSU Graduate? ",-1)),w(e("select",{class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.alumni=n},t[47]||(t[47]=[e("option",{value:"yes"},"Alumnus",-1),e("option",{value:"no"}," Non-Alumnus ",-1)]),8,ia),[[Xt,l.alumni]])])]),e("div",da,[t[51]||(t[51]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-university text-green-500"})],-1)),e("div",ua,[t[50]||(t[50]=e("p",{class:"font-medium text-gray-900"}," College ",-1)),w(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.college=n},null,8,ca),[[_,l.college]])])]),e("div",fa,[t[53]||(t[53]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-book text-green-500"})],-1)),e("div",ga,[t[52]||(t[52]=e("p",{class:"font-medium text-gray-900"}," Course ",-1)),w(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.course=n},null,8,va),[[_,l.course]])])]),e("div",pa,[t[55]||(t[55]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-calendar text-green-500"})],-1)),e("div",ma,[t[54]||(t[54]=e("p",{class:"font-medium text-gray-900"}," Academic Year Graduated or Attended ",-1)),w(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.year_graduated_last_attended=n},null,8,xa),[[_,l.year_graduated_last_attended]])])])]),e("div",ha,[e("div",ya,[e("div",wa,[t[62]||(t[62]=e("div",{class:"font-bold text-sm mr-1 text-center"}," IDs and Documents: ",-1)),e("div",ba,[l?(r(),o("span",_a,[e("a",{onClick:S(n=>{var f;return ue((f=l.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i))==null?void 0:f[0])},["prevent"])},[(Qe=(ye=(oe=l.valid_id_front)==null?void 0:oe[0])==null?void 0:ye.url)!=null&&Qe.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?(r(),o("img",{key:0,src:(Xe=l.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i))==null?void 0:Xe[0],class:"cursor-pointer rounded-sm border-2 border-green-800 w-7 h-7 hover:opacity-80 transition-opacity"},null,8,Ca)):m("",!0)],8,ka),(Ze=(Je=(We=l.valid_id_front)==null?void 0:We[0])==null?void 0:Je.url)!=null&&Ze.match(/https:\/\/.*?\.(pdf)/i)?(r(),o("a",{key:0,href:(st=(tt=(et=l.valid_id_front)==null?void 0:et[0])==null?void 0:tt.url.match(/https:\/\/.*?\.(pdf)/i))==null?void 0:st[0],target:"_blank",download:""},t[56]||(t[56]=[e("i",{class:"fa fa-file-pdf text-red-700 text-2xl","aria-hidden":"true"},null,-1)]),8,ja)):m("",!0),(ot=(at=(lt=l.valid_id_front)==null?void 0:lt[0])==null?void 0:at.url)!=null&&ot.match(/https:\/\/.*?\.(docx)/i)?(r(),o("a",{key:1,href:(it=(nt=(rt=l.valid_id_front)==null?void 0:rt[0])==null?void 0:nt.url.match(/https:\/\/.*?\.(docx)/i))==null?void 0:it[0],target:"_blank",download:""},t[57]||(t[57]=[e("i",{class:"fa fa-file text-blue-800 text-2xl","aria-hidden":"true"},null,-1)]),8,Aa)):m("",!0),e("a",{onClick:S(n=>{var f;return ue((f=l.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i))==null?void 0:f[0])},["prevent"])},[(ct=(ut=(dt=l.valid_id_back)==null?void 0:dt[0])==null?void 0:ut.url)!=null&&ct.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?(r(),o("img",{key:0,src:(ft=l.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i))==null?void 0:ft[0],class:"cursor-pointer rounded-sm border-2 border-green-800 w-7 h-7 hover:opacity-80 transition-opacity"},null,8,Da)):m("",!0)],8,Ma),(pt=(vt=(gt=l.valid_id_back)==null?void 0:gt[0])==null?void 0:vt.url)!=null&&pt.match(/https:\/\/.*?\.(pdf)/i)?(r(),o("a",{key:2,href:(ht=(xt=(mt=l.valid_id_back)==null?void 0:mt[0])==null?void 0:xt.url.match(/https:\/\/.*?\.(pdf)/i))==null?void 0:ht[0],target:"_blank",download:""},t[58]||(t[58]=[e("i",{class:"fa fa-file-pdf text-red-700 text-2xl","aria-hidden":"true"},null,-1)]),8,Sa)):m("",!0),(bt=(wt=(yt=l.valid_id_back)==null?void 0:yt[0])==null?void 0:wt.url)!=null&&bt.match(/https:\/\/.*?\.(docx)/i)?(r(),o("a",{key:3,href:(Ct=(kt=(_t=l.valid_id_back)==null?void 0:_t[0])==null?void 0:kt.url.match(/https:\/\/.*?\.(docx)/i))==null?void 0:Ct[0],target:"_blank",download:""},t[59]||(t[59]=[e("i",{class:"fa fa-file text-blue-800 text-2xl","aria-hidden":"true"},null,-1)]),8,Ta)):m("",!0),e("a",{onClick:S(n=>{var f;return ue((f=l.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i))==null?void 0:f[0])},["prevent"])},[(Mt=(At=(jt=l.credential_evaluation_requests)==null?void 0:jt[0])==null?void 0:At.url)!=null&&Mt.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?(r(),o("img",{key:0,src:(Dt=l.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i))==null?void 0:Dt[0],class:"cursor-pointer rounded-sm border-2 border-green-800 w-7 h-7 hover:opacity-80 transition-opacity"},null,8,$a)):m("",!0)],8,Ia),(It=(Tt=(St=l.credential_evaluation_requests)==null?void 0:St[0])==null?void 0:Tt.url)!=null&&It.match(/https:\/\/.*?\.(pdf)/i)?(r(),o("a",{key:4,href:(Ut=(Pt=($t=l.credential_evaluation_requests)==null?void 0:$t[0])==null?void 0:Pt.url.match(/https:\/\/.*?\.(pdf)/i))==null?void 0:Ut[0],target:"_blank",download:""},t[60]||(t[60]=[e("i",{class:"fa fa-file-pdf text-red-700 text-2xl","aria-hidden":"true"},null,-1)]),8,Pa)):m("",!0),(Lt=(Et=(Vt=l.credential_evaluation_requests)==null?void 0:Vt[0])==null?void 0:Et.url)!=null&&Lt.match(/https:\/\/.*?\.(docx)/i)?(r(),o("a",{key:5,href:(Yt=(Ft=(Rt=l.credential_evaluation_requests)==null?void 0:Rt[0])==null?void 0:Ft.url.match(/https:\/\/.*?\.(docx)/i))==null?void 0:Yt[0],target:"_blank",download:""},t[61]||(t[61]=[e("i",{class:"fa fa-file text-blue-800 text-2xl","aria-hidden":"true"},null,-1)]),8,Ua)):m("",!0)])):m("",!0)])])]),l.details?(r(),o("div",Va,[t[63]||(t[63]=e("p",{class:"font-bold mr-1"}," Purpose and Details: ",-1)),E(" "+p(l.details),1)])):m("",!0),e("div",Ea,[t[65]||(t[65]=e("p",{class:"font-bold text-gray-900 py-2"}," Type of Document Request ",-1)),e("div",La,[(r(!0),o(T,null,Y((l==null?void 0:l.type_document_requests)||[],(n,f)=>(r(),o("span",{key:f,class:"px-2 py-0.5 text-xs rounded bg-green-100 text-green-800 border border-green-600"},p(n),1))),128))]),e("div",Ra,[t[64]||(t[64]=e("label",{class:"text-sm font-bold text-gray-900 mb-2"},"Follow Up Remarks:",-1)),w(e("textarea",{class:"text-xs shadow-md py-1 px-2 w-full border-2 border-black rounded-md",placeholder:"Follow Up Remarks","onUpdate:modelValue":n=>l.follow_up_remarks=n,rows:"3"},null,8,Fa),[[_,l.follow_up_remarks]])])])])]),e("div",Ya,[e("div",{onClick:n=>es(l),class:c(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":O.value}])},[O.value?(r(),o("span",Ba,t[66]||(t[66]=[e("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),E(" Notifying... ")]))):(r(),o("span",za,"Notify"))],10,Na)])],2)])):m("",!0),X.value&&x.value===l?(r(),o("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Ye},[e("div",{class:c(["bg-white rounded-lg shadow-xl p-6 w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":X.value,"scale-95 opacity-0":!X.value}]),onClick:t[14]||(t[14]=S(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[68]||(t[68]=e("h3",{class:"text-lg font-medium text-gray-900"}," Payment Information ",-1)),e("button",{onClick:Ye,class:"text-gray-400 hover:text-gray-500"},t[67]||(t[67]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",Oa,[e("div",qa,[e("div",Ga,[e("div",Ha,[t[69]||(t[69]=e("label",{class:"text-xs text-gray-900 whitespace-nowrap"},"Department / College",-1)),w(e("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=n=>h.value.college=n),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[_,h.value.college]])])]),e("div",Ka,[e("div",Qa,[t[70]||(t[70]=e("label",{class:"text-xs text-gray-900"},"Course",-1)),w(e("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=n=>h.value.course=n),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[_,h.value.course]])])]),e("div",Xa,[e("div",Wa,[t[71]||(t[71]=e("label",{class:"text-xs text-gray-900 whitespace-nowrap"},"Date Graduated/Last Attended",-1)),w(e("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=n=>h.value.date_graduated_last_attended=n),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"Month Day Year"},null,512),[[_,h.value.date_graduated_last_attended]])])]),e("div",Ja,[e("div",Za,[t[72]||(t[72]=e("label",{class:"text-xs text-gray-900"},"Total",-1)),w(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=n=>h.value.total=n),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[_,h.value.total]])])])]),e("div",eo,[e("div",to,[t[74]||(t[74]=e("p",{class:"font-medium text-gray-900 text-center py-2"}," Detail Fees ",-1)),(r(!0),o(T,null,Y((Nt=h.value)==null?void 0:Nt.detail_fees,(n,f)=>(r(),o("div",{key:f,class:"flex w-full gap-x-3"},[e("div",so,[e("label",{for:"fee_name_"+f,class:"w-full text-xs font-medium text-gray-700"}," Fee Name: ",8,lo),w(e("input",{type:"text",id:"fee_name_"+f,"onUpdate:modelValue":re=>n.fee_name=re,class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},null,8,ao),[[_,n.fee_name]])]),e("div",oo,[e("label",{for:"fee_amount_"+f,class:"w-full text-xs font-medium text-gray-700"}," Amount: ",8,ro),w(e("input",{type:"number",id:"fee_amount_"+f,"onUpdate:modelValue":re=>n.amount=re,class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},null,8,no),[[_,n.amount]])]),e("button",{onClick:re=>Ts(f),class:"px-1.5 py-1 text-red-500 hover:text-white text-xs bg-white border border-red-600 rounded-md hover:bg-red-600"},t[73]||(t[73]=[e("i",{class:"fa fa-close"},null,-1)]),8,io)]))),128))]),e("button",{onClick:Ss,class:"mx-auto px-3 py-1 text-sm bg-green-500 text-white rounded-md hover:bg-green-600 mt-5"}," Add Fee ")]),e("div",uo,[t[75]||(t[75]=e("label",{class:"text-xs text-gray-900 mb-2"}," Follow Up Remarks: ",-1)),w(e("textarea",{class:"text-xs shadow-md py-1 px-2 w-full border-2 border-black",placeholder:"Follow Up Remarks","onUpdate:modelValue":n=>l.follow_up_remarks=n,rows:"3"},null,8,co),[[_,l.follow_up_remarks]])]),e("div",fo,[e("button",{onClick:n=>as(l),disabled:v(Is)||xe.value,class:"px-5 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[xe.value?(r(),o(T,{key:0},[t[76]||(t[76]=e("svg",{class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)),t[77]||(t[77]=E(" Sending... "))],64)):(r(),o(T,{key:1},[E(" Send Payment ")],64))],8,go)]),Ee.value?(r(),o("div",vo," ✅ Payment details sent successfully! ")):m("",!0)])],2)])):m("",!0),$.value&&x.value===l?(r(),o("div",{key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:fe},[e("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":$.value,"scale-95 opacity-0":!$.value}]),onClick:t[15]||(t[15]=S(()=>{},["stop"]))},[e("div",po,[e("h3",mo," Status Logs - "+p(((Bt=x.value)==null?void 0:Bt.tracking_id)||"N/A"),1),e("button",{onClick:fe,class:"text-gray-400 hover:text-gray-500"},t[78]||(t[78]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",xo,[!((zt=x.value)!=null&&zt.logs)||x.value.logs.length===0?(r(),o("div",ho," No logs available ")):(r(),o("div",yo,[(r(!0),o(T,null,Y(v(V),(n,f)=>(r(),o("div",{key:f,class:c(["border-l-4 rounded-r text-[10px]",f===v(V).length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[e("div",wo,[e("div",{class:c(["font-medium w-9/12",f===v(V).length-1?"text-green-800 text-sm":"text-gray-500"])},[e("div",{class:c(["w-full bg-transparent focus:outline-none px-1",f===v(V).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},p(n.status_remarks),3)],2),e("div",bo,[e("div",{class:c(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",f===v(V).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},p(n.timestamp),3)])])],2))),128))]))])],2)])):m("",!0)]),N.value&&x.value===l?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Be},[e("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":N.value,"scale-95 opacity-0":!N.value}]),onClick:t[16]||(t[16]=S(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[80]||(t[80]=e("h3",{class:"text-lg font-medium text-gray-900"}," Verifying Receipts and Preparing Documents ",-1)),e("button",{onClick:Be,class:"text-gray-400 hover:text-gray-500"},t[79]||(t[79]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",null,[(qt=(Ot=de.value)==null?void 0:Ot.receipt_image_url)!=null&&qt.length?(r(),o("div",_o,[t[81]||(t[81]=e("p",{class:"text-sm text-gray-900 mb-1 font-bold"}," Uploaded Receipt(s): ",-1)),e("ul",ko,[(r(!0),o(T,null,Y(de.value.receipt_image_url,(n,f)=>(r(),o("li",{class:"hover:border-4 hover:border-black",key:f},[e("a",{href:"#",onClick:S(re=>ue(n.url),["prevent"]),class:"block"},[e("img",{src:n.url,class:"w-20 h-20 cursor-zoom-in"},null,8,jo)],8,Co)]))),128))])])):m("",!0)]),e("div",Ao,[t[82]||(t[82]=e("label",{class:"text-xs text-gray-900 font-bold mb-2"}," Follow Up Remarks: ",-1)),w(e("textarea",{class:"text-xs shadow-md py-1 px-2 w-full border-2 border-black",placeholder:"Follow Up Remarks","onUpdate:modelValue":n=>l.follow_up_remarks=n,rows:"3"},null,8,Mo),[[_,l.follow_up_remarks]])]),e("div",Do,[e("div",{onClick:n=>ts(l),class:c(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":D.value}])},[D.value?(r(),o("span",To,t[83]||(t[83]=[e("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),E(" Notifying... ")]))):(r(),o("span",Io,"Notify"))],10,So)])],2)])):m("",!0),B.value&&x.value===l?(r(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:ze},[e("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":B.value,"scale-95 opacity-0":!B.value}]),onClick:t[17]||(t[17]=S(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[85]||(t[85]=e("h3",{class:"text-lg font-medium text-gray-900"}," Releasing Documents ",-1)),e("button",{onClick:ze,class:"text-gray-400 hover:text-gray-500"},t[84]||(t[84]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",$o,[t[86]||(t[86]=e("label",{class:"text-xs text-gray-900 font-bold mb-2"},"Follow Up Remarks:",-1)),w(e("textarea",{class:"text-xs shadow-md py-1 px-2 w-full border-2 border-black",placeholder:"Follow Up Remarks","onUpdate:modelValue":n=>l.follow_up_remarks=n,rows:"5"},null,8,Po),[[_,l.follow_up_remarks]])]),e("div",{onClick:n=>ss(l),class:c(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":D.value}])},[D.value?(r(),o("span",Vo,t[87]||(t[87]=[e("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),E(" Confirming... ")]))):(r(),o("span",Eo,"Confirm"))],10,Uo)],2)])):m("",!0),z.value&&x.value===l?(r(),o("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Oe},[e("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":z.value,"scale-95 opacity-0":!z.value}]),onClick:t[18]||(t[18]=S(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[89]||(t[89]=e("h3",{class:"text-lg font-medium text-gray-900"}," Transaction Closed ",-1)),e("button",{onClick:Oe,class:"text-gray-400 hover:text-gray-500"},t[88]||(t[88]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",{onClick:n=>ls(l),class:c(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":D.value}])},[D.value?(r(),o("span",Ro,t[90]||(t[90]=[e("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),E(" Confirming... ")]))):(r(),o("span",Fo,"Confirm"))],10,Lo)],2)])):m("",!0),e("div",Yo,[e("div",No,[e("div",Bo,[e("button",{onClick:n=>is(l),class:c(["w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",Ce.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700"])}," 1. Verify Info ",10,zo),e("button",{class:c(["w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",je.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700"]),onClick:n=>ns(l)}," 2. Assessment ",10,Oo),e("button",{onClick:n=>ds(l),class:c([Ae.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 3. Preparing Documents ",10,qo),e("button",{onClick:n=>us(l),class:c([Me.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 4. Releasing Documents ",10,Go),e("button",{onClick:n=>cs(l),class:c([De.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 5. Transaction Closed ",10,Ho),e("button",{class:"lg:w-fit w-full px-2 py-1 text-green-700 cursor-pointer bg-white border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",onClick:n=>rs(l)},t[91]||(t[91]=[e("i",{class:"fa fa-ellipsis-h"},null,-1)]),8,Ko)])])])],2)])}),128)),W.value?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:ce},[e("div",{class:"relative max-w-4xl max-h-[90vh] overflow-auto bg-white p-2 rounded-lg",onClick:t[19]||(t[19]=S(()=>{},["stop"]))},[e("button",{onClick:ce,class:"absolute top-2 right-2 text-gray-700 hover:text-red-500 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-md"},t[92]||(t[92]=[e("i",{class:"fa fa-close"},null,-1)])),e("img",{src:Fe.value,class:"max-w-full max-h-[85vh] object-contain"},null,8,Qo)])])):m("",!0),v(K)?(r(),o("div",Xo,[e("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":v(K),"scale-95 opacity-0":!v(K)}])},[e("div",Wo,[t[93]||(t[93]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[e("i",{class:"fa fa-exclamation-triangle text-red-600 text-xl"})],-1)),t[94]||(t[94]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Confirm Deletion ",-1)),e("p",Jo," Are you sure you want to delete "+p(b.value.length===1?"this record":"these "+b.value.length+" records")+"? This action cannot be undone. ",1)]),e("div",Zo,[e("button",{onClick:_s,class:"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:te.value},[te.value?(r(),o("i",tr)):m("",!0),E(" "+p(te.value?"Deleting...":"Delete"),1)],8,er),e("button",{onClick:bs,class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:te.value}," Cancel ",8,sr)])],2)])):m("",!0)])):m("",!0),v(se).length>0?(r(),o("div",lr,[e("button",{disabled:U.value===1,onClick:t[20]||(t[20]=l=>U.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,ar),(r(!0),o(T,null,Y(v(Ms),l=>(r(),o("button",{key:l,onClick:g=>U.value=l,class:c(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":U.value===l,"bg-gray-200":U.value!==l}])},p(l),11,or))),128)),e("button",{disabled:U.value===v(He),onClick:t[21]||(t[21]=l=>U.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,rr)])):pe.value?m("",!0):(r(),o("div",nr," No items found! "))]))])])],512),[[Ht,v(Wt)]])])])])]),e("div",ir,[Ls(a)])])}}};export{pr as default};
