import{_ as Xt}from"./BZEoR06M.js";import{k as Wt,l as Jt,r as i,p as Zt,D as ce,K as vt,m as N,c as o,a as t,f as b,i as gt,h as v,e as mt,t as g,X as pt,n as c,j as y,d as S,F as z,g as te,y as xt,aa as es,v as M,q as P,b as yt,o as n,s as ts,w as ss,ab as ls}from"./DCK7_Tsz.js";import{_ as as}from"./5JjjnmY2.js";import{h as B}from"./C5S46NFB.js";const os={class:"h-screen flex"},ns={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},rs={class:"w-full"},is={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},ds={class:"flex items-center w-full px-2"},us={class:"text-sm"},cs={class:"w-full overflow-y-scroll"},fs={class:"bg-green-800 fixed w-full z-10"},vs={class:"flex mx-auto justify-between py-2 px-3.5"},gs={key:0,class:"lg:mx-5 mx-2 shadow-lg border-2 border-green-600 rounded-lg mt-16 lg:mb-0 mb-3"},ms={class:"flex border-b lg:font-bold border-green-800 uppercase lg:text-sm text-[8px] py-2"},ps={class:"flex items-center lg:text-sm text-xs"},xs={class:"lg:w-7/12 w-8/12 text-left lg:px-5 px-2 py-1"},ys={class:"text-xs text-gray-500"},hs={class:"w-2/12 text-center"},bs={class:"w-2/12 text-center"},ws={class:"w-2/12 text-center"},_s={class:""},ks={class:"w-full lg:p-5 px-2 py-2"},Cs={class:"relative border"},js={key:0,class:"fixed inset-0 z-[1000] bg-gray-800 bg-opacity-90 flex items-center justify-center"},As={class:"text-white text-lg font-semibold text-center px-6"},Ms={key:1,class:"fixed inset-0 z-[1000] bg-red-900 bg-opacity-90 flex items-center justify-center"},Ds={class:"text-white text-lg font-semibold text-center px-6"},Ss={class:"w-full flex justify-between items-center mb-4 px-2 py-2 bg-white shadow rounded-md"},Ts={class:"lg:flex justify-between w-full gap-x-3"},Is={class:"flex justify-between gap-x-2"},$s={class:""},Ls=["disabled"],Ps={key:0,class:"flex items-center lg:my-0 my-2"},Es=["value"],Vs={class:"flex gap-x-2"},Us={class:"flex items-center w-full lg:mt-0 mt-2"},Rs={class:"relative w-full"},Ys={class:""},Bs={class:"appointment-lists mx-auto text-xs"},Fs={key:0,class:"text-center"},Ns={key:1},zs={key:0,class:"gap-4"},Os={class:"w-fit flex px-2"},qs={class:""},Gs=["value"],Hs={class:"lg:w-4/12 w-full flex items-center"},Ks={class:"w-full"},Qs={class:"w-full lg:px-3 lg:flex items-center"},Xs={class:"text-[10px] font-light whitespace-nowrap"},Ws={class:"font-bold"},Js={key:0,class:"w-full lg:block flex items-center lg:py-0 py-2 lg:px-3"},Zs={class:"text-[10px] font-light w-full flex"},el={class:"font-bold flex"},tl={class:"lg:w-4/12 w-full"},sl={class:"w-full my-1"},ll={class:"w-full text-xs font-bold uppercase text-green-800 py-1 px-1 flex items-center"},al={class:"flex justify-between items-center mb-4 border-b pb-3"},ol={class:"text-lg font-medium text-gray-900"},nl={class:"mb-6 max-h-[40vh] overflow-y-auto"},rl={key:0,class:"text-center text-gray-500 py-4"},il={key:1,class:"space-y-3"},dl={class:"flex items-center justify-between capitalize gap-x-3"},ul={class:"text-gray-500 w-3/12"},cl={class:""},fl={class:"flex items-center"},vl={class:"ml-3 text-sm w-full"},gl={class:"text-xs shadow-md py-1 px-2"},ml={class:"flex items-center"},pl={class:"ml-3 text-sm w-full"},xl={class:"text-xs shadow-md py-1 px-2"},yl={class:"flex items-center"},hl={class:"ml-3 text-sm w-full"},bl=["onUpdate:modelValue"],wl={class:"flex items-center"},_l={class:"ml-3 text-sm w-full"},kl=["onUpdate:modelValue"],Cl={class:"flex items-center"},jl={class:"ml-3 text-sm w-full"},Al=["onUpdate:modelValue"],Ml={class:"flex items-center"},Dl={class:"ml-3 text-sm w-full"},Sl=["onUpdate:modelValue"],Tl={class:"flex items-center"},Il={class:"ml-3 text-sm w-full"},$l=["onUpdate:modelValue"],Ll={class:"flex items-center"},Pl={class:"ml-3 text-sm w-full"},El=["onUpdate:modelValue"],Vl={class:"flex items-center"},Ul={class:"ml-3 text-sm w-full"},Rl=["onUpdate:modelValue"],Yl={class:"flex items-center"},Bl={class:"ml-3 text-sm w-full"},Fl=["onUpdate:modelValue"],Nl={class:"w-full py-1"},zl={class:"lg:flex items-center gap-x-3"},Ol={class:"flex gap-x-3 w-fit mx-auto"},ql={key:0,class:"flex gap-x-3"},Gl=["onClick"],Hl=["src"],Kl=["onClick"],Ql=["src"],Xl=["onClick"],Wl=["src"],Jl=["onClick"],Zl={key:0},ea={key:1},ta={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-30"},sa={class:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm mx-4 text-center"},la={class:"border-4 border-[#eeeeee] px-3 py-3 my-3 rounded-lg"},aa={class:"flex w-full gap-x-2"},oa={class:"flex items-center mb-2 w-full lg:w-6/12"},na={class:"text-sm w-full"},ra={class:"flex items-center mb-2 w-full"},ia={class:"text-sm w-full"},da={class:"flex items-center mb-2 lg:w-fit w-full"},ua={class:"text-sm w-full"},ca={class:"flex items-center mb-2"},fa={class:"text-sm w-full"},va={class:"flex flex-col items-start w-fit mx-auto"},ga={class:"text-sm w-full"},ma=["for"],pa=["id","onUpdate:modelValue"],xa=["for"],ya=["id","onUpdate:modelValue"],ha=["onClick"],ba={class:"mt-4 mx-auto w-fit block"},wa=["onClick","disabled"],_a={key:0,class:"mt-3 text-center text-sm bg-green-100 text-green-800 border border-green-400 px-4 py-2 rounded w-full"},ka={class:"flex justify-between items-center mb-4 border-b pb-3"},Ca={class:"text-lg font-medium text-gray-900"},ja={class:"mb-6 max-h-[40vh] overflow-y-auto"},Aa={key:0,class:"text-center text-gray-500 py-4"},Ma={key:1,class:"space-y-3"},Da={class:"flex items-center justify-between capitalize gap-x-3"},Sa={class:"text-gray-500 w-3/12"},Ta={class:"flex items-center"},Ia={class:"ml-3 text-sm w-full"},$a=["onUpdate:modelValue"],La=["onClick"],Pa={key:0},Ea={key:1},Va=["onClick"],Ua={key:0},Ra={key:1},Ya=["onClick"],Ba={key:0},Fa={key:1},Na={class:"w-full"},za={class:"w-fit mx-auto"},Oa={class:"lg:w-fit w-full py-1 lg:gap-x-3 lg:flex lg:whitespace-nowrap text-left"},qa=["onClick"],Ga=["onClick"],Ha=["onClick"],Ka=["onClick"],Qa=["onClick"],Xa=["onClick"],Wa=["src"],Ja={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300"},Za={class:"text-center"},eo={class:"text-sm text-gray-500 mb-6"},to={class:"flex justify-center gap-4"},so=["disabled"],lo={key:0,class:"fa fa-spinner fa-spin mr-2"},ao=["disabled"],oo={key:1,class:"flex justify-center my-4 pb-10"},no=["disabled"],ro=["onClick"],io=["disabled"],uo={key:2,class:"text-center my-5"},co={class:"fixed bottom-0 w-full"},fo=1e3,Oe=500,be=4,yo={__name:"index",setup(vo){const we=Wt(),Q=Jt(),f=i([]);let ht=i(!0),D=i(!1),X=i(!1);const j=i(Q.mainDevServer);let E=i(null);const F=i("all"),se=i(!1),qe=i(""),W=i(!1),fe=i(null),V=i(!1),J=i(!1),O=i(!1),q=i(!1),G=i(!1),m=i(null),bt=i(""),w=i(""),_=i(""),H=i(!1),A=i(!1),Z=i(!1),_e=s=>{qe.value=s,se.value=!0,k.value=!0,document.body.style.overflow="hidden"},ve=()=>{se.value=!1,k.value=U(),document.body.style.overflow="auto"},wt=async s=>{var l;w.value="",_.value="",H.value=!0;const e="Reviewed and Verified",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===e.toLowerCase()){Z.value=!0,H.value=!1;return}try{const d={timestamp:B().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:e},u=s.logs?[...s.logs]:[];u.unshift(d),E.value=s.id;const T={...s,logs:u};await $fetch(`${j.value}/api/registrar/${E.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:T}),s.logs=u;const C=f.value.findIndex(I=>I.id===s.id);C!==-1&&(f.value[C].logs=u),Ae.value[s.id]=!0,await $fetch(`${j.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:e}}),await oe(),w.value="✅ Confirm and email sent successfully!",setTimeout(()=>{w.value=""},3e3)}catch(d){console.error("Error verifying and sending email:",d),_.value="❌ Failed to verify and send email.",setTimeout(()=>{_.value=""},3e3)}finally{H.value=!1}},_t=async s=>{var l;w.value="",_.value="",A.value=!0;const e="Preparing Documents",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===e.toLowerCase()){Z.value=!0,A.value=!1;return}try{const d={timestamp:B().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:e},u=s.logs?[...s.logs]:[];u.unshift(d),E.value=s.id;const T={...s,logs:u};await $fetch(`${j.value}/api/registrar/${E.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:T}),s.logs=u;const C=f.value.findIndex(I=>I.id===s.id);C!==-1&&(f.value[C].logs=u),De.value[s.id]=!0,await $fetch(`${j.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:e}}),await oe(),w.value="✅ Confirm and email sent successfully!",setTimeout(()=>{w.value=""},3e3)}catch(d){console.error("Error verifying and sending email:",d),_.value="❌ Failed to verify and send email.",setTimeout(()=>{_.value=""},3e3)}finally{A.value=!1,O.value=!1}},kt=async s=>{var l;w.value="",_.value="",A.value=!0;const e="Releasing Documents",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===e.toLowerCase()){Z.value=!0,A.value=!1;return}try{const d={timestamp:B().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:e},u=s.logs?[...s.logs]:[];u.unshift(d),E.value=s.id;const T={...s,logs:u};await $fetch(`${j.value}/api/registrar/${E.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:T}),s.logs=u;const C=f.value.findIndex(I=>I.id===s.id);C!==-1&&(f.value[C].logs=u),Se.value[s.id]=!0,await $fetch(`${j.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:e}}),await oe(),w.value="✅ Confirm and email sent successfully!",setTimeout(()=>{w.value=""},3e3)}catch(d){console.error("Error verifying and sending email:",d),_.value="❌ Failed to verify and send email.",setTimeout(()=>{_.value=""},3e3)}finally{A.value=!1,q.value=!1}},Ct=async s=>{var l;w.value="",_.value="",A.value=!0;const e="Transaction Closed",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===e.toLowerCase()){Z.value=!0,A.value=!1;return}try{const d={timestamp:B().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:e},u=s.logs?[...s.logs]:[];u.unshift(d),E.value=s.id;const T={...s,logs:u};await $fetch(`${j.value}/api/registrar/${E.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:T}),s.logs=u;const C=f.value.findIndex(I=>I.id===s.id);C!==-1&&(f.value[C].logs=u),Te.value[s.id]=!0,await $fetch(`${j.value}/api/registrar/status/transaction-closed/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:e}}),await oe(),w.value="✅ Confirm and email sent successfully!",setTimeout(()=>{w.value=""},3e3)}catch(d){console.error("Error verifying and sending email:",d),_.value="❌ Failed to verify and send email.",setTimeout(()=>{_.value=""},3e3)}finally{A.value=!1,G.value=!1}},jt=async s=>{ye.value=!0;const e={...x.value,date_graduated_last_attended:B(x.value.date_graduated_last_attended).format("LL")};try{await $fetch(j.value+"/api/registrar/payment/fees/",{method:"POST",headers:{"Content-Type":"application/json"},body:e}),ze.value=!0,setTimeout(()=>{ze.value=!1},3e3)}catch(a){console.error("Error sending email:",a)}finally{ye.value=!1,At(s)}},At=async s=>{var l;w.value="",_.value="",H.value=!0;const e="Assessment",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===e.toLowerCase()){Z.value=!0,H.value=!1;return}try{const d={timestamp:B().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:e},u=s.logs?[...s.logs]:[];u.unshift(d),E.value=s.id;const T={...s,logs:u};await $fetch(`${j.value}/api/registrar/${E.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:T}),s.logs=u;const C=f.value.findIndex(I=>I.id===s.id);C!==-1&&(f.value[C].logs=u),Me.value[s.id]=!0,await $fetch(`${j.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:e}}),await oe(),w.value="✅ Confirm and email sent successfully!",setTimeout(()=>{w.value=""},3e3)}catch(d){console.error("Error verifying and sending email:",d),_.value="❌ Failed to verify and send email.",setTimeout(()=>{_.value=""},3e3)}finally{H.value=!1}},le=()=>{W.value=!1,J.value=!1,O.value=!1,q.value=!1,G.value=!1,V.value=!1,m.value=null,fe.value=null},Mt=s=>{le(),m.value=s,V.value=!0,k.value=!0,bt.value="",document.body.style.overflow="hidden"},ge=()=>{V.value=!1,k.value=U(),document.body.style.overflow="auto"},Dt=s=>{le(),m.value=s,J.value=!0,k.value=!0,document.body.style.overflow="hidden",x.value.fullname=`${s.firstname} ${s.middlename} ${s.lastname}`,x.value.email=s.email,x.value.course=s.course,x.value.tracking_id=s.tracking_id,x.value.college=s.college,x.value.date_graduated_last_attended=B(s.date_graduated_last_attended).format("YYYY-MM-DD"),console.log("currentItemInfo.value.date_graduated_last_attended",x.value.date_graduated_last_attended);const e=s.type_document_requests||[];x.value.detail_fees=e.map(a=>Ze.value[a]?{fee_name:a,amount:Ze.value[a]}:{fee_name:a,amount:0}),xe(),console.log("tracking id:",x.value.tracking_id)},Ge=()=>{J.value=!1,m.value=null,k.value=U(),document.body.style.overflow="auto"},St=s=>{le(),fe.value=s,W.value=!0,k.value=!0,document.body.style.overflow="hidden"},He=()=>{W.value=!1,fe.value=null,k.value=U(),document.body.style.overflow="auto"},Tt=s=>{le(),m.value=s,O.value=!0,k.value=!0,document.body.style.overflow="hidden"},Ke=()=>{O.value=!1,m.value=null,k.value=U(),document.body.style.overflow="auto"},It=s=>{le(),m.value=s,q.value=!0,k.value=!0,document.body.style.overflow="hidden"},Qe=()=>{q.value=!1,m.value=null,k.value=U(),document.body.style.overflow="auto"},$t=s=>{le(),m.value=s,G.value=!0,k.value=!0,document.body.style.overflow="hidden"},Xe=()=>{G.value=!1,m.value=null,k.value=U(),document.body.style.overflow="auto"},U=()=>J.value||O.value||q.value||G.value||V.value||se.value||X.value||W.value,K=i(""),ke=i([{value:"Arts and Sciences, Engineering, Architecture, Computer Studies",label:"Arts and Sciences, Engineering, Architecture, Computer Studies"},{value:"Business, Commerce, Accountancy",label:"Business, Commerce, Accountancy"},{value:"Graduate School / Nursing",label:"Graduate School / Nursing"},{value:"BSAM, Toursim, Hotel Management, Education",label:"BSAM, Toursim, Hotel Management, Education"},{value:"Criminology / BS Psychology",label:"Criminology / BS Psychology"}]),$=i(null),L=i("asc"),We=i(!1);Zt(async()=>{const s=Q.user.email,e={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Business, Commerce, Accountancy","cba.registrar@lsu.edu.ph":"Business, Commerce, Accountancy","onlinerequest@lsu.edu.ph":"Graduate School / Nursing","cte.registrar@lsu.edu.ph":"BSAM, Toursim, Hotel Management, Education","ccje.registrar@lsu.edu.ph":"Criminology / BS Psychology"},a=["jorenleeluna24@gmail.com","registrar@lsu.edu.ph","jason.yap@lsu.edu.ph"],l=[...a,...Object.keys(e)];window.addEventListener("keydown",d=>{d.key==="Escape"&&se.value&&ve()}),Q.user.isAuthenticated&&l.includes(s)?(a.includes(s)?We.value=!0:K.value=e[s]||"",await Ve(),we.push("/registrar/dashboard"),je()):we.push("/unauthorized")});let ae=null,k=i(!1),Ce=i(!1);const je=()=>{ae&&clearInterval(ae),ae=setInterval(async()=>{!U()&&!Ce.value&&(await oe(),await Lt())},fo)},me=()=>{ae&&(clearInterval(ae),ae=null)},Lt=async()=>{me();try{const s=f.value;if(!s||!Array.isArray(s)||s.length===0)return;const e={},a=[];s.forEach(l=>{if(l.tracking_id)if(e[l.tracking_id]){const d=e[l.tracking_id],u=new Date(d.created_at)>new Date(l.created_at)?d.id:l.id;a.push(u)}else e[l.tracking_id]=l});for(const l of a)console.log(`Removing duplicate item with ID: ${l}`),await $fetch(j.value+"/api/registrar/"+l+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});a.length>0&&(console.log(`Removed ${a.length} duplicate entries`),await Ve())}catch(s){console.error("Error checking for duplicates:",s)}finally{je()}},Ae=i({}),Me=i({}),De=i({}),Se=i({}),Te=i({}),Ie=()=>{!f.value||!Array.isArray(f.value)||f.value.forEach(s=>{s&&s.id&&(Ae.value[s.id]=Pt(s))})},$e=()=>{!f.value||!Array.isArray(f.value)||f.value.forEach(s=>{s&&s.id&&(Me.value[s.id]=Et(s))})},Le=()=>{!f.value||!Array.isArray(f.value)||f.value.forEach(s=>{s&&s.id&&(De.value[s.id]=Vt(s))})},Pe=()=>{!f.value||!Array.isArray(f.value)||f.value.forEach(s=>{s&&s.id&&(Se.value[s.id]=Ut(s))})},Ee=()=>{!f.value||!Array.isArray(f.value)||f.value.forEach(s=>{s&&s.id&&(Te.value[s.id]=Rt(s))})},Pt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(e=>e.status_remarks&&e.status_remarks.includes("Reviewed and Verified")),Et=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(e=>e.status_remarks&&e.status_remarks.includes("Assessment")),Vt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(e=>e.status_remarks&&e.status_remarks.includes("Preparing Documents")),Ut=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(e=>e.status_remarks&&e.status_remarks.includes("Releasing Documents")),Rt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(e=>e.status_remarks&&e.status_remarks.includes("Transaction Closed"));ce(()=>f.value,()=>{Ie(),$e(),Le(),Pe(),Ee()},{deep:!0});const oe=async()=>{try{const s=await $fetch(j.value+"/api/registrar/list").catch(e=>e.data)||[];if(s.length>0&&(ee.value.length>0?(ee.value=s,Ne()):f.value=s,Ie(),$e(),Le(),Pe(),Ee(),m.value)){const e=s.find(a=>a.id===m.value.id);e&&(m.value={...e})}}catch(s){console.error("Error fetching list items quietly:",s)}},Ve=async()=>{pe.value=!0;try{const s=await $fetch(j.value+"/api/registrar/list").catch(e=>(console.error("Fetch error:",e),[]));f.value=Array.isArray(s)?s:[],ee.value=[],ue.value="",Ie(),$e(),Le(),Pe(),Ee()}catch(s){console.error("Error fetching list items:",s),f.value=[]}finally{pe.value=!1}};vt(()=>{me()});const Yt=()=>{we.push("/registrar/login"),Q.removeToken()},h=i([]),ne=i(!1),Ue=N(()=>h.value.length===de.value.length&&de.value.length>0),Bt=()=>{console.log("selectAllItems called"),console.log("allSelected.value:",Ue.value),me(),Ce.value=!0,Ue.value?h.value=[]:(console.log("filteredByCollege.value:",de.value),h.value=de.value.map(s=>s.id)),console.log("selectedItems.value:",h.value),je(),Ce.value=!1},Ft=()=>{h.value.length!==0&&(X.value=!0,k.value=!0)},Nt=()=>{X.value=!1,k.value=U()},zt=async()=>{if(h.value.length!==0)try{ne.value=!0;for(const s of h.value)await $fetch(j.value+"/api/registrar/"+s+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});console.log(`${h.value.length} items deleted successfully`),h.value=[],await Ve(),X.value=!1,k.value=U()}catch(s){console.error("Error deleting items:",s)}finally{ne.value=!1}},re=N(()=>{let s=[...f.value];return F.value==="done"?s=s.filter(e=>{var a;return(a=e.logs)==null?void 0:a.some(l=>{var u;return(((u=l==null?void 0:l.status_remarks)==null?void 0:u.toLowerCase())||"").includes("transaction closed")})}):F.value==="pending"&&(s=s.filter(e=>{var a;return(a=e.logs)==null?void 0:a.every(l=>{var u;return!(((u=l==null?void 0:l.status_remarks)==null?void 0:u.toLowerCase())||"").includes("transaction closed")})})),as.orderBy(s,"created_at","asc")}),Re=s=>re.value.filter(e=>{var a;return e.college===s&&((a=e.logs)==null?void 0:a.some(l=>{var u;return(((u=l==null?void 0:l.status_remarks)==null?void 0:u.toLowerCase())||"").includes("transaction closed")}))}).length,Ye=s=>re.value.filter(e=>{var a;return e.college===s&&((a=e.logs)==null?void 0:a.every(l=>{var u;return!(((u=l==null?void 0:l.status_remarks)==null?void 0:u.toLowerCase())||"").includes("transaction closed")}))}).length,Be=s=>re.value.filter(e=>e.college===s).length,Fe=s=>{$.value===s?L.value=L.value==="asc"?"desc":"asc":($.value=s,L.value="asc"),ke.value.sort((e,a)=>{let l,d;return s==="Pending"?(l=Ye(e.value),d=Ye(a.value)):s==="Done"?(l=Re(e.value),d=Re(a.value)):s==="Total"?(l=Be(e.value),d=Be(a.value)):(l=e.label,d=a.label),l<d?L.value==="asc"?-1:1:l>d?L.value==="asc"?1:-1:0})},Ot=s=>{const e={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Business, Commerce, Accountancy","cba.registrar@lsu.edu.ph":"Business, Commerce, Accountancy","onlinerequest@lsu.edu.ph":"Graduate School / Nursing","cte.registrar@lsu.edu.ph":"BSAM, Toursim, Hotel Management, Education","ccje.registrar@lsu.edu.ph":"Criminology / BS Psychology"};return Object.keys(e).filter(a=>e[a]===s)},pe=i(!0),R=i(1),Je=N(()=>Math.ceil(re.value.length/Oe)),ie=N(()=>{const s=(R.value-1)*Oe,e=s+Oe;return re.value.slice(s,e)}),de=N(()=>{if(console.log("filteredByCollege computed"),console.log("selectedCollege.value:",K.value),console.log("paginatedListItems.value:",ie.value),!K.value||!K.value)return ie.value;const s=ie.value.filter(e=>e.college===K.value);return console.log("filtered:",s),s}),qt=N(()=>{const s=[];let e=Math.max(1,R.value-Math.floor(be/2)),a=Math.min(Je.value,e+be-1);a-e+1<be&&(e=Math.max(1,a-be+1));for(let l=e;l<=a;l++)s.push(l);return s});vt(()=>{window.removeEventListener("keydown",s=>{s.key==="Escape"&&se.value&&ve()}),me()});const ue=i(""),ee=i([]),Ne=()=>{R.value=1,ee.value.length===0&&f.value.length>0&&(ee.value=[...f.value]),ue.value.toLowerCase().trim();const s=ee.value.length>0?ee.value:f.value;f.value=s.filter(e=>{if(!e)return!1;const a=ue.value.toLowerCase().trim();return Object.keys(e).some(l=>typeof e[l]=="string"?e[l].toLowerCase().includes(a):!1)}),h.value=[]},Y=N(()=>{var s;return!((s=m.value)!=null&&s.logs)||!Array.isArray(m.value.logs)?[]:[...m.value.logs].sort((e,a)=>{const l=B(e.timestamp,"MMMM DD, YYYY h:mm:ss A"),d=B(a.timestamp,"MMMM DD, YYYY h:mm:ss A");return l.valueOf()-d.valueOf()})});ce(f,s=>{console.log("listItems updated:",s)}),ce(K,()=>{h.value=[]}),ce(F,()=>{h.value=[]});const Gt=N(()=>Q.user.email==="jorenleeluna24@gmail.com"||Q.user.email==="registrar@lsu.edu.ph"),x=i({payment_id:"PID"+B().valueOf(),fullname:"",email:"",course:"",college:"",date_graduated_last_attended:"",total:"0",tracking_id:"",detail_fees:[]}),Ze=i({"Transcript of Records":85,"Transfer of Credentials (Honorable Dismissal)":0,"CAV (Certification, Authentication, Verification)":0,"Credential Evaluations (WES, CGFNS, NCLEX, SpanTran, IES, etc.)":0}),Ht=()=>{x.value.detail_fees.push({fee_name:"",amount:0}),xe()},Kt=s=>{x.value.detail_fees.splice(s,1),xe()},xe=()=>{let s=0;x.value.detail_fees.forEach(a=>{s+=Number((a.amount||0).toString())});const e=s.toFixed(2);x.value.total=e};ce(()=>x.value.detail_fees,()=>xe(),{deep:!0});const Qt=N(()=>{var s,e;return(e=(s=x.value)==null?void 0:s.detail_fees)==null?void 0:e.some(a=>!a.fee_name||a.fee_name.trim()==="")}),ze=i(!1),ye=i(!1);return(s,e)=>{const a=Xt;return n(),o("div",null,[t("div",os,[b(t("div",ns,[t("div",rs,[t("div",is,[t("div",ds,[e[26]||(e[26]=t("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),t("h1",us,g(v(Q).user.email),1)]),t("div",{onClick:e[0]||(e[0]=l=>pt(D)?D.value=!v(D):D=!v(D)),class:"w-10 px-1.5 lg:hidden flex"},[t("i",{class:c(["fa text-3xl text-white",v(D)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),e[27]||(e[27]=mt('<div class=""><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto"></div><div class="text-center"><h1 class="font-bold text-green-800 text-2xl">Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/registrar/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1))])],512),[[gt,v(D)]]),t("div",cs,[t("div",fs,[t("div",vs,[t("div",{onClick:e[1]||(e[1]=l=>pt(D)?D.value=!v(D):D=!v(D)),class:"w-auto flex items-center lg:px-1.5"},[t("i",{class:c(["fa text-3xl text-white",v(D)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),e[28]||(e[28]=t("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Registrar ",-1))]),t("button",{onClick:Yt,class:"flex hover:font-bold pt-1"},e[29]||(e[29]=[t("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),t("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)]))])]),v(Gt)?(n(),o("div",gs,[t("div",null,[t("ul",ms,[e[33]||(e[33]=t("li",{class:"lg:w-7/12 border border-transparent w-full lg:px-5 text-left px-2"}," Department ",-1)),t("li",{onClick:e[2]||(e[2]=l=>Fe("Pending")),class:"lg:w-2/12 w-3/12 text-center cursor-pointer"},[e[30]||(e[30]=S(" Pending ")),t("i",{class:c({"fa fa-sort-up":$.value==="Pending"&&L.value==="asc","fa fa-sort-down":$.value==="Pending"&&L.value==="desc","fa fa-sort":$.value!=="Pending"})},null,2)]),t("li",{onClick:e[3]||(e[3]=l=>Fe("Done")),class:"lg:w-2/12 w-3/12 text-center cursor-pointer"},[e[31]||(e[31]=S(" Done ")),t("i",{class:c({"fa fa-sort-up":$.value==="Done"&&L.value==="asc","fa fa-sort-down":$.value==="Done"&&L.value==="desc","fa fa-sort":$.value!=="Done"})},null,2)]),t("li",{onClick:e[4]||(e[4]=l=>Fe("Total")),class:"lg:w-2/12 w-3/12 text-center cursor-pointer"},[e[32]||(e[32]=S(" Total ")),t("i",{class:c({"fa fa-sort-up":$.value==="Total"&&L.value==="asc","fa fa-sort-down":$.value==="Total"&&L.value==="desc","fa fa-sort":$.value!=="Total"})},null,2)])])]),t("div",null,[t("ul",null,[(n(!0),o(z,null,te(ke.value,l=>(n(),o("li",{class:"border-b",key:l.value},[t("ul",ps,[t("li",xs,[S(g(l.label)+" ",1),t("div",ys,g(Ot(l.value).join(", ")),1)]),t("li",hs,g(Ye(l.value)),1),t("li",bs,g(Re(l.value)),1),t("li",ws,g(Be(l.value)),1)])]))),128))])])])):y("",!0),t("div",_s,[t("div",ks,[b(t("div",Cs,[e[94]||(e[94]=t("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),w.value?(n(),o("div",js,[t("p",As,g(w.value),1)])):y("",!0),_.value?(n(),o("div",Ms,[t("p",Ds,g(_.value),1)])):y("",!0),t("div",Ss,[t("div",Ts,[t("div",Is,[t("div",$s,[t("button",{onClick:Bt,class:"whitespace-nowrap flex items-center px-2 bg-gray-200 hover:bg-gray-300 text-gray-700 lg:px-3 pr-2 py-1.5 rounded-md transition-colors duration-200 lg:text-sm text-xs"},g(v(Ue)?"Deselect All":"Select All"),1)]),t("div",{class:c(h.value.length===0?"hidden":"")},[t("button",{onClick:Ft,class:c(["flex items-center hover:bg-red-600 text-white px-3 lg:py-1 py-0.5 rounded-md transition-colors duration-200 disabled:opacity-50 whitespace-nowrap",h.value.length===0?"bg-pink-200":"bg-red-500"]),disabled:h.value.length===0},[e[34]||(e[34]=t("i",{class:"fa fa-trash mr-2"},null,-1)),S(" ("+g(h.value.length)+") ",1)],10,Ls)],2)]),We.value?(n(),o("div",Ps,[b(t("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>K.value=l),class:"lg:px-3 px-1 lg:py-1.5 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs"},[e[35]||(e[35]=t("option",{value:""},"All Colleges",-1)),(n(!0),o(z,null,te(ke.value,l=>(n(),o("option",{key:l.value,value:l.value},g(l.label),9,Es))),128))],512),[[xt,K.value]])])):y("",!0),t("div",Vs,[t("button",{onClick:e[6]||(e[6]=l=>F.value="all"),class:c(["px-2 py-1 rounded-xl border",F.value==="all"?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white"])}," All ",2),t("button",{onClick:e[7]||(e[7]=l=>F.value="pending"),class:c(["px-2 py-1 rounded-xl border",F.value==="pending"?"bg-red-600 text-white border-red-600":"bg-white text-red-600 border-red-600 hover:bg-red-600 hover:text-white"])}," Pending ",2),t("button",{onClick:e[8]||(e[8]=l=>F.value="done"),class:c(["px-2 py-1 rounded-xl border",F.value==="done"?"bg-green-600 text-white border-green-600":"bg-white text-green-600 border-green-600 hover:bg-green-600 hover:text-white"])}," Done ",2)]),t("div",Us,[t("div",Rs,[b(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>ue.value=l),type:"search",placeholder:"Search",class:"lg:px-3 px-2 lg:py-1.5 py-1 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs",onKeyup:es(Ne,["enter"])},null,544),[[M,ue.value]]),t("button",{onClick:Ne,class:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-green-600"},e[36]||(e[36]=[t("i",{class:"fa fa-search"},null,-1)]))])])])]),t("div",Ys,[t("div",Bs,[pe.value?(n(),o("div",Fs,e[37]||(e[37]=[mt('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(n(),o("div",Ns,[v(ie).length>0?(n(),o("div",zs,[(n(!0),o(z,null,te(v(de),(l,d)=>{var u,T,C,I,et,tt,st,lt,at,ot,nt,rt,it,dt,ut,ct,ft;return n(),o("div",{class:"flex items-center h-auto shadow lg:mb-0 mb-3 border-gray-200",key:d},[t("div",Os,[t("div",qs,[b(t("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":e[10]||(e[10]=r=>h.value=r),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"},null,8,Gs),[[ts,h.value]])])]),t("div",{class:c(["w-full px-2 py-1.5 border-l lg:flex items-center",d%2?"bg-gray-100":""])},[t("div",Hs,[t("div",null,[t("div",Ks,[t("div",Qs,[t("div",Xs,[e[38]||(e[38]=t("span",{class:"mr-1"},"Tracking ID:",-1)),t("span",Ws,g(l.tracking_id),1)])])]),l.details?(n(),o("div",Js,[t("div",Zs,[e[39]||(e[39]=t("span",{class:"mr-4"},"Purpose:",-1)),t("span",el,g(l.details),1)])])):y("",!0)])]),t("div",tl,[t("div",sl,[t("div",ll,[e[40]||(e[40]=t("i",{class:"fa fa-user mr-2.5"},null,-1)),S(" "+g(l.lastname)+", "+g(l.firstname)+" "+g(l.middlename),1)])]),V.value&&m.value===l?(n(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:ge},[t("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":V.value,"scale-95 opacity-0":!V.value}]),onClick:e[11]||(e[11]=P(()=>{},["stop"]))},[t("div",al,[t("h3",ol," Status Logs - "+g(((u=m.value)==null?void 0:u.tracking_id)||"N/A"),1),t("button",{onClick:ge,class:"text-gray-400 hover:text-gray-500"},e[41]||(e[41]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",nl,[!((T=m.value)!=null&&T.logs)||m.value.logs.length===0?(n(),o("div",rl," No logs available ")):(n(),o("div",il,[(n(!0),o(z,null,te(v(Y),(r,p)=>(n(),o("div",{key:p,class:c(["border-l-4 rounded-r text-[10px]",p===v(Y).length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[t("div",dl,[t("div",{class:c(["font-medium w-9/12",p===v(Y).length-1?"text-green-800 text-sm":"text-gray-500"])},[t("div",{class:c(["w-full bg-transparent focus:outline-none px-1",p===v(Y).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},g(r.status_remarks),3)],2),t("div",ul,[t("div",{class:c(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",p===v(Y).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},g(r.timestamp),3)])])],2))),128))]))])],2)])):y("",!0),W.value&&fe.value===l?(n(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:He},[t("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":W.value,"scale-95 opacity-0":!W.value}]),onClick:e[12]||(e[12]=P(()=>{},["stop"]))},[t("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[e[43]||(e[43]=t("h3",{class:"text-lg font-medium text-gray-900"}," Personal Information ",-1)),t("button",{onClick:He,class:"text-gray-400 hover:text-gray-500"},e[42]||(e[42]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",cl,[t("div",fl,[e[45]||(e[45]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-user text-green-600"})],-1)),t("div",vl,[e[44]||(e[44]=t("p",{class:"text-sm font-medium"}," Fullname ",-1)),t("p",gl,g(l.firstname)+" "+g(l.middlename)+" "+g(l.lastname),1)])]),t("div",ml,[e[47]||(e[47]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-bookmark text-green-600"})],-1)),t("div",pl,[e[46]||(e[46]=t("p",{class:"text-sm font-medium"}," Tracking ID ",-1)),t("p",xl,g(l.tracking_id),1)])]),t("div",yl,[e[49]||(e[49]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-envelope text-green-600"})],-1)),t("div",hl,[e[48]||(e[48]=t("p",{class:"font-medium text-gray-900"}," Email ",-1)),b(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":r=>l.email=r},null,8,bl),[[M,l.email]])])]),t("div",wl,[e[51]||(e[51]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-phone text-green-600"})],-1)),t("div",_l,[e[50]||(e[50]=t("p",{class:"font-medium text-gray-900"}," Contact Number ",-1)),b(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":r=>l.contact_number=r},null,8,kl),[[M,l.contact_number]])])]),t("div",Cl,[e[53]||(e[53]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-birthday-cake text-green-500"})],-1)),t("div",jl,[e[52]||(e[52]=t("p",{class:"font-medium text-gray-900"}," Date of Birth ",-1)),b(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":r=>l.birthdate=r},null,8,Al),[[M,l.birthdate]])])]),t("div",Ml,[e[55]||(e[55]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-female text-green-500"})],-1)),t("div",Dl,[e[54]||(e[54]=t("p",{class:"font-medium text-gray-900"}," Mother's Maiden Name ",-1)),b(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":r=>l.mother_maiden_name=r},null,8,Sl),[[M,l.mother_maiden_name]])])]),t("div",Tl,[e[58]||(e[58]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-graduation-cap text-green-500"})],-1)),t("div",Il,[e[57]||(e[57]=t("p",{class:"font-medium text-gray-900"}," ICC / LSU Graduate? ",-1)),b(t("select",{class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":r=>l.alumni=r},e[56]||(e[56]=[t("option",{value:"yes"},"Alumnus",-1),t("option",{value:"no"},"Non-Alumnus",-1)]),8,$l),[[xt,l.alumni]])])]),t("div",Ll,[e[60]||(e[60]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-university text-green-500"})],-1)),t("div",Pl,[e[59]||(e[59]=t("p",{class:"font-medium text-gray-900"}," College ",-1)),b(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":r=>l.college=r},null,8,El),[[M,l.college]])])]),t("div",Vl,[e[62]||(e[62]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-book text-green-500"})],-1)),t("div",Ul,[e[61]||(e[61]=t("p",{class:"font-medium text-gray-900"}," Course ",-1)),b(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":r=>l.course=r},null,8,Rl),[[M,l.course]])])]),t("div",Yl,[e[64]||(e[64]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-calendar text-green-500"})],-1)),t("div",Bl,[e[63]||(e[63]=t("p",{class:"font-medium text-gray-900"}," Academic Year Graduated or Attended ",-1)),b(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":r=>l.year_graduated_last_attended=r},null,8,Fl),[[M,l.year_graduated_last_attended]])])]),t("div",Nl,[t("div",zl,[e[65]||(e[65]=t("div",{class:"font-bold text-[10px] mr-1 text-center"}," IDs and Documents: ",-1)),t("div",Ol,[l?(n(),o("span",ql,[(et=(I=(C=l.valid_id_front)==null?void 0:C[0])==null?void 0:I.url)!=null&&et.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(n(),o("a",{key:0,onClick:P(r=>{var p;return _e((p=l.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:p[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[t("img",{src:(tt=l.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:tt[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Hl)],8,Gl)):y("",!0),(at=(lt=(st=l.valid_id_back)==null?void 0:st[0])==null?void 0:lt.url)!=null&&at.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(n(),o("a",{key:1,onClick:P(r=>{var p;return _e((p=l.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:p[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[t("img",{src:(ot=l.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:ot[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Ql)],8,Kl)):y("",!0),(it=(rt=(nt=l.credential_evaluation_requests)==null?void 0:nt[0])==null?void 0:rt.url)!=null&&it.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(n(),o("a",{key:2,onClick:P(r=>{var p;return _e((p=l.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:p[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[t("img",{src:(dt=l.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:dt[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Wl)],8,Xl)):y("",!0)])):y("",!0)])])])]),t("div",{onClick:r=>wt(l),class:c(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":H.value}])},[H.value?(n(),o("span",Zl,e[66]||(e[66]=[t("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),S(" Verifying... ")]))):(n(),o("span",ea,"Verify"))],10,Jl)],2)])):y("",!0),yt(ls,{name:"fade"},{default:ss(()=>[Z.value?(n(),o("div",ta,[t("div",sa,[e[67]||(e[67]=t("h3",{class:"text-lg font-semibold text-red-600 mb-3"}," Duplicate Status ",-1)),e[68]||(e[68]=t("p",{class:"text-sm text-gray-700 mb-4"}," This status has already been added as the most recent update. ",-1)),t("button",{class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm",onClick:e[13]||(e[13]=r=>Z.value=!1)}," OK ")])])):y("",!0)]),_:1}),J.value&&m.value===l?(n(),o("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Ge},[t("div",{class:c(["bg-white rounded-lg shadow-xl p-6 w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":J.value,"scale-95 opacity-0":!J.value}]),onClick:e[18]||(e[18]=P(()=>{},["stop"]))},[t("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[e[70]||(e[70]=t("h3",{class:"text-lg font-medium text-gray-900"}," Payment Information ",-1)),t("button",{onClick:Ge,class:"text-gray-400 hover:text-gray-500"},e[69]||(e[69]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",la,[t("div",aa,[t("div",oa,[t("div",na,[e[71]||(e[71]=t("label",{class:"text-xs text-gray-900 whitespace-nowrap"},"Department / College",-1)),b(t("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=r=>x.value.college=r),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[M,x.value.college]])])]),t("div",ra,[t("div",ia,[e[72]||(e[72]=t("label",{class:"text-xs text-gray-900"},"Course",-1)),b(t("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=r=>x.value.course=r),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[M,x.value.course]])])]),t("div",da,[t("div",ua,[e[73]||(e[73]=t("label",{class:"text-xs text-gray-900 whitespace-nowrap"},"Date Graduated/Last Attended",-1)),b(t("input",{type:"date","onUpdate:modelValue":e[16]||(e[16]=r=>x.value.date_graduated_last_attended=r),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"Month Day Year"},null,512),[[M,x.value.date_graduated_last_attended]])])]),t("div",ca,[t("div",fa,[e[74]||(e[74]=t("label",{class:"text-xs text-gray-900"},"Total",-1)),b(t("input",{type:"number","onUpdate:modelValue":e[17]||(e[17]=r=>x.value.total=r),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[M,x.value.total]])])])]),t("div",va,[t("div",ga,[e[76]||(e[76]=t("p",{class:"font-medium text-gray-900 text-center py-2"}," Detail Fees ",-1)),(n(!0),o(z,null,te((ut=x.value)==null?void 0:ut.detail_fees,(r,p)=>(n(),o("div",{key:p,class:"flex items-center space-x-2 mb-1"},[t("label",{for:"fee_name_"+p,class:"text-xs font-medium text-gray-700"}," Fee Name: ",8,ma),b(t("input",{type:"text",id:"fee_name_"+p,"onUpdate:modelValue":he=>r.fee_name=he,class:"text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},null,8,pa),[[M,r.fee_name]]),t("label",{for:"fee_amount_"+p,class:"text-xs font-medium text-gray-700"}," Amount: ",8,xa),b(t("input",{type:"number",id:"fee_amount_"+p,"onUpdate:modelValue":he=>r.amount=he,class:"text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},null,8,ya),[[M,r.amount]]),t("button",{onClick:he=>Kt(p),class:"px-1.5 py-1 text-red-500 hover:text-white text-xs bg-white border border-red-600 rounded-md hover:bg-red-600"},e[75]||(e[75]=[t("i",{class:"fa fa-close"},null,-1)]),8,ha)]))),128))]),t("button",{onClick:Ht,class:"mx-auto px-3 py-1 text-sm bg-green-500 text-white rounded-md hover:bg-green-600 mt-5"}," Add Fee ")]),t("div",ba,[t("button",{onClick:r=>jt(l),disabled:v(Qt)||ye.value,class:"px-5 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[ye.value?(n(),o(z,{key:0},[e[77]||(e[77]=t("svg",{class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)),e[78]||(e[78]=S(" Sending... "))],64)):(n(),o(z,{key:1},[S(" Send Payment ")],64))],8,wa)]),ze.value?(n(),o("div",_a," ✅ Payment details sent successfully! ")):y("",!0)])],2)])):y("",!0),V.value&&m.value===l?(n(),o("div",{key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:ge},[t("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":V.value,"scale-95 opacity-0":!V.value}]),onClick:e[19]||(e[19]=P(()=>{},["stop"]))},[t("div",ka,[t("h3",Ca," Status Logs - "+g(((ct=m.value)==null?void 0:ct.tracking_id)||"N/A"),1),t("button",{onClick:ge,class:"text-gray-400 hover:text-gray-500"},e[79]||(e[79]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",ja,[!((ft=m.value)!=null&&ft.logs)||m.value.logs.length===0?(n(),o("div",Aa," No logs available ")):(n(),o("div",Ma,[(n(!0),o(z,null,te(v(Y),(r,p)=>(n(),o("div",{key:p,class:c(["border-l-4 rounded-r text-[10px]",p===v(Y).length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[t("div",Da,[t("div",{class:c(["font-medium w-9/12",p===v(Y).length-1?"text-green-800 text-sm":"text-gray-500"])},[t("div",{class:c(["w-full bg-transparent focus:outline-none px-1",p===v(Y).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},g(r.status_remarks),3)],2),t("div",Sa,[t("div",{class:c(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",p===v(Y).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},g(r.timestamp),3)])])],2))),128))]))])],2)])):y("",!0)]),O.value&&m.value===l?(n(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Ke},[t("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":O.value,"scale-95 opacity-0":!O.value}]),onClick:e[20]||(e[20]=P(()=>{},["stop"]))},[t("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[e[81]||(e[81]=t("h3",{class:"text-lg font-medium text-gray-900"}," Preparing Documents ",-1)),t("button",{onClick:Ke,class:"text-gray-400 hover:text-gray-500"},e[80]||(e[80]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",Ta,[t("div",Ia,[e[82]||(e[82]=t("p",{class:"font-medium text-gray-900"}," Follow Up Remarks: ",-1)),b(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full",placeholder:"Follow Up Remarks","onUpdate:modelValue":r=>l.follow_up_remarks=r},null,8,$a),[[M,l.follow_up_remarks]])])]),t("div",{onClick:r=>_t(l),class:c(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":A.value}])},[A.value?(n(),o("span",Pa,e[83]||(e[83]=[t("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),S(" Confirming... ")]))):(n(),o("span",Ea,"Confirm"))],10,La)],2)])):y("",!0),q.value&&m.value===l?(n(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Qe},[t("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":q.value,"scale-95 opacity-0":!q.value}]),onClick:e[21]||(e[21]=P(()=>{},["stop"]))},[t("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[e[85]||(e[85]=t("h3",{class:"text-lg font-medium text-gray-900"}," Releasing Documents ",-1)),t("button",{onClick:Qe,class:"text-gray-400 hover:text-gray-500"},e[84]||(e[84]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",{onClick:r=>kt(l),class:c(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":A.value}])},[A.value?(n(),o("span",Ua,e[86]||(e[86]=[t("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),S(" Confirming... ")]))):(n(),o("span",Ra,"Confirm"))],10,Va)],2)])):y("",!0),G.value&&m.value===l?(n(),o("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Xe},[t("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":G.value,"scale-95 opacity-0":!G.value}]),onClick:e[22]||(e[22]=P(()=>{},["stop"]))},[t("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[e[88]||(e[88]=t("h3",{class:"text-lg font-medium text-gray-900"}," Transaction Closed ",-1)),t("button",{onClick:Xe,class:"text-gray-400 hover:text-gray-500"},e[87]||(e[87]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",{onClick:r=>Ct(l),class:c(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":A.value}])},[A.value?(n(),o("span",Ba,e[89]||(e[89]=[t("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),S(" Confirming... ")]))):(n(),o("span",Fa,"Confirm"))],10,Ya)],2)])):y("",!0),t("div",Na,[t("div",za,[t("div",Oa,[t("button",{onClick:r=>St(l),class:c(["w-full lg:text-center text-left px-3 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",Ae.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700"])}," 1. Verify Info ",10,qa),t("button",{class:c(["w-full lg:text-center text-left px-3 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",Me.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700"]),onClick:r=>Dt(l)}," 2. Assessment ",10,Ga),t("button",{onClick:r=>Tt(l),class:c([De.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-3 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 3. Preparing Documents ",10,Ha),t("button",{onClick:r=>It(l),class:c([Se.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-3 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 4. Releasing Documents ",10,Ka),t("button",{onClick:r=>$t(l),class:c([Te.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-3 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 5. Transaction Closed ",10,Qa),t("button",{class:"lg:w-fit w-full px-2 py-1 text-green-700 cursor-pointer bg-white border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",onClick:r=>Mt(l)},e[90]||(e[90]=[t("i",{class:"fa fa-ellipsis-h"},null,-1)]),8,Xa)])])])],2)])}),128)),se.value?(n(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:ve},[t("div",{class:"relative max-w-4xl max-h-[90vh] overflow-auto bg-white p-2 rounded-lg",onClick:e[23]||(e[23]=P(()=>{},["stop"]))},[t("button",{onClick:ve,class:"absolute top-2 right-2 text-gray-700 hover:text-red-500 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-md"},e[91]||(e[91]=[t("i",{class:"fa fa-close"},null,-1)])),t("img",{src:qe.value,class:"max-w-full max-h-[85vh] object-contain"},null,8,Wa)])])):y("",!0),v(X)?(n(),o("div",Ja,[t("div",{class:c(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":v(X),"scale-95 opacity-0":!v(X)}])},[t("div",Za,[e[92]||(e[92]=t("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[t("i",{class:"fa fa-exclamation-triangle text-red-600 text-xl"})],-1)),e[93]||(e[93]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Confirm Deletion ",-1)),t("p",eo," Are you sure you want to delete "+g(h.value.length===1?"this record":"these "+h.value.length+" records")+"? This action cannot be undone. ",1)]),t("div",to,[t("button",{onClick:zt,class:"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:ne.value},[ne.value?(n(),o("i",lo)):y("",!0),S(" "+g(ne.value?"Deleting...":"Delete"),1)],8,so),t("button",{onClick:Nt,class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:ne.value}," Cancel ",8,ao)])],2)])):y("",!0)])):y("",!0),v(re).length>0?(n(),o("div",oo,[t("button",{disabled:R.value===1,onClick:e[24]||(e[24]=l=>R.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,no),(n(!0),o(z,null,te(v(qt),l=>(n(),o("button",{key:l,onClick:d=>R.value=l,class:c(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":R.value===l,"bg-gray-200":R.value!==l}])},g(l),11,ro))),128)),t("button",{disabled:R.value===v(Je),onClick:e[25]||(e[25]=l=>R.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,io)])):pe.value?y("",!0):(n(),o("div",uo," No items found! "))]))])])],512),[[gt,v(ht)]])])])])]),t("div",co,[yt(a)])])}}};export{yo as default};
