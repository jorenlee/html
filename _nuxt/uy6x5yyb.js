import{e as L,u as j,q as C,r as a,g as z,c as r,a as e,h as E,v as R,f as p,i as T,j as B,n as D,t as d,x as A,k as x,F as v,l as b,d as w,o as i}from"./Bh3erDOP.js";import{h as M}from"./C5S46NFB.js";import"./5JjjnmY2.js";import{a as O}from"./t--hEgTQ.js";const V={class:"flex"},Y={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},N={class:"w-full min-h-screen"},$={class:"bg-green-800"},P={class:"lg:flex mx-auto justify-between py-2 px-3.5"},q={class:"lg:flex items-center text-white gap-5"},G={class:"flex -mt-1"},H={class:"text-sm"},I={class:"w-full p-5"},J={class:"w-full lg:mb-0 mb-2"},K={class:"mt-3"},Q={class:"flex w-full mb-3"},W={class:"flex h-fit"},X={key:0},Z=["src"],ee=["href"],te=["href"],se={class:"ml-3 font-bold"},ae={class:"fixed bg-green-900 py-4 bottom-0 w-full"},le={class:"text-center text-white lg:text-sm text-xs"},de={__name:"index",setup(oe){const h=L(),n=j();C();const f=a(n.mainDevServer),_=a(M(new Date).format("YYYY"));z(()=>{setTimeout(()=>{n.user.isAuthenticated&&(n.user.email==="hr@lsu.edu.ph"||n.user.email==="jorenleeluna24@gmail.com")?h.push("/hr/dashboard/portal/create"):h.push("/_/unauthorized")},3e3)});let o=a(!0);a(!1);const m=a({image_link:[]});a("https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/circleLSULogo.jpg");const u=a([]),g=a([]),c=a(null),y=l=>{u.value=Array.from(l.target.files),console.log(l),u.value.forEach(t=>{console.log(`File: ${t.name}, Size: ${t.size} bytes`)})},k=async()=>{if(!u.value.length)return;const l=new FormData;u.value.forEach(t=>{l.append("file",t)});try{c.value="Uploading...";const t=await O.post(f.value+"/api/humanResource/upload/",l,{headers:{"Content-Type":"multipart/form-data"}});c.value="Upload successful!",console.log("Files uploaded:",t.data),g.value=t.data.map(s=>({name:s.name,url:s.url})),u.value=[],m.value.image_link=g.value,console.log(m.value.image_link),F(),console.log(m.value)}catch(t){console.error("File upload error:",t),c.value="Upload failed: "+t.message}},S=()=>{k()},F=async()=>{await $fetch(f.value+"/api/humanResource/create/",{method:"POST",headers:{"Content-Type":"application/json"},body:m.value}).then(l=>{console.log("response",l),h.push({path:"/hr/dashboard/portal/lists"})})},U=()=>{h.push("/human-resource"),n.removeToken()};return(l,t)=>(i(),r("div",null,[e("div",V,[E(e("div",Y,t[1]||(t[1]=[T('<div><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/circleLSULogo.jpg" class="lg:w-28 w-24 mx-auto rounded-full"></div><div class="text-center"><h2 class="font-bold text-green-800 text-lg uppercase"> hr dashboard </h2></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/hr/dashboard/portal/lists" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> View Lists </a><a href="/hr/dashboard/portal/create" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-plus-circle mr-3" aria-hidden="true"></i> CREATE </a><a href="/hr" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-address-card mr-3" aria-hidden="true"></i> LSU Recruitment </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1)]),512),[[R,p(o)]]),e("div",N,[e("div",$,[e("div",P,[e("div",q,[e("div",{onClick:t[0]||(t[0]=s=>B(o)?o.value=!p(o):o=!p(o)),class:"w-10 px-1.5"},[e("i",{class:D(["fa text-3xl text-white",p(o)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",G,[t[2]||(t[2]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",H,d(p(n).user.email),1)])]),e("button",{onClick:U,class:"flex hover:font-bold pt-1"},t[3]||(t[3]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",null,[e("div",I,[e("form",{onSubmit:A(S,["prevent"]),class:"px-3 flex flex-wrap"},[e("div",J,[t[5]||(t[5]=e("label",{class:"text-[10px] text-gray-300"}," Banner ",-1)),e("div",K,[e("div",Q,[e("div",W,[e("input",{type:"file",onChange:y},null,32)])]),c.value?(i(),r("div",X,d(c.value),1)):x("",!0),(i(!0),r(v,null,b(g.value,s=>(i(),r("div",{key:s.url},[s.url.includes("jpg")||s.url.includes("png")?(i(),r("img",{key:0,src:s.url,alt:"Uploaded File",class:"w-80"},null,8,Z)):x("",!0),t[4]||(t[4]=w()),e("a",{href:s.url,target:"_blank",rel:"noopener noreferrer"},d(s.name),9,ee)]))),128)),(i(!0),r(v,null,b(u.value,s=>(i(),r("div",{key:s.url,class:"my-4 shadow-lg px-2 py-3 border-2"},[e("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",class:"tracking-tighter"},d(s.name),9,te),e("span",se,d((s.size/1024/1024).toFixed(2))+" MB size ",1)]))),128))])]),t[6]||(t[6]=e("div",{class:"w-fit mt-5"},[e("button",{class:"w-fit mx-auto block bg-green-800 px-8 py-1.5 rounded-lg text-white"}," Submit ")],-1))],32)])])])]),e("div",ae,[e("h1",le,[w(" Copyright Â© "+d(_.value)+" ",1),t[7]||(t[7]=e("span",null,"La Salle University Ozamiz",-1))])])]))}};export{de as default};
