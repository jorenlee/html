import{_ as E}from"./CKAza_WD.js";import{_ as V}from"./ItkH0Kpo.js";import{_ as $}from"./Do3vmJ8O.js";import{g as N,r as i,m as U,u as L,c as a,b as v,a as e,i as H,l as I,f as c,F as M,s as O,z as u,x as q,o,n as m,t as x,d as A}from"./zp95O9kB.js";import{a as G}from"./B6xwUs71.js";import"./DlAUqK2U.js";import"./C5S46NFB.js";const J={class:""},K={class:""},Q={class:"relative"},W=q('<img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/banners/green-tones-gradient-background_23-2148374436.png" class="align-top w-full h-36 object-none lg:hidden block"><div class="pt-10 absolute top-1/2 transform -translate-y-1/2 w-full"><h1 class="font-bold uppercase text-white lg:text-2xl text-lg w-11/12 mx-auto"> Enrollment Tracking </h1></div><div class="pt-2.5 pb-3 shadow-lg"><ul class="flex lasalle-green-text capitalize w-11/12 mx-auto text-xs"><li><a href="/" class="mr-1"> Home </a></li><li><i class="fas fa-caret-right mr-1"></i><a href="/enrollment" class="mr-1"> Enrollment </a></li><li><i class="fas fa-caret-right mr-1"></i><a href="/enrollment/tracking" class="mr-1">Tracking </a></li></ul></div>',3),X={class:"overflow-hidden"},Y={class:"flex w-fit shadow mx-auto mt-10 text-center rounded-lg"},Z=e("i",{class:"fa fa-search"},null,-1),j=[Z],ee={class:"lg:flex w-full mx-auto pt-10 lg:pb-[300px] pb-[470px] mb-5"},te={class:"flex lg:items-center w-full lg:ml-36"},se={class:"font-bold capitalize underline"},le={key:1,class:"font-bold text-lg text-green-900 uppercase lg:-ml-4 -ml-16 lg:mt-3 mt-4"},ae={key:0,class:"lg:mb-10"},oe={key:0,class:"absolute lg:left-[50%] lg:top-[100px] top-[340px] w-full shadow mt-5 py-5 px-5"},ne=e("p",{class:"text-sm pb-2 text-center"},"Please Submit Proof of Payment:",-1),re={key:0},ie=["src"],ce=["src"],ue={key:1},me={key:0,class:"absolute lg:left-[50%] lg:top-[100px] top-[340px] w-full shadow lg:mt-10 py-5 px-3"},de=e("img",{src:"https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/icons/check-mark-icon-isolated-on-white-background-vector-26464923.jpg",class:"w-[100px] mx-auto lg:mt-0 mt-14"},null,-1),ge=e("p",{class:"text-center mt-5 leading-tight"},"Please check later while the accounting officer verify your receipt, Thank you!",-1),pe=[de,ge],Se={__name:"index",setup(xe){const w=N(),h=i(w.mainDevServer);U();const k=L(),_=i(),S=i("https://lsu-media-styles.sgp1.digitaloceanspaces.com/storage-bucket-name/folder-location/files/admissions/files/"),g=i("");let f=i(""),n=i(),p=i(68);const F=async()=>{(await $fetch(h.value+"/api/admissions/list/").catch(s=>s.data)).filter(async function(s){_.value===s.tracking_id&&(n.value=await $fetch(h.value+"/api/admissions/"+s.id+"/").catch(d=>d.data),p.value=s.id,console.log(n.value))})},b=i(!0),y=i(!1),T=r=>{g.value=r.target.files[0],f.value=URL.createObjectURL(g.value),n.value.receipt.image_url=S.value+""+r.target.files[0].name},C=async()=>{let r=new FormData;r.append("image",g.value);let s={headers:{"Content-Type":"multipart/form-data"}};G.post("https://api.lsu.edu.ph/api/admissions/file/list/files/",r,s).then(d=>{console.log(d)})},D=async()=>{await $fetch(h.value+"/api/admissions/"+p.value+"/edit/",{method:"PUT",body:n.value}).then(r=>{console.log("response",r)})},P=()=>{n.value.receipt.submitted=!0,D(),g.value!==null&&(C(),b.value=!1,y.value=!0,console.log("id.value",p.value),console.log("enrollee",n))},R=r=>{k.push("/enrollment/evaluation/"+r)};return(r,s)=>{const d=E,z=V,B=$;return o(),a("div",null,[v(d),e("div",J,[e("div",K,[e("div",Q,[v(z),W])]),e("div",X,[e("div",Y,[H(e("input",{class:"py-1 pl-2 pr-4 uppercase w-full border-2 border-green-700 rounded-tl-lg rounded-bl-lg",placeholder:"Tracking ID",maxlength:"16","onUpdate:modelValue":s[0]||(s[0]=t=>_.value=t)},null,512),[[I,_.value]]),e("button",{onClick:s[1]||(s[1]=t=>F()),class:"px-5 bg-green-900 text-white cursor-pointer hover:bg-white hover:text-green-900 border-4 border-green-900 rounded-tr-lg rounded-br-lg"},j)]),e("div",ee,[c(n)?(o(!0),a(M,{key:0},O(c(n).enrollment_tracking_status,(t,l)=>(o(),a("div",{class:"w-full relative",key:l},[e("div",te,[e("p",{class:m(["text-white lg:px-3 px-4 py-2 lg:mx-0 ml-10 h-fit w-fit lg:rounded-lg rounded-lg mt-1 lg:mt-0 font-bold",[t.status==="yes"?"bg-green-900":"bg-gray-300"],[l===4?"ml-0":""]])},x(l+1),3),e("div",{class:m(["lg:rotate-0 rotate-90 lg:h-[10px] h-[20px] lg:my-auto lg:mx-auto mt-[70px] lg:ml-0 -ml-[60px]",[l===3?"hidden":"lg:w-full w-[80px]"],[t.status==="yes"?"bg-green-900":"bg-gray-300"]])},null,2)]),e("div",{class:m(["lg:static absolute top-0 lg:w-fit mx-auto left-44",""])},[e("p",{class:m(["uppercase font-bold lg:mt-4",[t.status==="yes"?"text-green-900":"text-gray-300"],[l===0?"lg:ml-0 -ml-16":""],[l===1?"lg:ml-0 -ml-16":""],[l===2?"lg:ml-36 -ml-16":""],[l===3?"lg:-ml-4 -ml-16":""]])},x(t.track_name),3),e("span",{class:m(["text-xs capitalize block",[t.status==="yes"?"text-green-900":"text-gray-300"],[l===0?"lg:ml-0 -ml-16":""],[l===1?"lg:ml-0 -ml-16":""],[l===2?"lg:ml-36 -ml-16":""],[l===3?"lg:-ml-4 -ml-16":""]])},x(t.details),3),e("span",{class:m(["text-xs capitalize block",[t.status==="yes"?"text-green-900":"text-gray-300"],[t.remarks===""?"hidden":""],[l===3?"lg:-ml-20 -ml-16":"-ml-16"]])},[A(" Remarks: "),e("span",se,x(t.remarks),1)],2),t.status==="yes"&&t.track_name==="accounting"?(o(),a("div",{key:0,class:m([[t.status==="yes"?"text-green-900":"text-gray-300"],"text-center lg:ml-[250px] -ml-32 lg:mt-5 mt-[150px] font-bold cursor-pointer bg-green-800 text-white hover:bg-white hover:text-green-900 block border-2 border-green-800 leading-[15px] lg:text-sm text-xs px-3 py-2 rounded-lg whitespace-nowrap"]),onClick:s[2]||(s[2]=he=>R(c(p)))},"Fill out Evaluation Form",2)):u("",!0),t.status==="yes"&&t.track_name==="evaluation"?(o(),a("div",le," Enrolled! ")):u("",!0)],2),e("div",{class:m(c(n).receipt.submitted?"hidden":"")},[b.value?(o(),a("div",ae,[t.status==="yes"&&t.track_name==="advising"?(o(),a("div",oe,[ne,c(f)===""?(o(),a("div",re,[c(n)?(o(),a("img",{key:0,src:c(n).receipt.image_url,class:"w-[100px] h-[100px] mx-auto"},null,8,ie)):u("",!0)])):(o(),a("img",{key:1,src:c(f),class:"w-[100px] h-[100px] mx-auto"},null,8,ce)),e("input",{type:"file",onChange:T,accept:"image/png, image/jpeg",class:"my-5 w-full border"},null,32),e("div",{onClick:P,class:"py-1 px-10 border-2 border-green-900 w-fit mx-auto rounded-md my-2 hover:bg-green-900 hover:text-white cursor-pointer"}," Submit")])):u("",!0)])):u("",!0),y.value?(o(),a("div",ue,[t.status==="yes"&&t.track_name==="advising"?(o(),a("div",me,pe)):u("",!0)])):u("",!0)],2)]))),128)):u("",!0)])])]),v(B)])}}};export{Se as default};
