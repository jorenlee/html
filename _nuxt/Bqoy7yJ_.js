import{_ as rt}from"./DQIjpGmn.js";import{k as it,l as dt,r as d,p as qe,K as Oe,m as L,D as pe,c as n,a as e,f as w,i as ze,h as c,e as Ge,t as i,X as Fe,n as g,d as _,F as Y,g as q,j as x,y as me,aa as ut,v as Q,q as O,b as He,o as r,s as ct,w as ft,ab as vt}from"./CBZ2bF97.js";import{_ as gt}from"./5JjjnmY2.js";import{h as xe}from"./C5S46NFB.js";const pt={class:"h-screen flex"},mt={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},xt={class:"w-full"},ht={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},yt={class:"flex items-center w-full px-2"},bt={class:"text-sm"},wt={class:"w-full overflow-y-scroll"},_t={class:"bg-green-800 fixed w-full z-10"},kt={class:"flex mx-auto justify-between py-2 px-3.5"},Ct={key:0,class:"w-11/12 mx-auto shadow-lg border-2 border-green-600 rounded-lg mt-20"},jt={class:"flex border-b font-bold border-green-800 uppercase"},St={class:"flex"},At={class:"w-7/12 text-left px-36"},Mt={class:"text-xs text-gray-500"},Dt={class:"w-2/12 text-center"},Et={class:"w-2/12 text-center"},It={class:"w-2/12 text-center"},Lt={key:1,class:""},Tt={class:"w-full lg:p-5 px-2 py-2"},Rt={class:"w-full flex justify-between items-center mb-4 px-2 py-2 bg-white shadow rounded-md"},$t={class:"lg:flex justify-between w-full gap-x-3"},Pt={class:"flex justify-between gap-x-2"},Bt={class:""},Nt=["disabled"],Ut={key:0,class:"flex items-center lg:my-0 my-2"},Vt=["value"],Yt={class:"flex gap-x-2"},qt={class:"flex items-center w-full lg:mt-0 mt-2"},Ot={class:"relative w-full"},zt={class:""},Gt={class:"appointment-lists mx-auto text-xs"},Ft={key:0,class:"text-center"},Ht={key:1},Kt={key:0,class:"gap-4"},Qt={class:"w-fit flex px-2"},Wt={class:""},Xt=["value"],Jt={class:"lg:w-7/12 w-full flex items-center"},Zt={class:"w-full"},es={class:"w-full lg:px-3 lg:flex items-center"},ts={class:"text-[10px] font-light whitespace-nowrap"},ss={class:"font-bold"},ls={class:"w-full"},os={class:"w-full my-1"},as=["onClick"],ns={class:"space-y-4"},rs={class:"flex items-center"},is={class:"ml-4"},ds={class:"text-sm font-medium text-gray-900"},us={class:"text-sm text-gray-500"},cs={class:"bg-gray-50 p-4 rounded-md"},fs={class:"grid grid-cols-1 gap-3"},vs={class:"flex items-start"},gs={class:"ml-3 text-sm"},ps={class:"text-gray-500"},ms={class:"flex items-start"},xs={class:"ml-3 text-sm"},hs={class:"text-gray-500"},ys={class:"flex items-start"},bs={class:"ml-3 text-sm"},ws={class:"text-gray-500"},_s={class:"flex items-start"},ks={class:"ml-3 text-sm"},Cs={class:"text-gray-500"},js={class:"w-11/12 mx-auto"},Ss={class:"flex w-full"},As=["onUpdate:modelValue"],Ms={class:"w-11/12 mx-auto"},Ds={class:"flex w-full"},Es=["onUpdate:modelValue"],Is={class:"w-11/12 mx-auto"},Ls={class:"flex w-full"},Ts=["onUpdate:modelValue"],Rs={class:"w-11/12 mx-auto"},$s={class:"flex w-full"},Ps=["onUpdate:modelValue"],Bs={class:"flex justify-between items-center mb-4 border-b pb-3"},Ns={class:"text-lg font-medium text-gray-900"},Us={class:"mb-6 max-h-[40vh] overflow-y-auto"},Vs={key:0,class:"text-center text-gray-500 py-4"},Ys={key:1,class:"space-y-3"},qs={class:"flex items-center justify-between capitalize gap-x-3"},Os={class:"text-gray-500 w-3/12"},zs={class:"border-t pt-4"},Gs={class:"space-y-3"},Fs={class:"flex justify-end gap-2"},Hs=["disabled"],Ks={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Qs={class:"flex min-h-full items-center justify-center p-4 text-center"},Ws={class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},Xs={class:"mt-2"},Js={class:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4"},Zs={class:"flex"},el={class:"ml-3"},tl={class:"text-sm text-yellow-700"},sl={class:"font-medium"},ll={class:"mt-4 flex justify-end gap-2"},ol=["disabled"],al={key:0,class:"fa fa-paper-plane mr-2"},nl={key:1,class:"fa fa-spinner fa-spin mr-2"},rl={class:"w-full py-1"},il={class:"lg:flex items-center gap-x-3"},dl={class:"flex gap-x-3 w-fit mx-auto"},ul={key:0,class:"flex gap-x-3"},cl=["onClick"],fl=["src"],vl=["onClick"],gl=["src"],pl=["onClick"],ml=["src"],xl={class:"lg:w-10/12 w-full items-center text-left"},hl={class:"w-full lg:px-3 lg:block flex items-center lg:py-0 py-2"},yl={class:"text-[10px] font-light whitespace-nowrap"},bl={class:"list-decimal lg:pl-4 pl-2.5"},wl={class:"lg:w-7/12 text-left"},_l={key:0,class:"w-full lg:block flex items-center lg:py-0 py-2"},kl={class:"text-[10px] font-light whitespace-nowrap"},Cl={class:""},jl={class:"lg:w-fit w-full flex items-center justify-center py-1"},Sl=["onClick"],Al=["src"],Ml={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300"},Dl={class:"text-center"},El={class:"text-sm text-gray-500 mb-6"},Il={class:"flex justify-center gap-4"},Ll=["disabled"],Tl={key:0,class:"fa fa-spinner fa-spin mr-2"},Rl=["disabled"],$l={key:1,class:"flex justify-center my-4 pb-10"},Pl=["disabled"],Bl=["onClick"],Nl=["disabled"],Ul={key:2,class:"text-center my-5"},Vl={class:"fixed bottom-0 w-full"},Yl=1e3,he=500,te=4,Hl={__name:"index",setup(ql){const se=it(),T=dt(),k=d([]);let Ke=d(!0),h=d(!1),M=d(!1);const R=d(T.mainDevServer);let ye=d(null);const j=d("all"),$=d(!1),be=d(""),le=s=>{be.value=s,$.value=!0,S.value=!0,document.body.style.overflow="hidden"},W=()=>{$.value=!1,S.value=E(),document.body.style.overflow="auto"},P=d(!1),f=d(null),A=d(""),oe=d(""),Qe=s=>{f.value=s,P.value=!0,S.value=!0,A.value="",document.body.style.overflow="hidden"},we=()=>{P.value=!1,S.value=E(),document.body.style.overflow="auto"},X=d(!1),z=d(!1),G=d(""),We=async()=>{if(!(!A.value.trim()||!f.value))try{G.value=A.value.trim();const s={timestamp:xe().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:G.value},t=f.value.logs?[...f.value.logs]:[];t.unshift(s),ye.value=f.value.id;const a={...f.value,logs:t};await $fetch(R.value+"/api/registrar/"+ye.value+"/edit/",{method:"PUT",headers:{"Content-Type":"application/json"},body:a}),f.value.logs=t,A.value="",await Ce(),X.value=!0}catch(s){console.error("Error adding log:",s)}},_e=()=>{X.value=!1,G.value=""},Xe=async()=>{if(f.value){z.value=!0;try{const s={id:f.value.id,latest_status:G.value};console.log("Sending email data:",s),await $fetch(R.value+"/api/registrar/confirmation/",{method:"POST",headers:{"Content-Type":"application/json"},body:s}),console.log("Email sent successfully"),X.value=!1,G.value=""}catch(s){console.error("Error sending confirmation email:",s)}finally{z.value=!1}}},D=d(""),ae=d([{value:"Arts and Sciences, Engineering, Architecture, Computer Studies",label:"Arts and Sciences, Engineering, Architecture, Computer Studies"},{value:"Business-Related Courses, BSTM",label:"Business-Related Courses, BSTM"},{value:"Nursing, and Graduate Studies",label:"Nursing, and Graduate Studies"},{value:"Education Courses, BSHM",label:"Education Courses, BSHM"},{value:"Criminology",label:"Criminology"}]),y=d(null),b=d("asc"),ke=d(!1);qe(()=>{setTimeout(async()=>{const s=T.user.email,t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","cba.registrar@lsu.edu.ph":"Business-Related Courses, BSTM","onlinerequest@lsu.edu.ph":"Nursing, and Graduate Studies","cte.registrar@lsu.edu.ph":"Education Courses, BSHM","ccje.registra@lsu.edu.ph":"Criminology"},a=["jorenleeluna24@gmail.com","registrar@lsu.edu.ph","jason.yap@lsu.edu.ph"],o=[...a,...Object.keys(t)];T.user.isAuthenticated&&o.includes(s)?(a.includes(s)?ke.value=!0:D.value=t[s]||"",await ie(),se.push("/registrar/dashboard"),re()):se.push("/unauthorized")},5e3)});let B=null,S=d(!1),ne=d(!1);const E=()=>P.value||$.value||M.value||V.value,re=()=>{B&&clearInterval(B),B=setInterval(async()=>{!E()&&!ne.value&&(await Ce(),await Je())},Yl)},J=()=>{B&&(clearInterval(B),B=null)},Je=async()=>{J();try{const s=k.value;if(!s||!Array.isArray(s)||s.length===0)return;const t={},a=[];s.forEach(o=>{if(o.tracking_id)if(t[o.tracking_id]){const l=t[o.tracking_id],p=new Date(l.created_at)>new Date(o.created_at)?l.id:o.id;a.push(p)}else t[o.tracking_id]=o});for(const o of a)console.log(`Removing duplicate item with ID: ${o}`),await $fetch(R.value+"/api/registrar/"+o+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});a.length>0&&(console.log(`Removed ${a.length} duplicate entries`),await ie())}catch(s){console.error("Error checking for duplicates:",s)}finally{re()}},Ce=async()=>{try{const s=await $fetch(R.value+"/api/registrar/list").catch(t=>t.data)||[];if(s.length>0&&(I.value.length>0?(I.value=s,ge()):k.value=s,f.value)){const t=s.find(a=>a.id===f.value.id);t&&(f.value=t)}}catch(s){console.error("Error fetching list items quietly:",s)}},ie=async()=>{Z.value=!0;try{const s=await $fetch(R.value+"/api/registrar/list").catch(t=>(console.error("Fetch error:",t),[]));k.value=Array.isArray(s)?s:[],I.value=[],H.value=""}catch(s){console.error("Error fetching list items:",s),k.value=[]}finally{Z.value=!1}};Oe(()=>{J()});const Ze=()=>{se.push("/registrar/login"),T.removeToken()},v=d([]),N=d(!1),de=L(()=>v.value.length===F.value.length&&F.value.length>0),et=()=>{console.log("selectAllItems called"),console.log("allSelected.value:",de.value),J(),ne.value=!0,de.value?v.value=[]:(console.log("filteredByCollege.value:",F.value),v.value=F.value.map(s=>s.id)),console.log("selectedItems.value:",v.value),re(),ne.value=!1},tt=()=>{v.value.length!==0&&(M.value=!0,S.value=!0)},st=()=>{M.value=!1,S.value=E()},lt=async()=>{if(v.value.length!==0)try{N.value=!0;for(const s of v.value)await $fetch(R.value+"/api/registrar/"+s+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});console.log(`${v.value.length} items deleted successfully`),v.value=[],await ie(),M.value=!1,S.value=E()}catch(s){console.error("Error deleting items:",s)}finally{N.value=!1}},U=L(()=>{let s=[...k.value];return j.value==="done"?s=s.filter(t=>{var a;return(a=t.logs)==null?void 0:a.some(o=>{var p;return(((p=o==null?void 0:o.status_remarks)==null?void 0:p.toLowerCase())||"").includes("transaction closed")})}):j.value==="pending"&&(s=s.filter(t=>{var a;return(a=t.logs)==null?void 0:a.every(o=>{var p;return!(((p=o==null?void 0:o.status_remarks)==null?void 0:p.toLowerCase())||"").includes("transaction closed")})})),gt.orderBy(s,"created_at","asc")}),ue=s=>U.value.filter(t=>{var a;return t.college===s&&((a=t.logs)==null?void 0:a.some(o=>{var p;return(((p=o==null?void 0:o.status_remarks)==null?void 0:p.toLowerCase())||"").includes("transaction closed")}))}).length,ce=s=>U.value.filter(t=>{var a;return t.college===s&&((a=t.logs)==null?void 0:a.every(o=>{var p;return!(((p=o==null?void 0:o.status_remarks)==null?void 0:p.toLowerCase())||"").includes("transaction closed")}))}).length,fe=s=>U.value.filter(t=>t.college===s).length,ve=s=>{y.value===s?b.value=b.value==="asc"?"desc":"asc":(y.value=s,b.value="asc"),ae.value.sort((t,a)=>{let o,l;return s==="Pending"?(o=ce(t.value),l=ce(a.value)):s==="Done"?(o=ue(t.value),l=ue(a.value)):s==="Total"?(o=fe(t.value),l=fe(a.value)):(o=t.label,l=a.label),o<l?b.value==="asc"?-1:1:o>l?b.value==="asc"?1:-1:0})},ot=s=>{const t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","cba.registrar@lsu.edu.ph":"Business-Related Courses, BSTM","onlinerequest@lsu.edu.ph":"Nursing, and Graduate Studies","cte.registrar@lsu.edu.ph":"Education Courses, BSHM","ccje.registra@lsu.edu.ph":"Criminology"};return Object.keys(t).filter(a=>t[a]===s)},Z=d(!0),C=d(1),je=L(()=>Math.ceil(U.value.length/he)),ee=L(()=>{const s=(C.value-1)*he,t=s+he;return U.value.slice(s,t)}),F=L(()=>{if(console.log("filteredByCollege computed"),console.log("selectedCollege.value:",D.value),console.log("paginatedListItems.value:",ee.value),!D.value)return ee.value;const s=ee.value.filter(t=>t.college===D.value);return console.log("filtered:",s),s}),at=L(()=>{const s=[];let t=Math.max(1,C.value-Math.floor(te/2)),a=Math.min(je.value,t+te-1);a-t+1<te&&(t=Math.max(1,a-te+1));for(let o=t;o<=a;o++)s.push(o);return s}),V=d(!1),Se=d(null),nt=s=>{Se.value=s,V.value=!0,S.value=!0,document.body.style.overflow="hidden"},Ae=()=>{V.value=!1,S.value=E(),document.body.style.overflow="auto"};qe(()=>{window.addEventListener("keydown",s=>{s.key==="Escape"&&$.value&&W()})}),Oe(()=>{window.removeEventListener("keydown",s=>{s.key==="Escape"&&$.value&&W()}),J()});const H=d(""),I=d([]),ge=()=>{C.value=1,I.value.length===0&&k.value.length>0&&(I.value=[...k.value]),H.value.toLowerCase().trim();const s=I.value.length>0?I.value:k.value;k.value=s.filter(t=>{if(!t)return!1;const a=H.value.toLowerCase().trim();return Object.keys(t).some(o=>typeof t[o]=="string"?t[o].toLowerCase().includes(a):!1)}),v.value=[]},K=L(()=>{var s;return!((s=f.value)!=null&&s.logs)||!Array.isArray(f.value.logs)?[]:[...f.value.logs].sort((t,a)=>{const o=xe(t.timestamp,"MMMM DD, YYYY h:mm:ss A"),l=xe(a.timestamp,"MMMM DD, YYYY h:mm:ss A");return o.valueOf()-l.valueOf()})});return pe(k,s=>{console.log("listItems updated:",s)}),pe(D,()=>{v.value=[]}),pe(j,()=>{v.value=[]}),(s,t)=>{var o;const a=rt;return r(),n("div",null,[e("div",pt,[w(e("div",mt,[e("div",xt,[e("div",ht,[e("div",yt,[t[19]||(t[19]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",bt,i(c(T).user.email),1)]),e("div",{onClick:t[0]||(t[0]=l=>Fe(h)?h.value=!c(h):h=!c(h)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:g(["fa text-3xl text-white",c(h)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[20]||(t[20]=Ge('<div class=""><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto"></div><div class="text-center"><h1 class="font-bold text-green-800 text-2xl">Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/registrar/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1))])],512),[[ze,c(h)]]),e("div",wt,[e("div",_t,[e("div",kt,[e("div",{onClick:t[1]||(t[1]=l=>Fe(h)?h.value=!c(h):h=!c(h)),class:"w-auto flex items-center lg:px-1.5"},[e("i",{class:g(["fa text-3xl text-white",c(h)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),t[21]||(t[21]=e("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Registrar ",-1))]),e("button",{onClick:Ze,class:"flex hover:font-bold pt-1"},t[22]||(t[22]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)]))])]),(o=s.fullAccessEmails)!=null&&o.includes(c(T).user.email)?(r(),n("div",Ct,[e("div",null,[e("ul",jt,[t[26]||(t[26]=e("li",{class:"w-7/12 px-36 text-left"},"Department ",-1)),e("li",{onClick:t[2]||(t[2]=l=>ve("Pending")),class:"w-2/12 text-center cursor-pointer"},[t[23]||(t[23]=_("Pending ")),e("i",{class:g({"fa fa-sort-up":y.value==="Pending"&&b.value==="asc","fa fa-sort-down":y.value==="Pending"&&b.value==="desc","fa fa-sort":y.value!=="Pending"})},null,2)]),e("li",{onClick:t[3]||(t[3]=l=>ve("Done")),class:"w-2/12 text-center cursor-pointer"},[t[24]||(t[24]=_("Done ")),e("i",{class:g({"fa fa-sort-up":y.value==="Done"&&b.value==="asc","fa fa-sort-down":y.value==="Done"&&b.value==="desc","fa fa-sort":y.value!=="Done"})},null,2)]),e("li",{onClick:t[4]||(t[4]=l=>ve("Total")),class:"w-2/12 text-center cursor-pointer"},[t[25]||(t[25]=_("Total ")),e("i",{class:g({"fa fa-sort-up":y.value==="Total"&&b.value==="asc","fa fa-sort-down":y.value==="Total"&&b.value==="desc","fa fa-sort":y.value!=="Total"})},null,2)])])]),e("div",null,[e("ul",null,[(r(!0),n(Y,null,q(ae.value,l=>(r(),n("li",{class:"border-b",key:l.value},[e("ul",St,[e("li",At,[_(i(l.label)+" ",1),e("div",Mt,i(ot(l.value).join(", ")),1)]),e("li",Dt,i(ce(l.value)),1),e("li",Et,i(ue(l.value)),1),e("li",It,i(fe(l.value)),1)])]))),128))])])])):(r(),n("div",Lt,[e("div",Tt,[w(e("div",null,[t[65]||(t[65]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),e("div",Rt,[e("div",$t,[e("div",Pt,[e("div",Bt,[e("button",{onClick:et,class:"whitespace-nowrap flex items-center px-2 bg-gray-200 hover:bg-gray-300 text-gray-700 lg:px-3 pr-2 py-1.5 rounded-md transition-colors duration-200 lg:text-sm text-xs"},i(c(de)?"Deselect All":"Select All"),1)]),e("div",{class:g(v.value.length===0?"hidden":"")},[e("button",{onClick:tt,class:g(["flex items-center hover:bg-red-600 text-white px-3 lg:py-1 py-0.5 rounded-md transition-colors duration-200 disabled:opacity-50 whitespace-nowrap",v.value.length===0?"bg-pink-200":"bg-red-500"]),disabled:v.value.length===0},[t[27]||(t[27]=e("i",{class:"fa fa-trash mr-2"},null,-1)),_(" ("+i(v.value.length)+") ",1)],10,Nt)],2)]),ke.value?(r(),n("div",Ut,[w(e("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>D.value=l),class:"lg:px-3 px-1 lg:py-1.5 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs"},[t[28]||(t[28]=e("option",{value:""},"All Colleges",-1)),(r(!0),n(Y,null,q(ae.value,l=>(r(),n("option",{key:l.value,value:l.value},i(l.label),9,Vt))),128))],512),[[me,D.value]])])):x("",!0),e("div",Yt,[e("button",{onClick:t[6]||(t[6]=l=>j.value="all"),class:g(["px-2 py-1 rounded-xl border",j.value==="all"?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white"])}," All ",2),e("button",{onClick:t[7]||(t[7]=l=>j.value="pending"),class:g(["px-2 py-1 rounded-xl border",j.value==="pending"?"bg-red-600 text-white border-red-600":"bg-white text-red-600 border-red-600 hover:bg-red-600 hover:text-white"])}," Pending ",2),e("button",{onClick:t[8]||(t[8]=l=>j.value="done"),class:g(["px-2 py-1 rounded-xl border",j.value==="done"?"bg-green-600 text-white border-green-600":"bg-white text-green-600 border-green-600 hover:bg-green-600 hover:text-white"])}," Done ",2)]),e("div",qt,[e("div",Ot,[w(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>H.value=l),type:"search",placeholder:"Search",class:"lg:px-3 px-2 lg:py-1.5 py-1 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs",onKeyup:ut(ge,["enter"])},null,544),[[Q,H.value]]),e("button",{onClick:ge,class:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-green-600"},t[29]||(t[29]=[e("i",{class:"fa fa-search"},null,-1)]))])])])]),e("div",zt,[e("div",Gt,[Z.value?(r(),n("div",Ft,t[30]||(t[30]=[Ge('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(r(),n("div",Ht,[c(ee).length>0?(r(),n("div",Kt,[(r(!0),n(Y,null,q(c(F),(l,p)=>{var Me,De,Ee,Ie,Le,Te,Re,$e,Pe,Be,Ne,Ue,Ve,Ye;return r(),n("div",{class:"flex items-center h-auto shadow lg:mb-0 mb-3 border-gray-200",key:p},[e("div",Qt,[e("div",Wt,[w(e("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":t[10]||(t[10]=u=>v.value=u),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"},null,8,Xt),[[ct,v.value]])])]),e("div",{class:g(["w-full px-2 py-1.5 border-l lg:flex items-center",p%2?"bg-gray-100":""])},[e("div",Jt,[e("div",Zt,[e("div",es,[e("div",ts,[t[31]||(t[31]=e("span",{class:"mr-1"},"Tracking ID:",-1)),e("span",ss,i(l.tracking_id),1)])])])]),e("div",ls,[e("div",os,[e("div",{class:"w-full cursor-pointer text-xs cursor font-bold uppercase text-green-800 bg-green-50 hover:bg-green-900 hover:text-white py-1 px-1 flex items-center",onClick:u=>{s.$nextTick(()=>{nt(l)})}},[t[32]||(t[32]=e("i",{class:"fa fa-user mr-2.5"},null,-1)),_(" "+i(l.lastname)+", "+i(l.firstname)+" "+i(l.middlename),1)],8,as)]),V.value&&Se.value===l?(r(),n("div",{key:0,class:"fixed inset-0 shadow-lg z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Ae},[e("div",{class:g(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":V.value,"scale-95 opacity-0":!V.value}]),onClick:t[11]||(t[11]=O(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[34]||(t[34]=e("h3",{class:"text-lg font-medium text-gray-900"}," Personal Information ",-1)),e("button",{onClick:Ae,class:"text-gray-400 hover:text-gray-500"},t[33]||(t[33]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",ns,[e("div",rs,[t[35]||(t[35]=e("div",{class:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0"},[e("i",{class:"fa fa-user text-green-600"})],-1)),e("div",is,[e("p",ds,i(l.firstname)+" "+i(l.middlename)+" "+i(l.lastname),1),e("p",us," Tracking ID: "+i(l.tracking_id),1)])]),e("div",cs,[e("div",fs,[e("div",vs,[t[37]||(t[37]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-envelope"})],-1)),e("div",gs,[t[36]||(t[36]=e("p",{class:"font-medium text-gray-900"}," Email ",-1)),e("p",ps,i(l.email),1)])]),e("div",ms,[t[39]||(t[39]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-phone"})],-1)),e("div",xs,[t[38]||(t[38]=e("p",{class:"font-medium text-gray-900"}," Contact Number ",-1)),e("p",hs,i(l.contact_number),1)])]),e("div",ys,[t[41]||(t[41]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-birthday-cake"})],-1)),e("div",bs,[t[40]||(t[40]=e("p",{class:"font-medium text-gray-900"}," Date of Birth ",-1)),e("p",ws,i(l.birthdate),1)])]),e("div",_s,[t[43]||(t[43]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-female"})],-1)),e("div",ks,[t[42]||(t[42]=e("p",{class:"font-medium text-gray-900"}," Mother's Maiden Name ",-1)),e("p",Cs,i(l.mother_maiden_name),1)])]),e("div",js,[t[45]||(t[45]=e("label",{for:"alumni",class:"font-bold text-gray-800 mr-1"},"ICC / LSU Graduate? :",-1)),e("div",Ss,[w(e("select",{class:"border-b w-full mx-auto text-xs px-1 shadow-sm","onUpdate:modelValue":u=>l.alumni=u},t[44]||(t[44]=[e("option",{value:"yes"},"Alumnus",-1),e("option",{value:"no"}," Non-Alumnus ",-1)]),8,As),[[me,l.alumni]])])]),e("div",Ms,[t[46]||(t[46]=e("label",{for:"college",class:"font-bold text-gray-800 mr-1"},"College:",-1)),e("div",Ds,[w(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"College","onUpdate:modelValue":u=>l.college=u},null,8,Es),[[Q,l.college]])])]),e("div",Is,[t[47]||(t[47]=e("label",{for:"course",class:"font-bold text-gray-800 mr-1"},"Course:",-1)),e("div",Ls,[w(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"Course","onUpdate:modelValue":u=>l.course=u},null,8,Ts),[[Q,l.course]])])]),e("div",Rs,[t[48]||(t[48]=e("label",{for:"year_graduated_last_attended",class:"font-bold text-gray-800 whitespace-nowrap mr-1"}," A.Y. Graduated | Attended:",-1)),e("div",$s,[w(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"Year Graduated or Last Attended","onUpdate:modelValue":u=>l.year_graduated_last_attended=u},null,8,Ps),[[Q,l.year_graduated_last_attended]])])])])])])],2)])):x("",!0),P.value&&f.value===l?(r(),n("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:we},[e("div",{class:g(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":P.value,"scale-95 opacity-0":!P.value}]),onClick:t[15]||(t[15]=O(()=>{},["stop"]))},[e("div",Bs,[e("h3",Ns," Status Logs - "+i(((Me=f.value)==null?void 0:Me.tracking_id)||"N/A"),1),e("button",{onClick:we,class:"text-gray-400 hover:text-gray-500"},t[49]||(t[49]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",Us,[!((De=f.value)!=null&&De.logs)||f.value.logs.length===0?(r(),n("div",Vs," No logs available ")):(r(),n("div",Ys,[(r(!0),n(Y,null,q(c(K),(u,m)=>(r(),n("div",{key:m,class:g(["border-l-4 rounded-r text-[10px]",m===c(K).length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[e("div",qs,[e("div",{class:g(["font-medium w-9/12",m===c(K).length-1?"text-green-800 text-sm":"text-gray-500"])},[e("div",{class:g(["w-full bg-transparent focus:outline-none px-1",m===c(K).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},i(u.status_remarks),3)],2),e("div",Os,[e("div",{class:g(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",m===c(K).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},i(u.timestamp),3)])])],2))),128))]))]),e("div",zs,[e("div",Gs,[e("div",null,[t[51]||(t[51]=e("label",{for:"default_status",class:"block text-sm font-medium text-gray-700 mb-1"},"Default Status",-1)),w(e("select",{id:"default_status","onUpdate:modelValue":t[12]||(t[12]=u=>oe.value=u),onChange:t[13]||(t[13]=u=>A.value=oe.value),class:"w-full px-1 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"},t[50]||(t[50]=[e("option",{value:"",selected:""},"Choose Default Option",-1),e("option",null,"Received. Now Processing",-1),e("option",null,"Reviewed and Verified",-1),e("option",null,"Assessment Paid",-1),e("option",null,"For Pick Up or Sending",-1),e("option",null,"Transaction Closed",-1)]),544),[[me,oe.value]])]),e("div",null,[t[52]||(t[52]=e("label",{for:"status_remarks",class:"block text-sm font-medium text-gray-700 mb-1"},"Status / Remarks",-1)),w(e("textarea",{id:"status_remarks","onUpdate:modelValue":t[14]||(t[14]=u=>A.value=u),rows:"2",class:"w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Enter status update..."},null,512),[[Q,A.value]])]),e("div",Fs,[e("button",{onClick:We,disabled:!A.value.trim(),class:"flex items-center px-5 py-1.5 justify-center rounded-md border border-transparent bg-green-600 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},t[53]||(t[53]=[e("i",{class:"fa fa-plus mr-2 mt-0.5"},null,-1),_(" Add ")]),8,Hs)]),He(vt,{appear:"",name:"fade"},{default:ft(()=>{var u;return[X.value?(r(),n("div",Ks,[e("div",Qs,[e("div",{class:"fixed inset-0 bg-black bg-opacity-25",onClick:_e}),e("div",Ws,[t[58]||(t[58]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900"}," Send Status Update Email ",-1)),e("div",Xs,[t[57]||(t[57]=e("p",{class:"text-sm text-gray-500"}," Would you like to notify the applicant about this status update via email? ",-1)),e("div",Js,[e("div",Zs,[t[56]||(t[56]=e("div",{class:"flex-shrink-0"},[e("i",{class:"fa fa-info-circle text-yellow-400"})],-1)),e("div",el,[e("p",tl,[t[54]||(t[54]=_(" This will send an email to ")),e("span",sl,i((u=f.value)==null?void 0:u.email),1),t[55]||(t[55]=_(" with the latest status information. "))])])])])]),e("div",ll,[e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2",onClick:_e}," No, Skip Email "),e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:Xe,disabled:z.value},[z.value?(r(),n("i",nl)):(r(),n("i",al)),_(" "+i(z.value?"Sending...":"Yes, Send Email"),1)],8,ol)])])])])):x("",!0)]}),_:1})])])],2)])):x("",!0),e("div",rl,[e("div",il,[t[59]||(t[59]=e("div",{class:"font-bold text-[10px] mr-1 text-center"}," IDs and Documents: ",-1)),e("div",dl,[l?(r(),n("span",ul,[(Le=(Ie=(Ee=l.valid_id_front)==null?void 0:Ee[0])==null?void 0:Ie.url)!=null&&Le.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(r(),n("a",{key:0,onClick:O(u=>{var m;return le((m=l.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:m[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[e("img",{src:(Te=l.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:Te[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,fl)],8,cl)):x("",!0),(Pe=($e=(Re=l.valid_id_back)==null?void 0:Re[0])==null?void 0:$e.url)!=null&&Pe.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(r(),n("a",{key:1,onClick:O(u=>{var m;return le((m=l.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:m[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[e("img",{src:(Be=l.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:Be[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,gl)],8,vl)):x("",!0),(Ve=(Ue=(Ne=l.credential_evaluation_requests)==null?void 0:Ne[0])==null?void 0:Ue.url)!=null&&Ve.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(r(),n("a",{key:2,onClick:O(u=>{var m;return le((m=l.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:m[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[e("img",{src:(Ye=l.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:Ye[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,ml)],8,pl)):x("",!0)])):x("",!0)])])])]),e("div",xl,[e("div",hl,[e("div",yl,[t[60]||(t[60]=e("span",{class:"font-bold"},"Requested Documents:",-1)),e("ul",bl,[(r(!0),n(Y,null,q(l.type_document_requests,(u,m)=>(r(),n("li",{class:"leading-[10px] text-[9px]",key:m},i(u),1))),128))])])])]),e("div",wl,[l.details?(r(),n("div",_l,[e("div",kl,[t[61]||(t[61]=e("span",{class:"font-bold mr-1"},"Note:",-1)),e("span",Cl,i(l.details),1)])])):x("",!0),e("div",jl,[e("button",{class:"w-full whitespace-nowrap text-green-700 cursor-pointer bg-white border shadow-lg border-green-500 hover:bg-green-800 px-5 pt-1 pb-1 hover:text-white font-bold rounded-full uppercase",onClick:u=>{s.$nextTick(()=>{E()||Qe(l)})}}," Status ("+i(l.logs?l.logs.length:0)+") ",9,Sl)])])],2)])}),128)),$.value?(r(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:W},[e("div",{class:"relative max-w-4xl max-h-[90vh] overflow-auto bg-white p-2 rounded-lg",onClick:t[16]||(t[16]=O(()=>{},["stop"]))},[e("button",{onClick:W,class:"absolute top-2 right-2 text-gray-700 hover:text-red-500 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-md"},t[62]||(t[62]=[e("i",{class:"fa fa-close"},null,-1)])),e("img",{src:be.value,class:"max-w-full max-h-[85vh] object-contain"},null,8,Al)])])):x("",!0),c(M)?(r(),n("div",Ml,[e("div",{class:g(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":c(M),"scale-95 opacity-0":!c(M)}])},[e("div",Dl,[t[63]||(t[63]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[e("i",{class:"fa fa-exclamation-triangle text-red-600 text-xl"})],-1)),t[64]||(t[64]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Confirm Deletion ",-1)),e("p",El," Are you sure you want to delete "+i(v.value.length===1?"this record":"these "+v.value.length+" records")+"? This action cannot be undone. ",1)]),e("div",Il,[e("button",{onClick:lt,class:"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:N.value},[N.value?(r(),n("i",Tl)):x("",!0),_(" "+i(N.value?"Deleting...":"Delete"),1)],8,Ll),e("button",{onClick:st,class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:N.value}," Cancel ",8,Rl)])],2)])):x("",!0)])):x("",!0),c(U).length>0?(r(),n("div",$l,[e("button",{disabled:C.value===1,onClick:t[17]||(t[17]=l=>C.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,Pl),(r(!0),n(Y,null,q(c(at),l=>(r(),n("button",{key:l,onClick:p=>C.value=l,class:g(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":C.value===l,"bg-gray-200":C.value!==l}])},i(l),11,Bl))),128)),e("button",{disabled:C.value===c(je),onClick:t[18]||(t[18]=l=>C.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,Nl)])):Z.value?x("",!0):(r(),n("div",Ul," No items found! "))]))])])],512),[[ze,c(Ke)]])])]))])]),e("div",Vl,[He(a)])])}}};export{Hl as default};
