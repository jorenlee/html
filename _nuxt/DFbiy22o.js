import{_ as It}from"./BbcMqS0V.js";import{A as Ut,B as Pt,r as i,e as Vt,j as le,C as Ge,s as L,c as o,a as e,m,v as He,h as M,f as Ke,t as g,J as Qe,n as c,l as f,F as D,g as U,d as P,G as Je,ah as Et,E as y,p as A,b as Lt,o as r,as as Rt}from"#entry";import{_ as Yt}from"./CXohH4N5.js";import{h as V}from"./BLMuvzoS.js";import{s as Ft}from"./BzLCLO6P.js";const Bt={class:"min-h-screen flex"},Nt={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},zt={class:"w-full"},Ot={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},qt={class:"flex items-center w-full px-2"},Gt={class:"text-sm"},Ht={class:"w-full"},Kt={class:"bg-green-800 w-full z-10"},Qt={class:"flex mx-auto justify-between py-2 px-3.5"},Jt={key:0,class:"lg:mx-2 mx-2 shadow-lgrounded-lg lg:mb-0 mb-3 p-1 mt-2"},Wt={class:"flex gap-2"},Xt={class:"font-semibold text-[10px] text-gray-800 whitespace-nowrap text-center"},Zt={class:"text-[10px] text-gray-500 text-center"},es={class:"flex flex-wrap mx-auto w-fit gap-1 mt-2 text-[11px]"},ts={class:"border border-500 text-red-800 px-2 py-0.5 rounded-full font-semibold"},ss={class:"border border-700 text-green-800 px-2 py-0.5 rounded-full font-semibold"},ls={class:"border border-600 text-blue-800 px-2 py-0.5 rounded-full font-semibold"},as={class:"w-full px-3 py-2"},os={class:"relative"},rs={key:0,class:"fixed inset-0 z-[1000] bg-gray-800 bg-opacity-90 flex items-center justify-center"},ns={class:"text-white text-lg font-semibold text-center px-6"},is={key:1,class:"fixed inset-0 z-[1000] bg-red-900 bg-opacity-90 flex items-center justify-center"},ds={class:"text-white text-lg font-semibold text-center px-6"},us={class:"w-full flex flex-wrap items-center gap-3 mb-4 px-3 py-2 bg-white border rounded-md shadow-sm"},cs={class:"w-full flex items-center gap-3"},fs={key:0,class:"flex items-center gap-2 lg:w-3/12 w-full"},gs=["disabled"],vs={key:1,class:"w-full"},ps=["value"],ms={class:"relative w-full"},xs={class:"flex items-center gap-1"},hs={class:""},ys={class:"appointment-lists mx-auto text-xs"},bs={key:0,class:"text-center"},ws={key:1},_s={key:0,class:"gap-4"},ks={key:0,class:"w-fit flex px-2"},Cs={class:""},js=["value"],As={class:"lg:w-5/12 w-full flex items-center"},Ms={class:"w-full"},Ds={class:"w-full lg:px-3 lg:flex items-center"},Ss={class:"text-[10px] font-light whitespace-nowrap"},Ts={class:"font-bold"},$s={class:"lg:w-6/12 w-full"},Is={class:"w-full my-1"},Us={class:"w-full text-xs uppercase text-black py-1 px-1 flex items-center font-montserrat"},Ps={class:"flex justify-between items-center mb-4 border-b pb-3"},Vs={class:"text-lg font-medium text-gray-900"},Es={class:"mb-6 max-h-[40vh] overflow-y-auto"},Ls={key:0,class:"text-center text-gray-500 py-4"},Rs={key:1,class:"space-y-3"},Ys={class:"flex items-center justify-between capitalize gap-x-3"},Fs={class:"text-gray-500 w-3/12"},Bs={class:"lg:flex gap-x-10"},Ns={class:"w-full space-y-1"},zs={class:"flex items-center"},Os={class:"ml-3 text-sm w-full"},qs={class:"text-xs shadow-md py-1 px-2"},Gs={class:"flex items-center"},Hs={class:"ml-3 text-sm w-full"},Ks={class:"text-xs shadow-md py-1 px-2"},Qs={class:"flex items-center"},Js={class:"ml-3 text-sm w-full"},Ws=["onUpdate:modelValue"],Xs={class:"flex items-center"},Zs={class:"ml-3 text-sm w-full"},el=["onUpdate:modelValue"],tl={class:"flex items-center"},sl={class:"ml-3 text-sm w-full"},ll=["onUpdate:modelValue"],al={class:"flex items-center"},ol={class:"ml-3 text-sm w-full"},rl=["onUpdate:modelValue"],nl={class:"flex items-center"},il={class:"ml-3 text-sm w-full"},dl=["onUpdate:modelValue"],ul={class:"flex items-center"},cl={class:"ml-3 text-sm w-full"},fl=["onUpdate:modelValue"],gl={class:"flex items-center"},vl={class:"ml-3 text-sm w-full"},pl=["onUpdate:modelValue"],ml={class:"flex items-center"},xl={class:"ml-3 text-sm w-full"},hl=["onUpdate:modelValue"],yl={class:"w-full"},bl={class:"w-full py-1"},wl={class:"lg:flex items-center gap-x-3"},_l={class:"flex gap-x-3 w-fit mx-auto"},kl={key:0,class:"flex items-center gap-x-3"},Cl=["onClick"],jl=["src"],Al=["href"],Ml=["href"],Dl=["onClick"],Sl=["src"],Tl=["href"],$l=["href"],Il=["onClick"],Ul=["src"],Pl=["href"],Vl=["href"],El={key:0,class:"flex text-sm"},Ll={class:"text-sm w-full"},Rl={class:"flex flex-wrap gap-2"},Yl={class:"mt-2"},Fl=["onUpdate:modelValue"],Bl={class:"w-full flex justify-center gap-x-2 mt-5"},Nl=["onClick"],zl={key:0},Ol={key:1},ql={class:"border-4 border-[#eeeeee] px-3 py-3 my-3 rounded-lg"},Gl={class:"flex w-full gap-x-2"},Hl={class:"flex items-center mb-2 w-full lg:w-6/12"},Kl={class:"text-sm w-full"},Ql={class:"flex items-center mb-2 w-full"},Jl={class:"text-sm w-full"},Wl={class:"flex items-center mb-2 lg:w-fit w-full"},Xl={class:"text-sm w-full"},Zl={class:"flex items-center mb-2"},ea={class:"text-sm w-full"},ta={class:""},sa={class:"text-sm w-full"},la={class:"w-full"},aa=["for"],oa=["id","onUpdate:modelValue"],ra={class:"w-full"},na=["for"],ia=["id","onUpdate:modelValue"],da=["onClick"],ua={class:"mt-2 hidden"},ca=["onUpdate:modelValue"],fa={class:"mt-4 w-full block"},ga=["onClick","disabled"],va={key:0,class:"mt-3 text-center text-sm bg-green-100 text-green-800 border border-green-400 px-4 py-2 rounded w-full"},pa={class:"flex justify-between items-center mb-4 border-b pb-3"},ma={class:"text-lg font-medium text-gray-900"},xa={class:"mb-6 max-h-[40vh] overflow-y-auto"},ha={key:0,class:"text-center text-gray-500 py-4"},ya={key:1,class:"space-y-3"},ba={class:"flex items-center justify-between capitalize gap-x-3"},wa={class:"text-gray-500 w-3/12"},_a={class:"space-y-6 mb-6"},ka={key:0},Ca={class:"flex flex-wrap gap-2"},ja=["onClick"],Aa=["src"],Ma={key:1},Da={class:"flex flex-wrap gap-2"},Sa=["onClick"],Ta=["src"],$a=["onUpdate:modelValue"],Ia={class:"pt-4 border-t border-gray-200 dark:border-gray-700"},Ua=["onClick","disabled"],Pa={key:0,class:"flex items-center gap-2"},Va={key:1},Ea={class:"mt-2 mb-14"},La=["onUpdate:modelValue"],Ra=["onClick"],Ya={key:0},Fa={key:1},Ba=["onClick"],Na={key:0},za={key:1},Oa={class:"w-full text-[10px]"},qa={class:"w-fit mx-auto"},Ga={class:"lg:w-fit mx-auto w-full py-1 lg:gap-x-3 lg:flex lg:whitespace-nowrap text-left"},Ha=["onClick"],Ka=["onClick"],Qa=["onClick"],Ja=["onClick"],Wa=["onClick"],Xa=["onClick"],Za=["src"],eo={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-emerald-900/60 backdrop-blur-sm transition-opacity duration-300"},to={class:"text-center"},so={class:"text-sm text-gray-500 mb-6"},lo={class:"flex justify-center gap-4"},ao=["disabled"],oo={key:0,class:"fa fa-spinner fa-spin mr-2"},ro=["disabled"],no={key:1,class:"flex justify-center my-4 pb-10"},io=["disabled"],uo=["onClick"],co=["disabled"],fo={key:2,class:"text-center my-5"},go={class:"w-full"},vo=1e3,Ve=500,he=4,wo={__name:"index",setup(po){const ye=Ut(),z=Pt(),u=i([]);let We=i(!0),j=i(!1),O=i(!1);const k=i(z.mainDevServer);let R=i(null);const E=i("all"),Q=i(!1),Ee=i(""),q=i(!1),oe=i(null),S=i(!1),G=i(!1),Y=i(!1),F=i(!1),B=i(!1),v=i(null),Xe=i(""),J=i(null),Ze=async s=>{try{J.value=await $fetch(`${k.value}/api/registrar/payment/by-tracking/?tracking_id=${encodeURIComponent(s)}`).catch(()=>null)}catch(t){console.error("Failed to load payment by tracking id",t),J.value=null}},b=i(""),w=i(""),H=i(!1),C=i(!1),ae=s=>{Ee.value=s,Q.value=!0,h.value=!0},re=()=>{Q.value=!1,h.value=T()},et=async s=>{console.log("item",s),b.value="",w.value="",H.value=!0;const t="Reviewed and Verified";try{const n={timestamp:V().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},l=s.logs?[...s.logs]:[];l.unshift(n);const x={...s,logs:l};await $fetch(`${k.value}/api/registrar/${s.id}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:x}),s.logs=l;const a=u.value.findIndex(d=>d.id===s.id);a!==-1&&(u.value[a].logs=l),_e.value[s.id]=!0,await $fetch(`${k.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await Z(),b.value="✅ Confirm and email sent successfully!",setTimeout(()=>{b.value=""},3e3)}catch(n){console.error("Error verifying and sending email:",n),w.value="❌ Failed to verify and send email.",setTimeout(()=>{w.value=""},3e3)}finally{H.value=!1}},tt=async s=>{b.value="",w.value="",C.value=!0;const t="Preparing Documents";try{const n={timestamp:V().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},l=s.logs?[...s.logs]:[];l.unshift(n),R.value=s.id;const x={...s,logs:l};await $fetch(`${k.value}/api/registrar/${R.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:x}),s.logs=l;const a=u.value.findIndex(d=>d.id===s.id);a!==-1&&(u.value[a].logs=l),Ce.value[s.id]=!0,await $fetch(`${k.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await Z(),b.value="✅ Confirm and email sent successfully!",setTimeout(()=>{b.value=""},3e3)}catch(n){console.error("Error verifying and sending email:",n),w.value="❌ Failed to verify and send email.",setTimeout(()=>{w.value=""},3e3)}finally{C.value=!1,Y.value=!1}},st=async s=>{b.value="",w.value="",C.value=!0;const t="Releasing Documents";try{const n={timestamp:V().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},l=s.logs?[...s.logs]:[];l.unshift(n),R.value=s.id;const x={...s,logs:l};await $fetch(`${k.value}/api/registrar/${R.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:x}),s.logs=l;const a=u.value.findIndex(d=>d.id===s.id);a!==-1&&(u.value[a].logs=l),je.value[s.id]=!0,await $fetch(`${k.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await Z(),b.value="✅ Confirm and email sent successfully!",setTimeout(()=>{b.value=""},3e3)}catch(n){console.error("Error verifying and sending email:",n),w.value="❌ Failed to verify and send email.",setTimeout(()=>{w.value=""},3e3)}finally{C.value=!1,F.value=!1}},lt=async s=>{b.value="",w.value="",C.value=!0;const t="Transaction Closed";try{const n={timestamp:V().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},l=s.logs?[...s.logs]:[];l.unshift(n),R.value=s.id;const x={...s,logs:l};await $fetch(`${k.value}/api/registrar/${R.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:x}),s.logs=l;const a=u.value.findIndex(d=>d.id===s.id);a!==-1&&(u.value[a].logs=l),Ae.value[s.id]=!0,await $fetch(`${k.value}/api/registrar/status/transaction-closed/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await Z(),b.value="✅ Confirm and email sent successfully!",setTimeout(()=>{b.value=""},3e3)}catch(n){console.error("Error verifying and sending email:",n),w.value="❌ Failed to verify and send email.",setTimeout(()=>{w.value=""},3e3)}finally{C.value=!1,B.value=!1}},at=async s=>{ge.value=!0,s.follow_up_remarks="Kindly upload the receipt to this page: https://lsu.edu.ph/registrar/track";const t={...p.value,date_graduated_last_attended:V(p.value.date_graduated_last_attended).format("LL")};try{await $fetch(k.value+"/api/registrar/payment/fees/",{method:"POST",headers:{"Content-Type":"application/json"},body:t}),Ue.value=!0,setTimeout(()=>{Ue.value=!1},3e3)}catch(n){console.error("Error sending email:",n)}finally{ge.value=!1,ot(s)}},ot=async s=>{b.value="",w.value="",H.value=!0;const t="Assessment";try{const n={timestamp:V().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},l=s.logs?[...s.logs]:[];l.unshift(n),R.value=s.id;const x={...s,logs:l};await $fetch(`${k.value}/api/registrar/${R.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:x}),s.logs=l;const a=u.value.findIndex(d=>d.id===s.id);a!==-1&&(u.value[a].logs=l),ke.value[s.id]=!0,await $fetch(`${k.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await Z(),b.value="✅ Confirm and email sent successfully!",setTimeout(()=>{b.value=""},3e3)}catch(n){console.error("Error verifying and sending email:",n),w.value="❌ Failed to verify and send email.",setTimeout(()=>{w.value=""},3e3)}finally{H.value=!1}},W=()=>{q.value=!1,G.value=!1,Y.value=!1,F.value=!1,B.value=!1,S.value=!1,v.value=null,oe.value=null},rt=s=>{W(),v.value=s,S.value=!0,h.value=!0,Xe.value=""},ne=()=>{S.value=!1,h.value=T()},nt=s=>{W(),v.value=s,G.value=!0,h.value=!0,p.value.fullname=`${s.firstname} ${s.middlename} ${s.lastname}`,p.value.email=s.email,p.value.course=s.course,p.value.tracking_id=s.tracking_id,p.value.college=s.college,p.value.date_graduated_last_attended=V(s.date_graduated_last_attended).format("YYYY-MM-DD");const t=s.type_document_requests||[];p.value.detail_fees=t.map(n=>qe.value[n]?{fee_name:n,amount:qe.value[n]}:{fee_name:n,amount:0}),me()},Le=()=>{G.value=!1,v.value=null,h.value=T()},it=s=>{W(),oe.value=s,q.value=!0,h.value=!0},Re=()=>{q.value=!1,oe.value=null,h.value=T()},dt=async s=>{W(),v.value=s,Y.value=!0,h.value=!0,await Ze(s.tracking_id)},Ye=()=>{Y.value=!1,v.value=null,h.value=T()},ut=s=>{W(),v.value=s,F.value=!0,h.value=!0},Fe=()=>{F.value=!1,v.value=null,h.value=T()},ct=s=>{W(),v.value=s,B.value=!0,h.value=!0},Be=()=>{B.value=!1,v.value=null,h.value=T()},T=()=>G.value||Y.value||F.value||B.value||S.value||Q.value||q.value||O.value,K=i(""),Ne=i([{value:"Arts and Sciences, Engineering, Architecture, Computer Studies",label:"Arts and Sciences, Engineering, Architecture, Computer Studies"},{value:"Business, Commerce, Accountancy",label:"Business, Commerce, Accountancy"},{value:"Education / Graduate Studies",label:"Education / Graduate Studies"},{value:"Nursing / Tourism and Hospitality Management",label:"Nursing / Tourism and Hospitality Management"},{value:"Criminology / BS Psychology",label:"Criminology / BS Psychology"}]);i(null),i("asc");const ie=i(!1);Vt(async()=>{const s=z.user.email,t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Business, Commerce, Accountancy","cba.registrar@lsu.edu.ph":"Business, Commerce, Accountancy","cte.registrar@lsu.edu.ph":"Education / Graduate Studies","onlinerequest@lsu.edu.ph":"Nursing / Tourism and Hospitality Management","ccje.registrar@lsu.edu.ph":"Criminology / BS Psychology"},n=["jorenleeluna24@gmail.com","registrar@lsu.edu.ph","jason.yap@lsu.edu.ph"],l=[...n,...Object.keys(t)];window.addEventListener("keydown",x=>{x.key==="Escape"&&Q.value&&re()}),z.user.isAuthenticated&&l.includes(s)?(n.includes(s)?ie.value=!0:K.value=t[s]||"",await Ie(),ye.push("/registrar/dashboard"),we()):ye.push("/unauthorized")});let X=null,h=i(!1),be=i(!1);const de=i(!1),we=()=>{X&&clearInterval(X),X=Ft(async()=>{!T()&&!be.value&&!C.value&&!H.value&&!de.value&&(await Z(),await ft())},vo)};le(()=>h.value,s=>{if(typeof window<"u"){const t=document.documentElement.classList;s?t.add("overflow-hidden"):t.remove("overflow-hidden")}});const ue=()=>{X&&(clearInterval(X),X=null)},ft=async()=>{ue();try{const s=u.value;if(!s||!Array.isArray(s)||s.length===0)return;const t={},n=[];s.forEach(l=>{if(l.tracking_id)if(t[l.tracking_id]){const x=t[l.tracking_id],a=new Date(x.created_at)>new Date(l.created_at)?x.id:l.id;n.push(a)}else t[l.tracking_id]=l});for(const l of n)await $fetch(k.value+"/api/registrar/"+l+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});n.length>0&&await Ie()}catch(s){console.error("Error checking for duplicates:",s)}finally{we()}},_e=i({}),ke=i({}),Ce=i({}),je=i({}),Ae=i({}),Me=()=>{!u.value||!Array.isArray(u.value)||u.value.forEach(s=>{s&&s.id&&(_e.value[s.id]=gt(s))})},De=()=>{!u.value||!Array.isArray(u.value)||u.value.forEach(s=>{s&&s.id&&(ke.value[s.id]=vt(s))})},Se=()=>{!u.value||!Array.isArray(u.value)||u.value.forEach(s=>{s&&s.id&&(Ce.value[s.id]=pt(s))})},Te=()=>{!u.value||!Array.isArray(u.value)||u.value.forEach(s=>{s&&s.id&&(je.value[s.id]=mt(s))})},$e=()=>{!u.value||!Array.isArray(u.value)||u.value.forEach(s=>{s&&s.id&&(Ae.value[s.id]=xt(s))})},gt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Reviewed and Verified")),vt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Assessment")),pt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Preparing Documents")),mt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Releasing Documents")),xt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Transaction Closed"));le(()=>u.value,()=>{Me(),De(),Se(),Te(),$e()},{deep:!0});const Z=async()=>{if(!de.value){de.value=!0;try{const s=await $fetch(k.value+"/api/registrar/list").catch(()=>[])||[],t=(n,l)=>{const x=new Map((n||[]).map(d=>[d.id,d])),a=[];for(const d of l||[])d&&x.has(d.id)?(Object.assign(x.get(d.id),d),a.push(x.get(d.id))):d&&a.push(d);return a};if(Array.isArray(s)&&(N.value.length>0?(N.value=t(N.value,s),Pe()):u.value.length===0?u.value=s:u.value=t(u.value,s),Me(),De(),Se(),Te(),$e(),v.value)){const n=s.find(l=>l.id===v.value.id);n&&Object.assign(v.value,n)}}catch(s){console.error("Error fetching list items quietly:",s)}finally{de.value=!1}}},Ie=async()=>{ce.value=!0;try{const s=await $fetch(k.value+"/api/registrar/list").catch(t=>(console.error("Fetch error:",t),[]));u.value=Array.isArray(s)?s:[],N.value=[],fe.value="",Me(),De(),Se(),Te(),$e()}catch(s){console.error("Error fetching list items:",s),u.value=[]}finally{ce.value=!1}};Ge(()=>{ue()});const ht=()=>{ye.push("/registrar/login"),z.removeToken()},_=i([]),ee=i(!1),ze=L(()=>_.value.length===pe.value.length&&pe.value.length>0),yt=()=>{ue(),be.value=!0,ze.value?_.value=[]:_.value=pe.value.map(s=>s.id),we(),be.value=!1},bt=()=>{_.value.length!==0&&(O.value=!0,h.value=!0)},wt=()=>{O.value=!1,h.value=T()},_t=async()=>{if(_.value.length!==0)try{ee.value=!0;for(const s of _.value)await $fetch(k.value+"/api/registrar/"+s+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});_.value=[],await Ie(),O.value=!1,h.value=T()}catch(s){console.error("Error deleting items:",s)}finally{ee.value=!1}},te=L(()=>{let s=[...u.value];return E.value==="done"?s=s.filter(t=>t.logs?.some(n=>(n?.status_remarks?.toLowerCase()||"").includes("transaction closed"))):E.value==="pending"&&(s=s.filter(t=>t.logs?.every(n=>!(n?.status_remarks?.toLowerCase()||"").includes("transaction closed")))),Yt.orderBy(s,"created_at","asc")}),kt=s=>te.value.filter(t=>t.college===s&&t.logs?.some(n=>(n?.status_remarks?.toLowerCase()||"").includes("transaction closed"))).length,Ct=s=>te.value.filter(t=>t.college===s&&t.logs?.every(n=>!(n?.status_remarks?.toLowerCase()||"").includes("transaction closed"))).length,jt=s=>te.value.filter(t=>t.college===s).length,At=s=>{const t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Business, Commerce, Accountancy","cba.registrar@lsu.edu.ph":"Business, Commerce, Accountancy","cte.registrar@lsu.edu.ph":"Education / Graduate Studies","onlinerequest@lsu.edu.ph":"Nursing / Tourism and Hospitality Management","ccje.registrar@lsu.edu.ph":"Criminology / BS Psychology"};return Object.keys(t).filter(n=>t[n]===s)},ce=i(!0),$=i(1),fe=i(""),N=i([]),Ue=i(!1),ge=i(!1),Oe=L(()=>Math.ceil(te.value.length/Ve)),ve=L(()=>{const s=($.value-1)*Ve,t=s+Ve;return te.value.slice(s,t)}),pe=L(()=>!K.value||!K.value?ve.value:ve.value.filter(t=>t.college===K.value)),Mt=L(()=>{const s=[];let t=Math.max(1,$.value-Math.floor(he/2)),n=Math.min(Oe.value,t+he-1);n-t+1<he&&(t=Math.max(1,n-he+1));for(let l=t;l<=n;l++)s.push(l);return s});Ge(()=>{window.removeEventListener("keydown",s=>{s.key==="Escape"&&Q.value&&re()}),ue()});const Pe=()=>{$.value=1,N.value.length===0&&u.value.length>0&&(N.value=[...u.value]);const s=fe.value.toLowerCase().trim(),t=N.value.length>0?N.value:u.value;u.value=t.filter(n=>n?Object.keys(n).some(l=>typeof n[l]=="string"?n[l].toLowerCase().includes(s):!1):!1),_.value=[]},I=L(()=>!v.value?.logs||!Array.isArray(v.value.logs)?[]:[...v.value.logs].sort((s,t)=>{const n=V(s.timestamp,"MMMM DD, YYYY h:mm:ss A"),l=V(t.timestamp,"MMMM DD, YYYY h:mm:ss A");return n.valueOf()-l.valueOf()}));le(u,s=>{}),le(K,()=>{_.value=[]}),le(E,()=>{_.value=[]});const Dt=L(()=>z.user.email==="jorenleeluna24@gmail.com"||z.user.email==="registrar@lsu.edu.ph"),p=i({payment_id:"PID"+V().valueOf(),fullname:"",email:"",course:"",college:"",date_graduated_last_attended:"",total:"0",tracking_id:"",receipt_image_url:[],detail_fees:[]}),qe=i({"Transcript of Records":85,"Transfer of Credentials (Honorable Dismissal)":0,"CAV (Certification, Authentication, Verification)":0,"Credential Evaluations (WES, CGFNS, NCLEX, SpanTran, IES, etc.)":0}),St=()=>{p.value.detail_fees.push({fee_name:"",amount:0}),me()},Tt=s=>{p.value.detail_fees.splice(s,1),me()},me=()=>{let s=0;p.value.detail_fees.forEach(n=>{s+=Number((n.amount||0).toString())});const t=s.toFixed(2);p.value.total=t},xe=s=>{try{const t=typeof s=="string"?s:s?.url||s?.href||"";if(!t)return"";const n=t.match(/^(.*?\.(?:png|jpe?g))(?:[?#].*)?$/i);return n?n[1]:t}catch{return""}};le(()=>p.value.detail_fees,()=>me(),{deep:!0});const $t=L(()=>p.value?.detail_fees?.some(s=>!s.fee_name||s.fee_name.trim()===""));return(s,t)=>{const n=It;return r(),o("div",null,[e("div",Bt,[m(e("div",Nt,[e("div",zt,[e("div",Ot,[e("div",qt,[t[22]||(t[22]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",Gt,g(M(z).user.email),1)]),e("div",{onClick:t[0]||(t[0]=l=>Qe(j)?j.value=!M(j):j=!M(j)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:c(["fa text-3xl text-white",M(j)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[23]||(t[23]=Ke('<div class=""><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto"></div><div class="text-center"><h1 class="font-bold text-green-800 text-2xl">Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/registrar/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1))])],512),[[He,M(j)]]),e("div",Ht,[e("div",Kt,[e("div",Qt,[e("div",{onClick:t[1]||(t[1]=l=>Qe(j)?j.value=!M(j):j=!M(j)),class:"w-auto flex items-center lg:px-1.5"},[e("i",{class:c(["fa text-3xl text-white",M(j)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),t[24]||(t[24]=e("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Registrar ",-1))]),e("button",{onClick:ht,class:"flex hover:font-bold pt-1"},[...t[25]||(t[25]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)])])])]),Dt.value?(r(),o("div",Jt,[e("div",Wt,[(r(!0),o(D,null,U(Ne.value,l=>(r(),o("div",{key:l.value,class:"border border-gray-300 rounded-lg px-2 py-2 shadow-sm w-full"},[e("div",Xt,g(l.label),1),e("div",Zt,g(At(l.value).join(", ")),1),e("div",es,[e("span",ts," Pending: "+g(Ct(l.value)),1),e("span",ss," Done: "+g(kt(l.value)),1),e("span",ls," Total: "+g(jt(l.value)),1)])]))),128))])])):f("",!0),e("div",null,[e("div",as,[m(e("div",os,[t[98]||(t[98]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-1 text-xs uppercase"}," All Request Lists ",-1)),b.value?(r(),o("div",rs,[e("p",ns,g(b.value),1)])):f("",!0),w.value?(r(),o("div",is,[e("p",ds,g(w.value),1)])):f("",!0),e("div",us,[e("div",cs,[ie.value?(r(),o("div",fs,[e("button",{onClick:yt,class:"flex items-center text-xs px-2 py-1 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 transition whitespace-nowrap"},g(ze.value?"Deselect All":"Select All"),1),e("button",{onClick:bt,disabled:_.value.length===0,class:c([_.value.length===0?"bg-pink-100 text-red-300 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700","flex items-center text-xs px-2 py-1 rounded-md transition whitespace-nowrap"])},[t[26]||(t[26]=e("i",{class:"fa fa-trash mr-1"},null,-1)),P(" ("+g(_.value.length)+") ",1)],10,gs)])):f("",!0),ie.value?(r(),o("div",vs,[m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>K.value=l),class:"w-full text-xs px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},[t[27]||(t[27]=e("option",{value:""},"All Colleges",-1)),(r(!0),o(D,null,U(Ne.value,l=>(r(),o("option",{key:l.value,value:l.value},g(l.label),9,ps))),128))],512),[[Je,K.value]])])):f("",!0),e("div",ms,[m(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>fe.value=l),type:"search",placeholder:"Search",class:"text-xs w-full border border-gray-300 rounded-md px-2 py-1 pr-8 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",onKeyup:Et(Pe,["enter"])},null,544),[[y,fe.value]]),e("button",{onClick:Pe,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-green-600"},[...t[28]||(t[28]=[e("i",{class:"fa fa-search"},null,-1)])])]),e("div",xs,[e("button",{onClick:t[4]||(t[4]=l=>E.value="all"),class:c([E.value==="all"?"bg-gray-900 text-white":"bg-white text-gray-900 border hover:bg-gray-900 hover:text-white","text-xs border border-gray-900 px-2 py-1 rounded-full transition"])}," All ",2),e("button",{onClick:t[5]||(t[5]=l=>E.value="pending"),class:c([E.value==="pending"?"bg-red-500 text-white":"bg-white text-red-600 border hover:bg-red-500 hover:text-white","text-xs border border-red-600 px-2 py-1 rounded-full transition"])}," Pending ",2),e("button",{onClick:t[6]||(t[6]=l=>E.value="done"),class:c([E.value==="done"?"bg-green-600 text-white":"bg-white text-green-600 border hover:bg-green-600 hover:text-white","text-xs border border-green-600 px-2 py-1 rounded-full transition"])}," Done ",2)])])]),e("div",hs,[e("div",ys,[ce.value?(r(),o("div",bs,[...t[29]||(t[29]=[Ke('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)])])):(r(),o("div",ws,[ve.value.length>0?(r(),o("div",_s,[(r(!0),o(D,null,U(pe.value,(l,x)=>(r(),o("div",{class:"flex items-center h-auto shadow lg:mb-0 mb-3 border-gray-200",key:x},[ie.value?(r(),o("div",ks,[e("div",Cs,[m(e("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":t[7]||(t[7]=a=>_.value=a),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"},null,8,js),[[Rt,_.value]])])])):f("",!0),e("div",{class:c(["w-full border-l lg:flex items-center",x%2?"bg-gray-100":""])},[e("div",As,[e("div",null,[e("div",Ms,[e("div",Ds,[e("div",Ss,[t[30]||(t[30]=e("span",{class:"mr-1"},"Tracking ID:",-1)),e("span",Ts,g(l.tracking_id),1)])])])])]),e("div",$s,[e("div",Is,[e("div",Us,[t[31]||(t[31]=e("i",{class:"fa fa-user mr-2.5"},null,-1)),P(" "+g(l.lastname)+", "+g(l.firstname)+" "+g(l.middlename),1)])]),S.value&&v.value===l?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-xs transition-opacity duration-300",onClick:ne},[e("div",{class:c(["rounded-lg p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":S.value,"scale-95 opacity-0":!S.value}]),onClick:t[8]||(t[8]=A(()=>{},["stop"]))},[e("div",Ps,[e("h3",Vs," Status Logs - "+g(v.value?.tracking_id||"N/A"),1),e("button",{onClick:ne,class:"text-gray-400 hover:text-gray-500"},[...t[32]||(t[32]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",Es,[!v.value?.logs||v.value.logs.length===0?(r(),o("div",Ls," No logs available ")):(r(),o("div",Rs,[(r(!0),o(D,null,U(I.value,(a,d)=>(r(),o("div",{key:d,class:c(["border-l-4 rounded-r text-[10px]",d===I.value.length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[e("div",Ys,[e("div",{class:c(["font-medium w-9/12",d===I.value.length-1?"text-green-800 text-sm":"text-gray-500"])},[e("div",{class:c(["w-full bg-transparent focus:outline-none px-1",d===I.value.length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},g(a.status_remarks),3)],2),e("div",Fs,[e("div",{class:c(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",d===I.value.length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},g(a.timestamp),3)])])],2))),128))]))])],2)])):f("",!0),q.value&&oe.value===l?(r(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:Re},[e("div",{class:c(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-2xl mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":q.value,"scale-95 opacity-0":!q.value}]),onClick:t[9]||(t[9]=A(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[34]||(t[34]=e("h3",{class:"text-lg font-medium text-gray-900"}," Personal Information ",-1)),e("button",{onClick:Re,class:"text-gray-400 hover:text-gray-500"},[...t[33]||(t[33]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",Bs,[e("div",Ns,[e("div",zs,[t[36]||(t[36]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-user text-green-600"})],-1)),e("div",Os,[t[35]||(t[35]=e("p",{class:"text-sm font-medium"}," Fullname ",-1)),e("p",qs,g(l.firstname)+" "+g(l.middlename)+" "+g(l.lastname),1)])]),e("div",Gs,[t[38]||(t[38]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-bookmark text-green-600"})],-1)),e("div",Hs,[t[37]||(t[37]=e("p",{class:"text-sm font-medium"}," Tracking ID ",-1)),e("p",Ks,g(l.tracking_id),1)])]),e("div",Qs,[t[40]||(t[40]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-envelope text-green-600"})],-1)),e("div",Js,[t[39]||(t[39]=e("p",{class:"font-medium text-gray-900"}," Email ",-1)),m(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>l.email=a},null,8,Ws),[[y,l.email]])])]),e("div",Xs,[t[42]||(t[42]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-phone text-green-600"})],-1)),e("div",Zs,[t[41]||(t[41]=e("p",{class:"font-medium text-gray-900"}," Contact Number ",-1)),m(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>l.contact_number=a},null,8,el),[[y,l.contact_number]])])]),e("div",tl,[t[44]||(t[44]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-birthday-cake text-green-500"})],-1)),e("div",sl,[t[43]||(t[43]=e("p",{class:"font-medium text-gray-900"}," Date of Birth ",-1)),m(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>l.birthdate=a},null,8,ll),[[y,l.birthdate]])])]),e("div",al,[t[46]||(t[46]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-female text-green-500"})],-1)),e("div",ol,[t[45]||(t[45]=e("p",{class:"font-medium text-gray-900"}," Mother's Maiden Name ",-1)),m(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>l.mother_maiden_name=a},null,8,rl),[[y,l.mother_maiden_name]])])]),e("div",nl,[t[49]||(t[49]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-graduation-cap text-green-500"})],-1)),e("div",il,[t[48]||(t[48]=e("p",{class:"font-medium text-gray-900"}," ICC / LSU Graduate? ",-1)),m(e("select",{class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>l.alumni=a},[...t[47]||(t[47]=[e("option",{value:"yes"},"Alumnus",-1),e("option",{value:"no"}," Non-Alumnus ",-1)])],8,dl),[[Je,l.alumni]])])]),e("div",ul,[t[51]||(t[51]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-university text-green-500"})],-1)),e("div",cl,[t[50]||(t[50]=e("p",{class:"font-medium text-gray-900"}," College ",-1)),m(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>l.college=a},null,8,fl),[[y,l.college]])])]),e("div",gl,[t[53]||(t[53]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-book text-green-500"})],-1)),e("div",vl,[t[52]||(t[52]=e("p",{class:"font-medium text-gray-900"}," Course ",-1)),m(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>l.course=a},null,8,pl),[[y,l.course]])])]),e("div",ml,[t[55]||(t[55]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-calendar text-green-500"})],-1)),e("div",xl,[t[54]||(t[54]=e("p",{class:"font-medium text-gray-900"}," Academic Year Graduated or Attended ",-1)),m(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>l.year_graduated_last_attended=a},null,8,hl),[[y,l.year_graduated_last_attended]])])])]),e("div",yl,[e("div",bl,[e("div",wl,[t[62]||(t[62]=e("div",{class:"font-bold text-sm mr-1 text-center"}," IDs and Documents: ",-1)),e("div",_l,[l?(r(),o("span",kl,[e("a",{onClick:A(a=>ae(l.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0]),["prevent"])},[l.valid_id_front?.[0]?.url?.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?(r(),o("img",{key:0,src:l.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0],class:"cursor-pointer rounded-sm border-2 border-green-800 w-7 h-7 hover:opacity-80 transition-opacity"},null,8,jl)):f("",!0)],8,Cl),l.valid_id_front?.[0]?.url?.match(/https:\/\/.*?\.(pdf)/i)?(r(),o("a",{key:0,href:l.valid_id_front?.[0]?.url.match(/https:\/\/.*?\.(pdf)/i)?.[0],target:"_blank",download:""},[...t[56]||(t[56]=[e("i",{class:"fa fa-file-pdf text-red-700 text-2xl","aria-hidden":"true"},null,-1)])],8,Al)):f("",!0),l.valid_id_front?.[0]?.url?.match(/https:\/\/.*?\.(docx)/i)?(r(),o("a",{key:1,href:l.valid_id_front?.[0]?.url.match(/https:\/\/.*?\.(docx)/i)?.[0],target:"_blank",download:""},[...t[57]||(t[57]=[e("i",{class:"fa fa-file text-blue-800 text-2xl","aria-hidden":"true"},null,-1)])],8,Ml)):f("",!0),e("a",{onClick:A(a=>ae(l.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0]),["prevent"])},[l.valid_id_back?.[0]?.url?.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?(r(),o("img",{key:0,src:l.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0],class:"cursor-pointer rounded-sm border-2 border-green-800 w-7 h-7 hover:opacity-80 transition-opacity"},null,8,Sl)):f("",!0)],8,Dl),l.valid_id_back?.[0]?.url?.match(/https:\/\/.*?\.(pdf)/i)?(r(),o("a",{key:2,href:l.valid_id_back?.[0]?.url.match(/https:\/\/.*?\.(pdf)/i)?.[0],target:"_blank",download:""},[...t[58]||(t[58]=[e("i",{class:"fa fa-file-pdf text-red-700 text-2xl","aria-hidden":"true"},null,-1)])],8,Tl)):f("",!0),l.valid_id_back?.[0]?.url?.match(/https:\/\/.*?\.(docx)/i)?(r(),o("a",{key:3,href:l.valid_id_back?.[0]?.url.match(/https:\/\/.*?\.(docx)/i)?.[0],target:"_blank",download:""},[...t[59]||(t[59]=[e("i",{class:"fa fa-file text-blue-800 text-2xl","aria-hidden":"true"},null,-1)])],8,$l)):f("",!0),e("a",{onClick:A(a=>ae(l.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0]),["prevent"])},[l.credential_evaluation_requests?.[0]?.url?.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?(r(),o("img",{key:0,src:l.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0],class:"cursor-pointer rounded-sm border-2 border-green-800 w-7 h-7 hover:opacity-80 transition-opacity"},null,8,Ul)):f("",!0)],8,Il),l.credential_evaluation_requests?.[0]?.url?.match(/https:\/\/.*?\.(pdf)/i)?(r(),o("a",{key:4,href:l.credential_evaluation_requests?.[0]?.url.match(/https:\/\/.*?\.(pdf)/i)?.[0],target:"_blank",download:""},[...t[60]||(t[60]=[e("i",{class:"fa fa-file-pdf text-red-700 text-2xl","aria-hidden":"true"},null,-1)])],8,Pl)):f("",!0),l.credential_evaluation_requests?.[0]?.url?.match(/https:\/\/.*?\.(docx)/i)?(r(),o("a",{key:5,href:l.credential_evaluation_requests?.[0]?.url.match(/https:\/\/.*?\.(docx)/i)?.[0],target:"_blank",download:""},[...t[61]||(t[61]=[e("i",{class:"fa fa-file text-blue-800 text-2xl","aria-hidden":"true"},null,-1)])],8,Vl)):f("",!0)])):f("",!0)])])]),l.details?(r(),o("div",El,[t[63]||(t[63]=e("p",{class:"font-bold mr-1"}," Purpose and Details: ",-1)),P(" "+g(l.details),1)])):f("",!0),e("div",Ll,[t[65]||(t[65]=e("p",{class:"font-bold text-gray-900 py-2"}," Type of Document Request ",-1)),e("div",Rl,[(r(!0),o(D,null,U(l?.type_document_requests||[],(a,d)=>(r(),o("span",{key:d,class:"px-2 py-0.5 text-xs rounded bg-green-100 text-green-800 border border-green-600"},g(a),1))),128))]),e("div",Yl,[t[64]||(t[64]=e("label",{class:"text-sm font-bold text-gray-900 mb-2"},"Follow Up Remarks:",-1)),m(e("textarea",{class:"text-xs shadow-md py-1 px-2 w-full border-2 border-black rounded-md",placeholder:"Follow Up Remarks","onUpdate:modelValue":a=>l.follow_up_remarks=a,rows:"3"},null,8,Fl),[[y,l.follow_up_remarks]])])])])]),e("div",Bl,[e("div",{onClick:a=>et(l),class:c(["w-full text-center px-2 py-1 font-bold bg-green-600 text-white rounded-md mt-2 cursor-pointer hover:bg-white hover:text-green-600 border hover:border-green-600",{"opacity-75 cursor-not-allowed":H.value}])},[H.value?(r(),o("span",zl,[...t[66]||(t[66]=[e("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),P(" Notifying... ",-1)])])):(r(),o("span",Ol,"Notify"))],10,Nl)])],2)])):f("",!0),G.value&&v.value===l?(r(),o("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:Le},[e("div",{class:c(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-3xl mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":G.value,"scale-95 opacity-0":!G.value}]),onClick:t[14]||(t[14]=A(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[68]||(t[68]=e("h3",{class:"text-lg font-medium text-gray-900"}," Payment Information ",-1)),e("button",{onClick:Le,class:"text-gray-400 hover:text-gray-500"},[...t[67]||(t[67]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",ql,[e("div",Gl,[e("div",Hl,[e("div",Kl,[t[69]||(t[69]=e("label",{class:"text-xs text-gray-900 whitespace-nowrap"},"Department / College",-1)),m(e("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=a=>p.value.college=a),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[y,p.value.college]])])]),e("div",Ql,[e("div",Jl,[t[70]||(t[70]=e("label",{class:"text-xs text-gray-900"},"Course",-1)),m(e("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=a=>p.value.course=a),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[y,p.value.course]])])]),e("div",Wl,[e("div",Xl,[t[71]||(t[71]=e("label",{class:"text-xs text-gray-900 whitespace-nowrap"},"Date Graduated/Last Attended",-1)),m(e("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=a=>p.value.date_graduated_last_attended=a),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"Month Day Year"},null,512),[[y,p.value.date_graduated_last_attended]])])]),e("div",Zl,[e("div",ea,[t[72]||(t[72]=e("label",{class:"text-xs text-gray-900"},"Total",-1)),m(e("input",{type:"number","onUpdate:modelValue":t[13]||(t[13]=a=>p.value.total=a),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[y,p.value.total]])])])]),e("div",ta,[e("div",sa,[t[74]||(t[74]=e("p",{class:"font-medium text-gray-900 text-center py-2"}," Detail Fees ",-1)),(r(!0),o(D,null,U(p.value?.detail_fees,(a,d)=>(r(),o("div",{key:d,class:"flex w-full gap-x-3"},[e("div",la,[e("label",{for:"fee_name_"+d,class:"w-full text-xs font-medium text-gray-700"}," Fee Name: ",8,aa),m(e("input",{type:"text",id:"fee_name_"+d,"onUpdate:modelValue":se=>a.fee_name=se,class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},null,8,oa),[[y,a.fee_name]])]),e("div",ra,[e("label",{for:"fee_amount_"+d,class:"w-full text-xs font-medium text-gray-700"}," Amount: ",8,na),m(e("input",{type:"number",id:"fee_amount_"+d,"onUpdate:modelValue":se=>a.amount=se,class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},null,8,ia),[[y,a.amount]])]),e("button",{onClick:se=>Tt(d),class:"px-1.5 py-1 text-red-500 hover:text-white text-xs bg-white border border-red-600 rounded-md hover:bg-red-600"},[...t[73]||(t[73]=[e("i",{class:"fa fa-close"},null,-1)])],8,da)]))),128))]),e("button",{onClick:St,class:"mx-auto px-3 py-1 text-sm bg-green-500 text-white rounded-md hover:bg-green-600 mt-5"}," Add Fee ")]),e("div",ua,[t[75]||(t[75]=e("label",{class:"text-xs text-gray-900 mb-2"}," Follow Up Remarks: ",-1)),m(e("textarea",{class:"text-xs shadow-md py-1 px-2 w-full border-2 border-black",placeholder:"Follow Up Remarks","onUpdate:modelValue":a=>l.follow_up_remarks=a,rows:"3"},null,8,ca),[[y,l.follow_up_remarks]])]),e("div",fa,[e("button",{onClick:a=>at(l),disabled:$t.value||ge.value,class:"w-full text-center px-2 py-1 font-bold bg-green-600 text-white rounded-md mt-2 cursor-pointer hover:bg-white hover:text-green-600 border hover:border-green-600"},[ge.value?(r(),o(D,{key:0},[t[76]||(t[76]=e("svg",{class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)),t[77]||(t[77]=P(" Sending... ",-1))],64)):(r(),o(D,{key:1},[P(" Send Payment ")],64))],8,ga)]),Ue.value?(r(),o("div",va," ✅ Payment details sent successfully! ")):f("",!0)])],2)])):f("",!0),S.value&&v.value===l?(r(),o("div",{key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:ne},[e("div",{class:c(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-2xl mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":S.value,"scale-95 opacity-0":!S.value}]),onClick:t[15]||(t[15]=A(()=>{},["stop"]))},[e("div",pa,[e("h3",ma," Status Logs - "+g(v.value?.tracking_id||"N/A"),1),e("button",{onClick:ne,class:"text-gray-400 hover:text-gray-500"},[...t[78]||(t[78]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",xa,[!v.value?.logs||v.value.logs.length===0?(r(),o("div",ha," No logs available ")):(r(),o("div",ya,[(r(!0),o(D,null,U(I.value,(a,d)=>(r(),o("div",{key:d,class:c(["border-l-4 rounded-r text-[10px]",d===I.value.length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[e("div",ba,[e("div",{class:c(["font-medium w-9/12",d===I.value.length-1?"text-green-800 text-sm":"text-gray-500"])},[e("div",{class:c(["w-full bg-transparent focus:outline-none px-1",d===I.value.length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},g(a.status_remarks),3)],2),e("div",wa,[e("div",{class:c(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",d===I.value.length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},g(a.timestamp),3)])])],2))),128))]))])],2)])):f("",!0)]),Y.value&&v.value===l?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:Ye},[e("div",{class:c(["bg-white dark:bg-gray-800 rounded-xl shadow-3xl p-6 w-full max-w-sm mx-4 transform transition-all duration-300 ease-out",{"scale-100 opacity-100":Y.value,"scale-95 opacity-0":!Y.value}]),onClick:t[16]||(t[16]=A(()=>{},["stop"]))},[e("div",{class:"flex items-center justify-between pb-4 mb-4 border-b border-gray-200 dark:border-gray-700"},[t[80]||(t[80]=e("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-100"},"Verify & Prepare Documents",-1)),e("button",{onClick:Ye,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},[...t[79]||(t[79]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1)])])]),e("div",_a,[J.value?.receipt_image_url?.length?(r(),o("div",ka,[t[82]||(t[82]=e("p",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Uploaded Receipts:",-1)),e("div",Ca,[(r(!0),o(D,null,U(J.value.receipt_image_url,(a,d)=>(r(),o("div",{key:d,class:"group relative"},[e("a",{href:"#",onClick:A(se=>ae(xe(a)),["prevent"]),class:"block"},[e("img",{src:xe(a),alt:"Uploaded Receipt",class:"w-16 h-16 object-cover rounded-md border border-gray-200 dark:border-gray-700 transition-all duration-200 group-hover:scale-105 group-hover:shadow-md"},null,8,Aa),t[81]||(t[81]=e("span",{class:"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-md text-white text-xs font-semibold"},"View",-1))],8,ja)]))),128))])])):f("",!0),J.value?.additional_docs_image_url?.length?(r(),o("div",Ma,[t[84]||(t[84]=e("p",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"},"Uploaded Additional Documents:",-1)),e("div",Da,[(r(!0),o(D,null,U(J.value.additional_docs_image_url,(a,d)=>(r(),o("div",{key:d,class:"group relative"},[e("a",{href:"#",onClick:A(se=>ae(xe(a)),["prevent"]),class:"block"},[e("img",{src:xe(a),alt:"Uploaded Receipt",class:"w-16 h-16 object-cover rounded-md border border-gray-200 dark:border-gray-700 transition-all duration-200 group-hover:scale-105 group-hover:shadow-md"},null,8,Ta),t[83]||(t[83]=e("span",{class:"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-md text-white text-xs font-semibold"},"View",-1))],8,Sa)]))),128))])])):f("",!0),e("div",null,[t[85]||(t[85]=e("label",{for:"follow-up-remarks",class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 block"},"Follow-up Remarks:",-1)),m(e("textarea",{id:"follow-up-remarks",class:"block w-full text-sm rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 p-3 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 placeholder:text-gray-400 dark:placeholder:text-gray-500",placeholder:"Add any necessary follow-up remarks here...","onUpdate:modelValue":a=>l.follow_up_remarks=a,rows:"3"},null,8,$a),[[y,l.follow_up_remarks]])])]),e("div",Ia,[e("button",{onClick:a=>tt(l),class:c(["w-full flex items-center justify-center gap-2 px-4 py-0.5 text-base font-semibold rounded-lg transition-all duration-250 ease-in-out",{"bg-green-600 hover:bg-white hover:text-green-600 text-white hover:border hover:border-green-600  shadow-md hover:shadow-lg":!C.value,"bg-gray-400 text-white cursor-not-allowed":C.value}]),disabled:C.value},[C.value?(r(),o("span",Pa,[...t[86]||(t[86]=[e("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 0 1 4 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),P(" Notifying... ",-1)])])):(r(),o("span",Va,"Notify"))],10,Ua)])],2)])):f("",!0),F.value&&v.value===l?(r(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:Fe},[e("div",{class:c(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-md mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":F.value,"scale-95 opacity-0":!F.value}]),onClick:t[17]||(t[17]=A(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[88]||(t[88]=e("h3",{class:"text-lg font-medium text-gray-900"}," Releasing Documents ",-1)),e("button",{onClick:Fe,class:"text-gray-400 hover:text-gray-500"},[...t[87]||(t[87]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",Ea,[t[89]||(t[89]=e("label",{class:"text-xs text-gray-900 font-bold mb-2"},"Follow Up Remarks:",-1)),m(e("textarea",{class:"text-xs shadow-md py-1 px-2 w-full border-2 border-black",placeholder:"Follow Up Remarks","onUpdate:modelValue":a=>l.follow_up_remarks=a,rows:"5"},null,8,La),[[y,l.follow_up_remarks]])]),e("div",{onClick:a=>st(l),class:c(["w-full text-center px-2 py-1 font-bold bg-green-600 text-white rounded-md mt-2 cursor-pointer hover:bg-white hover:text-green-600 border hover:border-green-600",{"opacity-75 cursor-not-allowed":C.value}])},[C.value?(r(),o("span",Ya,[...t[90]||(t[90]=[e("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),P(" Confirming... ",-1)])])):(r(),o("span",Fa,"Confirm"))],10,Ra)],2)])):f("",!0),B.value&&v.value===l?(r(),o("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:Be},[e("div",{class:c(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-md mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":B.value,"scale-95 opacity-0":!B.value}]),onClick:t[18]||(t[18]=A(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[92]||(t[92]=e("h3",{class:"text-lg font-medium text-gray-900"}," Transaction Closed ",-1)),e("button",{onClick:Be,class:"text-gray-400 hover:text-gray-500"},[...t[91]||(t[91]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",{onClick:a=>lt(l),class:c(["w-full text-center px-2 py-1 font-bold bg-green-600 text-white rounded-md mt-2 cursor-pointer hover:bg-white hover:text-green-600 border hover:border-green-600",{"opacity-75 cursor-not-allowed":C.value}])},[C.value?(r(),o("span",Na,[...t[93]||(t[93]=[e("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),P(" Confirming... ",-1)])])):(r(),o("span",za,"Confirm"))],10,Ba)],2)])):f("",!0),e("div",Oa,[e("div",qa,[e("div",Ga,[e("button",{onClick:a=>it(l),class:c(["w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",_e.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700"])}," 1. Verify Info ",10,Ha),e("button",{class:c(["w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",ke.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700"]),onClick:a=>nt(l)}," 2. Assessment ",10,Ka),e("button",{onClick:a=>dt(l),class:c([Ce.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 3. Preparing Documents ",10,Qa),e("button",{onClick:a=>ut(l),class:c([je.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 4. Releasing Documents ",10,Ja),e("button",{onClick:a=>ct(l),class:c([Ae.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 5. Transaction Closed ",10,Wa),e("button",{class:"lg:w-fit w-full px-2 py-1 text-green-700 cursor-pointer bg-white border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",onClick:a=>rt(l)},[...t[94]||(t[94]=[e("i",{class:"fa fa-ellipsis-h"},null,-1)])],8,Xa)])])])],2)]))),128)),Q.value?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-emerald-900/70 backdrop-blur-md",onClick:re},[e("div",{class:"relative max-w-4xl max-h-[90vh] overflow-auto bg-white p-2 rounded-lg",onClick:t[19]||(t[19]=A(()=>{},["stop"]))},[e("button",{onClick:re,class:"absolute top-2 right-2 text-gray-700 hover:text-red-500 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-md"},[...t[95]||(t[95]=[e("i",{class:"fa fa-close"},null,-1)])]),e("img",{src:Ee.value,class:"max-w-full max-h-[85vh] object-contain"},null,8,Za)])])):f("",!0),M(O)?(r(),o("div",eo,[e("div",{class:c(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-md mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":M(O),"scale-95 opacity-0":!M(O)}])},[e("div",to,[t[96]||(t[96]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[e("i",{class:"fa fa-exclamation-triangle text-red-600 text-xl"})],-1)),t[97]||(t[97]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Confirm Deletion ",-1)),e("p",so," Are you sure you want to delete "+g(_.value.length===1?"this record":"these "+_.value.length+" records")+"? This action cannot be undone. ",1)]),e("div",lo,[e("button",{onClick:_t,class:"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:ee.value},[ee.value?(r(),o("i",oo)):f("",!0),P(" "+g(ee.value?"Deleting...":"Delete"),1)],8,ao),e("button",{onClick:wt,class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:ee.value}," Cancel ",8,ro)])],2)])):f("",!0)])):f("",!0),te.value.length>0?(r(),o("div",no,[e("button",{disabled:$.value===1,onClick:t[20]||(t[20]=l=>$.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,io),(r(!0),o(D,null,U(Mt.value,l=>(r(),o("button",{key:l,onClick:x=>$.value=l,class:c(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":$.value===l,"bg-gray-200":$.value!==l}])},g(l),11,uo))),128)),e("button",{disabled:$.value===Oe.value,onClick:t[21]||(t[21]=l=>$.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,co)])):ce.value?f("",!0):(r(),o("div",fo," No items found! "))]))])])],512),[[He,M(We)]])])])])]),e("div",go,[Lt(n)])])}}};export{wo as default};
