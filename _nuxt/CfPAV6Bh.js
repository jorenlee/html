import{_ as Z}from"./dt1zPVXz.js";import{e as j,u as ee,r as i,g as te,y as V,c as o,a as e,k as f,h as x,m as T,f as p,j as Q,v as se,d as m,n as d,i as E,F as y,l as _,t as n,N as P,b as le,o as r}from"./BMBR0Fmz.js";import{_ as ae}from"./5JjjnmY2.js";import"./C5S46NFB.js";const oe={class:"lg:flex min-h-screen"},ne={class:"w-full"},re={key:0,class:"w-fit mx-auto flex items-center"},ie={key:1},de={key:0,class:"w-fit mx-auto mt-4 shadow-lg rounded-lg"},ue={class:"w-full lg:p-5 px-2 py-2"},ce={class:"relative"},ve={key:0,class:"text-center"},pe={key:1},ge={key:0,class:"gap-4"},fe={class:"w-full"},xe={class:"lg:flex items-center w-full"},he={class:"lg:w-4/12 w-full block text-left lg:px-2 px-0.5"},me={class:"w-full px-2 truncate"},be={class:""},we={class:""},ye={class:"w-full px-2"},_e={class:"px-2"},ke={class:"lg:w-[100px] w-full flex items-center justify-center uppercase"},Ce={class:"gap-x-0.5 w-full flex"},Ie={class:"lg:w-[270px] w-full font-bold py-1 px-2 flex items-center lg:justify-normal justify-center"},Le={class:"lg:w-4/12 w-full flex items-center"},Ve={class:"w-full"},Pe={class:"lg:flex items-center w-11/12 mx-auto mb-1"},Se={class:"flex w-full"},Ne={class:"border-b py-0.5 px-1 text-left truncate w-[200px]"},$e={key:0,class:"lg:flex items-center w-11/12 mx-auto"},Ue={class:"flex w-full"},Me={class:"border-b py-0.5 px-1 text-left truncate w-[200px]"},Be={class:"gap-x-5 w-fit ml-5 pt-1"},Te=["href"],Ae=["href"],De={class:"w-full px-10"},Re=["onClick"],Fe={class:"text-[10px] font-light whitespace-nowrap text-center"},Qe={class:""},Ee={key:2,class:"flex justify-center my-4"},Ge=["disabled"],qe=["onClick"],ze=["disabled"],Oe={key:3,class:"text-center my-5"},He={key:0,class:"w-full z-10 bg-white h-full"},Je={class:"w-fit mx-auto shadow-lg rounded-lg mb-6"},Ke={class:"border-4 border-gray-100 shadow-lg"},We={class:"flex items-center"},Xe={class:"lg:gap-x-3 lg:text-sm text-xs"},Ye={class:"w-full"},Ze={class:"w-full"},je={class:"w-full"},et={class:"w-full"},tt={class:"w-full"},st={class:"w-full lg:text-center my-2 border-2 border-green-800 shadow-2xl flex"},lt={class:"w-full"},at={class:"w-full"},ot={class:"w-full"},nt={class:"w-full"},rt={class:"w-full"},it={class:"flex items-center w-full lg:text-center my-2 border-2 border-green-800 shadow-2xl"},dt=["onUpdate:modelValue"],ut=["onUpdate:modelValue"],ct={class:"static bottom-0 w-full"},A=5,S=3,ht={__name:"index",setup(vt){j();const G=ee(),I=i(G.mainDevServer),k=i(0),q=i("13579"),N=i("");let z=i(!0);i(!1),i(!1);const l=i(null),g=i(!1);te(async()=>{await O()});const O=async()=>{try{k.value=await $fetch(I.value+"/api/campus-pass/list").catch(a=>a.data)||[]}catch(a){console.error("Error fetching list items:",a)}finally{M.value=!1}},H=()=>{window.print()},$=i(!1),J=()=>{q.value===N.value&&($.value=!0)};let D=i(null);const K=async a=>{l.value=await $fetch(I.value+"/api/campus-pass/"+a+"/").catch(t=>t.data),g.value=!g.value,D.value=a},L=async a=>{console.log(a),W(a)},W=async a=>{await $fetch(I.value+"/api/campus-pass/"+a+"/edit/",{method:"PUT",body:l.value}).then(async t=>{console.log("response",t)})};let b=i(""),h=i(""),C;const U=V(()=>{if(C=Array.isArray(k.value)?[...k.value]:[],b.value!==""){const a=b.value.toLowerCase();c.value=1,C=C.filter(t=>{for(const u in t)if(typeof t[u]=="string"&&t[u].toLowerCase().includes(a))return!0;return!1})}else C=Array.isArray(k.value)?[...k.value]:[];return ae.orderBy(C,"incharge_lastname","asc")}),X=async()=>{if(h.value!==""){const a=h.value.toLowerCase();l.value.name_list=l.value.name_list.filter(t=>{for(const u in t)if(typeof t[u]=="string"&&t[u].toLowerCase().includes(a))return!0;return!1})}else l.value=await $fetch(I.value+"/api/campus-pass/"+D.value+"/").catch(a=>a.data)},M=i(!0),c=i(1),R=V(()=>Math.ceil(U.value.length/A)),F=V(()=>{const a=(c.value-1)*A,t=a+A;return U.value.slice(a,t)}),Y=V(()=>{const a=[];let t=Math.max(1,c.value-Math.floor(S/2)),u=Math.min(R.value,t+S-1);u-t+1<S&&(t=Math.max(1,u-S+1));for(let s=t;s<=u;s++)a.push(s);return a});return(a,t)=>{const u=Z;return r(),o("div",null,[e("div",oe,[e("div",ne,[t[32]||(t[32]=e("div",{class:"bg-green-800"},[e("div",{class:"flex mx-auto justify-between py-2 px-3.5"},[e("a",{href:"/",class:"w-fit mx-auto"},[e("img",{src:"https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/lsu-w-h.png",class:"lg:h-9 h-8"})])])],-1)),$.value?f("",!0):(r(),o("div",re,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>N.value=s),placeholder:"Pin Code",class:"text-center my-3 rounded-bl-md rounded-tl-md px-2 text-lg border shadow-lg border-green-700 w-[100px]",type:"password",maxlength:"5"},null,512),[[T,N.value]]),e("div",{onClick:J,class:"bg-green-800 font-bold text-white text-sm h-fit cursor-pointer px-3 py-[4px] rounded-br-md rounded-tr-md hover:bg-white hover:text-green-800 border border-green-800"}," Go ")])),$.value?(r(),o("div",ie,[g.value?f("",!0):(r(),o("div",de,[x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>Q(b)?b.value=s:b=s),placeholder:"Search ...",class:"pt-[3px] pb-[2px] px-2 border rounded-tl-md rounded-bl-md"},null,512),[[T,p(b)]]),t[12]||(t[12]=e("label",{class:"bg-green-700 text-white py-[5px] px-2 border-transparent rounded-tr-md rounded-br-md"},[e("i",{class:"fa fa-search","aria-hidden":"true"})],-1))])),e("div",ue,[x(e("div",null,[g.value?f("",!0):(r(),o("div",{key:0,class:"cursor-pointer w-full flex shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase",onClick:H},t[13]||(t[13]=[e("div",{class:"w-fit mx-auto flex items-center"},[e("span",{class:"w-fit mx-auto block rounded-md text-green-800 px-4 font-bold"},[e("i",{class:"fa fa-print"})]),m(" All Request Lists ")],-1)]))),e("div",ce,[e("div",{class:d(["appointment-lists mx-auto text-xs",g.value?"hidden":""])},[M.value?(r(),o("div",ve,t[14]||(t[14]=[E('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(r(),o("div",pe,[p(F).length>0?(r(),o("div",ge,[(r(!0),o(y,null,_(p(F),(s,w)=>(r(),o("div",{class:"justify-evenly text-center items-center h-auto border border-gray-200 shadow mb-3",key:w},[e("div",fe,[e("div",xe,[e("div",he,[e("div",me,[e("span",be,[t[15]||(t[15]=e("i",{class:"fa fa-user mr-2"},null,-1)),m(" "+n(s.incharge_lastname)+", ",1)]),e("span",we,n(s.incharge_firstname),1),e("span",{class:d([s.incharge_middlename==="-"?"hidden":"","mx-1"])},n(s.incharge_middlename),3)]),e("div",ye,[t[16]||(t[16]=e("i",{class:"fa fa-envelope mr-2"},null,-1)),m(" "+n(s.incharge_contact_email),1)]),e("div",_e,[t[17]||(t[17]=e("i",{class:"fa fa-phone lg:mr-2 mr-1.5"},null,-1)),m(" "+n(s.incharge_contact_number),1)])]),e("div",null,[e("div",ke,[e("ul",Ce,[(r(!0),o(y,null,_(s.type_of_access,(v,B)=>(r(),o("li",{key:B,class:"px-2 lg:py-0.5 py-2 lg:border-transparent border text-[10px] tracking-tighter w-full whitespace-nowrap lg:text-left text-center"},n(v),1))),128))])]),e("div",Ie,[t[18]||(t[18]=e("i",{class:"fa fa-calendar mr-2"},null,-1)),m(" "+n(s.schedule),1)])]),e("div",Le,[e("div",Ve,[e("div",Pe,[t[19]||(t[19]=e("label",{for:"remarks",class:"font-bold text-gray-800 mr-2.5 text-left w-fit ml-0 block"},"Remarks:",-1)),e("div",Se,[e("p",Ne,n(s.remarks),1)])]),s.purpose?(r(),o("div",$e,[t[20]||(t[20]=e("label",{for:"purpose",class:"font-bold text-gray-800 mr-3 text-left w-fit ml-0 block"},"Purpose:",-1)),e("div",Ue,[e("p",Me,n(s.purpose),1)])])):f("",!0)])]),e("div",{class:d(["lg:w-3/12 min-h-[60px] flex items-center",s.attendees==="Group"?"cursor-pointer hover:bg-gray-300 hover:text-black bg-gray-200":"bg-gray-50 h-16 flex items-center"])},[e("div",Be,[e("a",{href:s.approved_activities_link,target:"_blank",class:d(["font-bold w-full block text-green-800",s.approved_activities_link==="-"?"hidden":""])},t[21]||(t[21]=[e("i",{class:"fa fa-file-pdf text-lg"},null,-1)]),10,Te),e("a",{href:s.approved_gso_docs_link,target:"_blank",class:d(["font-bold w-full block text-green-800",s.approved_gso_docs_link==="-"?"hidden":""])},t[22]||(t[22]=[e("i",{class:"fa fa-soccer-ball text-lg"},null,-1)]),10,Ae)]),e("div",De,[e("div",{class:"font-bold uppercase lg:w-full w-fit mx-auto text-center",onClick:v=>K(s.id)},[m(n(s.attendees)+" ",1),e("i",{class:d(["fa fa-caret-down text-lg ml-2 -mt-[1px] h-[0px]",s.attendees==="Group"?"text-green-800":"hidden"])},null,2)],8,Re),e("div",Fe,[t[23]||(t[23]=m(" TID: ")),e("span",Qe,n(s.tracking_id),1)])])],2)])])]))),128))])):f("",!0)])),p(U).length>0?(r(),o("div",Ee,[e("button",{disabled:c.value===1,onClick:t[2]||(t[2]=s=>c.value--),class:"px-4 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Previous ",8,Ge),(r(!0),o(y,null,_(p(Y),s=>(r(),o("button",{key:s,onClick:w=>c.value=s,class:d(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":c.value===s,"bg-gray-200":c.value!==s}])},n(s),11,qe))),128)),e("button",{disabled:c.value===p(R),onClick:t[3]||(t[3]=s=>c.value++),class:"px-4 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,ze)])):M.value?f("",!0):(r(),o("div",Oe," No items found! "))],2),g.value?(r(),o("div",He,[e("div",Je,[x(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>Q(h)?h.value=s:h=s),placeholder:"Search ...",onInput:X,class:"pt-[3px] pb-[2px] px-2 border rounded-tl-md rounded-bl-md"},null,544),[[T,p(h)]]),t[24]||(t[24]=e("label",{class:"bg-green-700 text-white py-[5px] px-2 border-transparent rounded-tr-md rounded-br-md"},[e("i",{class:"fa fa-search","aria-hidden":"true"})],-1))]),e("div",Ke,[e("div",We,[t[26]||(t[26]=e("div",{class:"text-center border-b py-2 font-bold w-full"}," List of Names ",-1)),e("div",{onClick:t[5]||(t[5]=s=>g.value=!g.value),class:"bg-gray-600 hover:bg-white hover:text-gray-600 border-b border-l text-white px-2 py-[8px]"},t[25]||(t[25]=[e("i",{class:"fa fa-caret-left","aria-hidden":"true"},null,-1)]))]),e("div",Xe,[t[31]||(t[31]=E('<div class="lg:flex items-center hidden text-left lg:px-4 px-2 py-1 font-bold bg-gray-700 mb-0.5 border-b-2 border-gray-600 text-white"><div class="w-full">Full Name</div><div class="w-full">Email</div><div class="w-full">Tracking Id</div><div class="w-full">Type of Access</div><div class="w-full">Schedule</div><div class="w-full">Check-In</div></div>',1)),e("div",{class:d(p(h).value!==""?"hidden":"")},[e("div",{class:d(["lg:flex items-center text-left lg:px-4 px-2 pt-2 mb-0.5 border-b-2 border-gray-600 lg:border-t-0 border-t-2",l.value.checkin==="login"?"bg-green-800 text-white":"text-black bg-gray-100"])},[e("div",Ye,n(l.value.incharge_firstname)+" "+n(l.value.incharge_lastname),1),e("div",Ze,n(l.value.incharge_contact_email),1),e("div",je,n(l.value.tracking_id),1),e("div",et,[(r(!0),o(y,null,_(l.value.type_of_access,(s,w)=>(r(),o("div",{key:w},n(s),1))),128))]),e("div",tt,n(l.value.schedule),1),e("div",st,[e("label",{class:d(["flex items-center text-center h-7 cursor-pointer text-xs bg-green-900 text-white",l.value.checkin==="login"?"hidden":"w-full"])},[x(e("input",{type:"radio",value:"login","onUpdate:modelValue":t[6]||(t[6]=s=>l.value.checkin=s),onChange:t[7]||(t[7]=s=>L(l.value.id)),class:"absolute opacity-0 cursor-pointer h-0 w-0"},null,544),[[P,l.value.checkin]]),t[27]||(t[27]=e("span",{class:"w-fit mx-auto whitespace-nowrap px-3"}," Log-In",-1))],2),e("label",{class:d(["flex items-center text-center h-7 cursor-pointer text-xs bg-gray-300 text-black",l.value.checkin==="logout"?"hidden":"w-full"])},[x(e("input",{type:"radio",value:"logout","onUpdate:modelValue":t[8]||(t[8]=s=>l.value.checkin=s),onChange:t[9]||(t[9]=s=>L(l.value.id)),class:"absolute opacity-0 cursor-pointer h-0 w-0"},null,544),[[P,l.value.checkin]]),t[28]||(t[28]=e("span",{class:"w-fit mx-auto whitespace-nowrap px-3"}," Log-Out",-1))],2)])],2)],2),(r(!0),o(y,null,_(l.value.name_list,(s,w)=>(r(),o("div",{key:w,class:d(["lg:flex items-center text-left lg:px-4 px-2 pt-2 border-b-2 border-gray-300",s.checkin==="login"?"bg-green-800 text-white":"text-black bg-gray-100"])},[e("div",lt,n(s.firstname)+" "+n(s.lastname),1),e("div",at,n(s.email),1),e("div",ot,n(l.value.tracking_id),1),e("div",nt,[(r(!0),o(y,null,_(l.value.type_of_access,(v,B)=>(r(),o("div",{key:B},n(v),1))),128))]),e("div",rt,n(l.value.schedule),1),e("div",it,[e("label",{class:d(["flex items-center text-center w-full h-7 cursor-pointer text-xs bg-green-900 text-white hover:bg-white hover:text-green-900",s.checkin==="login"?"hidden":"w-full"])},[x(e("input",{type:"radio",value:"login","onUpdate:modelValue":v=>s.checkin=v,class:"hidden cursor-pointer h-0 w-0",onChange:t[10]||(t[10]=v=>L(l.value.id))},null,40,dt),[[P,s.checkin]]),t[29]||(t[29]=e("span",{class:"w-fit mx-auto"}," Log-In",-1))],2),e("label",{class:d(["flex items-center text-center w-full h-7 cursor-pointer text-xs bg-gray-300 text-black",s.checkin==="logout"?"hidden":"w-full"])},[x(e("input",{type:"radio",value:"logout","onUpdate:modelValue":v=>s.checkin=v,class:"hidden cursor-pointer h-0 w-0",onChange:t[11]||(t[11]=v=>L(l.value.id))},null,40,ut),[[P,s.checkin]]),t[30]||(t[30]=e("span",{class:"w-fit mx-auto"}," Log-Out",-1))],2)])],2))),128))])])])):f("",!0)])],512),[[se,p(z)]])])])):f("",!0)])]),e("div",ct,[le(u)])])}}};export{ht as default};
