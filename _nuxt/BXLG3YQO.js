import{_ as te}from"./DJFAfmRQ.js";import{k as se,l as le,r as i,p as ae,m as V,c as o,a as e,j as x,f as h,v as T,h as p,X as z,i as oe,d as m,n as d,e as E,F as y,g as _,t as n,x as S,b as ne,o as r}from"./CmUpqdEh.js";import{_ as re}from"./5JjjnmY2.js";import"./C5S46NFB.js";const ie={class:"lg:flex min-h-screen"},de={class:"w-full"},ue={class:""},ce={key:0,class:"w-fit mx-auto flex items-center py-20"},ve={key:1,class:"pt-14 pb-10"},pe={key:0,class:"w-fit mx-auto my-4 shadow-lg rounded-lg"},ge={class:"w-full lg:p-5 px-2 py-2"},fe={class:"relative"},xe={key:0,class:"text-center"},he={key:1},me={key:0,class:"gap-4"},be={class:"w-full"},we={class:"lg:flex items-center w-full"},ye={class:"lg:w-4/12 w-full block text-left lg:px-2 px-0.5 lg:py-0 py-2"},_e={class:"w-full px-2 truncate"},ke={class:""},Ce={class:""},Le={class:"w-full px-2"},Ie={class:"px-2"},Ve={class:"lg:w-[100px] w-full flex items-center justify-center uppercase"},Se={class:"gap-x-0.5 w-full flex"},Pe={class:"lg:w-[270px] w-full font-bold py-1 px-2 flex items-center"},Ne={class:"lg:w-4/12 w-full flex items-center"},Ue={class:"w-full"},$e={class:"flex items-center lg:w-11/12 lg:px-0 px-2 mx-auto mb-1"},Me={class:"flex w-full"},Be={class:"border-b py-0.5 lg:px-1 text-left truncate lg:w-[200px] w-[240px]"},De={key:0,class:"flex items-center lg:w-11/12 lg:px-0 px-2 mx-auto"},Te={class:"flex w-full"},Re={class:"border-b py-0.5 lg:px-1 text-left truncate lg:w-[200px] w-[240px]"},Ae={class:"gap-x-5 w-fit ml-5 pt-1 flex"},Fe=["href"],Qe=["href"],ze={class:"w-full px-10 lg:py-0 py-2"},Ee=["onClick"],Ge={class:"text-[10px] font-light whitespace-nowrap text-center"},qe={class:""},Oe={key:2,class:"flex justify-center my-4"},Xe=["disabled"],He=["onClick"],Je=["disabled"],Ke={key:3,class:"text-center my-5"},We={key:0,class:"w-full z-10 bg-white h-full"},Ye={class:"w-fit mx-auto shadow-lg rounded-lg mb-6"},Ze={class:"border-4 border-gray-100 shadow-lg"},je={class:"lg:gap-x-3 lg:text-sm text-xs"},et={class:"w-full"},tt={class:"w-full"},st={class:"w-full"},lt={class:"w-full"},at={class:"w-full"},ot={class:"w-full lg:text-center my-2 border-2 border-green-800 shadow-2xl flex"},nt={class:"w-full"},rt={class:"w-full"},it={class:"w-full"},dt={class:"w-full"},ut={class:"w-full"},ct={class:"flex items-center w-full lg:text-center my-2 border-2 border-green-800 shadow-2xl"},vt=["onUpdate:modelValue"],pt=["onUpdate:modelValue"],gt={class:"fixed bottom-0 w-full"},R=5,P=4,wt={__name:"index",setup(ft){se();const G=le(),N=i(G.mainDevServer),A=i([]),C=i(0),q=i("13579"),U=i("");let O=i(!0);i(!1),i(!1);const l=i(null),g=i(!1);ae(async()=>{await X()});const X=async()=>{try{A.value=await $fetch(N.value+"/api/campus-pass/list").catch(a=>a.data)||[]}catch(a){console.error("Error fetching list items:",a)}finally{B.value=!1}},H=()=>{window.print()},$=i(!1),J=()=>{q.value===U.value&&($.value=!0)};let K=i(null);const W=async a=>{l.value=await $fetch(N.value+"/api/campus-pass/"+a+"/").catch(t=>t.data),g.value=!g.value,K.value=a,I.value=l.value.name_list},L=async a=>{console.log(a),Y(a)},Y=async a=>{await $fetch(N.value+"/api/campus-pass/"+a+"/edit/",{method:"PUT",body:l.value}).then(async t=>{console.log("response",t)})};let b=i(""),f=i(""),k;const M=V(()=>{if(C.value=A.value.filter(a=>a.approval_status==="approved"),k=C.value,b.value!==""){const a=b.value.toLowerCase();c.value=1,k=k.filter(t=>{for(const u in t)if(typeof t[u]=="string"&&t[u].toLowerCase().includes(a))return!0;return!1})}else k=Array.isArray(C.value)?[...C.value]:[];return re.orderBy(k,"incharge_lastname","asc")});let I=i(null);const Z=async()=>{if(f.value!==""){const a=f.value.toLowerCase();I.value=l.value.name_list.filter(t=>{for(const u in t)return typeof t[u]=="string"&&t[u].toLowerCase().includes(a)})}else I.value=l.value.name_list},j=()=>{g.value=!g.value,f.value=""},B=i(!0),c=i(1),F=V(()=>Math.ceil(M.value.length/R)),Q=V(()=>{const a=(c.value-1)*R,t=a+R;return M.value.slice(a,t)}),ee=V(()=>{const a=[];let t=Math.max(1,c.value-Math.floor(P/2)),u=Math.min(F.value,t+P-1);u-t+1<P&&(t=Math.max(1,u-P+1));for(let s=t;s<=u;s++)a.push(s);return a});return(a,t)=>{const u=te;return r(),o("div",null,[e("div",ie,[e("div",de,[t[33]||(t[33]=e("div",{class:"bg-green-800 fixed w-full z-10"},[e("div",{class:"flex mx-auto justify-between py-2 px-3.5"},[e("a",{href:"/",class:"w-fit mx-auto"},[e("img",{src:"https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/lsu-w-h.png",class:"lg:h-9 h-8"})])])],-1)),e("div",ue,[$.value?x("",!0):(r(),o("div",ce,[h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>U.value=s),placeholder:"Pin Code",class:"text-center my-3 rounded-bl-md rounded-tl-md px-2 text-lg border shadow-lg border-green-700 w-[100px]",type:"password",maxlength:"5"},null,512),[[T,U.value]]),e("div",{onClick:J,class:"bg-green-800 font-bold text-white text-sm h-fit cursor-pointer px-3 py-[4px] rounded-br-md rounded-tr-md hover:bg-white hover:text-green-800 border border-green-800"}," Go ")])),$.value?(r(),o("div",ve,[g.value?x("",!0):(r(),o("div",pe,[h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>z(b)?b.value=s:b=s),placeholder:"Search ...",class:"pt-[3px] pb-[2px] px-2 border rounded-tl-md rounded-bl-md"},null,512),[[T,p(b)]]),t[11]||(t[11]=e("label",{class:"bg-green-700 text-white py-[5px] px-2 border-transparent rounded-tr-md rounded-br-md"},[e("i",{class:"fa fa-search","aria-hidden":"true"})],-1))])),e("div",ge,[h(e("div",null,[g.value?x("",!0):(r(),o("div",{key:0,class:"cursor-pointer w-full flex shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase",onClick:H},t[12]||(t[12]=[e("div",{class:"w-fit mx-auto flex items-center"},[e("span",{class:"w-fit mx-auto block rounded-md text-green-800 px-4 font-bold"},[e("i",{class:"fa fa-print"})]),m(" All Request Lists ")],-1)]))),e("div",fe,[e("div",{class:d(["appointment-lists mx-auto text-xs",g.value?"hidden":""])},[B.value?(r(),o("div",xe,t[13]||(t[13]=[E('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(r(),o("div",he,[p(Q).length>0?(r(),o("div",me,[(r(!0),o(y,null,_(p(Q),(s,w)=>(r(),o("div",{class:"justify-evenly text-center items-center h-auto border border-gray-200 shadow mb-3",key:w},[e("div",be,[e("div",we,[e("div",ye,[e("div",_e,[e("span",ke,[t[14]||(t[14]=e("i",{class:"fa fa-user mr-2"},null,-1)),m(" "+n(s.incharge_lastname)+", ",1)]),e("span",Ce,n(s.incharge_firstname),1),e("span",{class:d([s.incharge_middlename==="-"?"hidden":"","mx-1"])},n(s.incharge_middlename),3)]),e("div",Le,[t[15]||(t[15]=e("i",{class:"fa fa-envelope mr-2"},null,-1)),m(" "+n(s.incharge_contact_email),1)]),e("div",Ie,[t[16]||(t[16]=e("i",{class:"fa fa-phone lg:mr-2 mr-1.5"},null,-1)),m(" "+n(s.incharge_contact_number),1)])]),e("div",null,[e("div",Ve,[e("ul",Se,[(r(!0),o(y,null,_(s.type_of_access,(v,D)=>(r(),o("li",{key:D,class:"px-2 lg:py-0.5 py-2 lg:border-transparent border text-[10px] tracking-tighter w-full whitespace-nowrap lg:text-left text-center"},n(v),1))),128))])]),e("div",Pe,[t[17]||(t[17]=e("i",{class:"fa fa-calendar mr-2"},null,-1)),m(" "+n(s.schedule),1)])]),e("div",Ne,[e("div",Ue,[e("div",$e,[t[18]||(t[18]=e("label",{for:"remarks",class:"font-bold text-gray-800 lg:mr-2.5 mr-1 text-left w-fit ml-0 block"},"Remarks:",-1)),e("div",Me,[e("p",Be,n(s.remarks),1)])]),s.purpose?(r(),o("div",De,[t[19]||(t[19]=e("label",{for:"purpose",class:"font-bold text-gray-800 lg:mr-3 mr-1.5 text-left w-fit ml-0 block"},"Purpose:",-1)),e("div",Te,[e("p",Re,n(s.purpose),1)])])):x("",!0)])]),e("div",{class:d(["lg:w-3/12 lg:min-h-[60px] flex items-center lg:mt-0 mt-2",s.attendees==="Group"?"cursor-pointer hover:bg-gray-300 hover:text-black bg-gray-200":"bg-gray-50 lg:h-16 flex items-center"])},[e("div",Ae,[e("a",{href:s.approved_activities_link,target:"_blank",class:d(["font-bold w-full block text-green-800",s.approved_activities_link==="-"?"hidden":""])},t[20]||(t[20]=[e("i",{class:"fa fa-file-pdf text-lg"},null,-1)]),10,Fe),e("a",{href:s.approved_gso_docs_link,target:"_blank",class:d(["font-bold w-full block text-green-800",s.approved_gso_docs_link==="-"?"hidden":""])},t[21]||(t[21]=[e("i",{class:"fa fa-soccer-ball text-lg"},null,-1)]),10,Qe)]),e("div",ze,[e("div",{class:"font-bold uppercase lg:w-full w-fit mx-auto text-center",onClick:v=>W(s.id)},[m(n(s.attendees)+" ",1),e("i",{class:d(["fa fa-caret-down text-lg ml-2 -mt-[1px] h-[0px]",s.attendees==="Group"?"text-green-800":"hidden"])},null,2)],8,Ee),e("div",Ge,[t[22]||(t[22]=m(" TID: ")),e("span",qe,n(s.tracking_id),1)])])],2)])])]))),128))])):x("",!0)])),p(M).length>0?(r(),o("div",Oe,[e("button",{disabled:c.value===1,onClick:t[2]||(t[2]=s=>c.value--),class:"px-4 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"},t[23]||(t[23]=[e("i",{class:"fa fa-angle-double-left","aria-hidden":"true"},null,-1)]),8,Xe),(r(!0),o(y,null,_(p(ee),s=>(r(),o("button",{key:s,onClick:w=>c.value=s,class:d(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":c.value===s,"bg-gray-200":c.value!==s}])},n(s),11,He))),128)),e("button",{disabled:c.value===p(F),onClick:t[3]||(t[3]=s=>c.value++),class:"px-4 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"},t[24]||(t[24]=[e("i",{class:"fa fa-angle-double-right","aria-hidden":"true"},null,-1)]),8,Je)])):B.value?x("",!0):(r(),o("div",Ke," No items found! "))],2),g.value?(r(),o("div",We,[e("div",Ye,[h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>z(f)?f.value=s:f=s),placeholder:"Search ...",onInput:Z,class:"pt-[3px] pb-[2px] px-2 border rounded-tl-md rounded-bl-md"},null,544),[[T,p(f)]]),t[25]||(t[25]=e("label",{class:"bg-green-700 text-white py-[5px] px-2 border-transparent rounded-tr-md rounded-br-md"},[e("i",{class:"fa fa-search","aria-hidden":"true"})],-1))]),e("div",Ze,[e("div",{class:"flex items-center"},[t[27]||(t[27]=e("div",{class:"text-center border-b py-2 font-bold w-full"}," List of Names ",-1)),e("div",{onClick:j,class:"bg-gray-600 hover:bg-white hover:text-gray-600 border-b border-l text-white px-2 py-[8px]"},t[26]||(t[26]=[e("i",{class:"fa fa-caret-left","aria-hidden":"true"},null,-1)]))]),e("div",je,[t[32]||(t[32]=E('<div class="lg:flex items-center hidden text-left lg:px-4 px-2 py-1 font-bold bg-gray-700 mb-0.5 border-b-2 border-gray-600 text-white"><div class="w-full">Full Name</div><div class="w-full">Email</div><div class="w-full">Tracking Id</div><div class="w-full">Type of Access</div><div class="w-full">Schedule</div><div class="w-full">Check-In</div></div>',1)),e("div",{class:d(p(f).value!==""?"hidden":"")},[e("div",{class:d(["lg:flex items-center text-left lg:px-4 px-2 pt-2 mb-0.5 border-b-2 border-gray-600 lg:border-t-0 border-t-2",l.value.checkin==="login"?"bg-green-800 text-white":"text-black bg-gray-100"])},[e("div",et,n(l.value.incharge_firstname)+" "+n(l.value.incharge_lastname),1),e("div",tt,n(l.value.incharge_contact_email),1),e("div",st,n(l.value.tracking_id),1),e("div",lt,[(r(!0),o(y,null,_(l.value.type_of_access,(s,w)=>(r(),o("div",{key:w},n(s),1))),128))]),e("div",at,n(l.value.schedule),1),e("div",ot,[e("label",{class:d(["flex items-center text-center h-7 cursor-pointer text-xs bg-green-900 text-white",l.value.checkin==="login"?"hidden":"w-full"])},[h(e("input",{type:"radio",value:"login","onUpdate:modelValue":t[5]||(t[5]=s=>l.value.checkin=s),onChange:t[6]||(t[6]=s=>L(l.value.id)),class:"absolute opacity-0 cursor-pointer h-0 w-0"},null,544),[[S,l.value.checkin]]),t[28]||(t[28]=e("span",{class:"w-fit mx-auto whitespace-nowrap px-3"}," Log-In",-1))],2),e("label",{class:d(["flex items-center text-center h-7 cursor-pointer text-xs bg-gray-300 text-black",l.value.checkin==="logout"?"hidden":"w-full"])},[h(e("input",{type:"radio",value:"logout","onUpdate:modelValue":t[7]||(t[7]=s=>l.value.checkin=s),onChange:t[8]||(t[8]=s=>L(l.value.id)),class:"absolute opacity-0 cursor-pointer h-0 w-0"},null,544),[[S,l.value.checkin]]),t[29]||(t[29]=e("span",{class:"w-fit mx-auto whitespace-nowrap px-3"}," Log-Out",-1))],2)])],2)],2),(r(!0),o(y,null,_(p(I),(s,w)=>(r(),o("div",{key:w,class:d(["lg:flex items-center text-left lg:px-4 px-2 pt-2 border-b-2 border-gray-300",s.checkin==="login"?"bg-green-800 text-white":"text-black bg-gray-100"])},[e("div",nt,n(s.firstname)+" "+n(s.lastname),1),e("div",rt,n(s.email),1),e("div",it,n(l.value.tracking_id),1),e("div",dt,[(r(!0),o(y,null,_(l.value.type_of_access,(v,D)=>(r(),o("div",{key:D},n(v),1))),128))]),e("div",ut,n(l.value.schedule),1),e("div",ct,[e("label",{class:d(["flex items-center text-center w-full h-7 cursor-pointer text-xs bg-green-900 text-white hover:bg-white hover:text-green-900",s.checkin==="login"?"hidden":"w-full"])},[h(e("input",{type:"radio",value:"login","onUpdate:modelValue":v=>s.checkin=v,class:"hidden cursor-pointer h-0 w-0",onChange:t[9]||(t[9]=v=>L(l.value.id))},null,40,vt),[[S,s.checkin]]),t[30]||(t[30]=e("span",{class:"w-fit mx-auto"}," Log-In",-1))],2),e("label",{class:d(["flex items-center text-center w-full h-7 cursor-pointer text-xs bg-gray-300 text-black",s.checkin==="logout"?"hidden":"w-full"])},[h(e("input",{type:"radio",value:"logout","onUpdate:modelValue":v=>s.checkin=v,class:"hidden cursor-pointer h-0 w-0",onChange:t[10]||(t[10]=v=>L(l.value.id))},null,40,pt),[[S,s.checkin]]),t[31]||(t[31]=e("span",{class:"w-fit mx-auto"}," Log-Out",-1))],2)])],2))),128))])])])):x("",!0)])],512),[[oe,p(O)]])])])):x("",!0)])])]),e("div",gt,[ne(u)])])}}};export{wt as default};
