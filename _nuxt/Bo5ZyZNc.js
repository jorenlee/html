import{o as i,c as n,a as e,d as x,e as I,u as M,r as c,h as P,j as _,v as h,f as r,b as y,k as V,n as k,t as a,q as F,F as C,s as L,x as O}from"./Dw4thAs3.js";import{_ as R}from"./C-2lziMS.js";import{_ as z}from"./5JjjnmY2.js";import{_ as G}from"./DlAUqK2U.js";import"./C5S46NFB.js";const U={class:"mx-auto mt-10 mb-5 grid grid-cols-1"},q={__name:"CampusPassMenuBar",props:["goToList","goToCreate"],setup(v){return(p,s)=>(i(),n("div",null,[s[3]||(s[3]=e("div",{class:"w-fit mx-auto mt-5 mb-3"},[e("img",{src:"https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG",class:"lg:w-24 w-20 mx-auto"})],-1)),s[4]||(s[4]=e("div",{class:"text-center"},[e("h1",{class:"font-bold text-green-800 text-3xl"},"Welcome!")],-1)),e("div",U,[e("button",{onClick:s[0]||(s[0]=(...m)=>v.goToList&&v.goToList(...m)),class:"text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"},s[1]||(s[1]=[e("i",{class:"fa fa-list mr-3","aria-hidden":"true"},null,-1),x(" All Request Lists ")])),s[2]||(s[2]=e("a",{href:"/",class:"text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"},[e("i",{class:"fa fa-globe mr-3","aria-hidden":"true"}),x(" LSU HOME PAGE ")],-1))])]))}},W={class:"flex"},H={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},Y={class:"w-full min-h-screen"},J={class:"bg-green-800"},K={class:"lg:flex mx-auto justify-between py-2 px-3.5"},Q={class:"lg:flex items-center text-white gap-5"},X={class:"flex -mt-1"},Z={class:"text-sm"},ee={class:"w-full p-5"},te={class:""},se={class:"appointment-lists shadow mx-auto text-xs"},le={class:""},ae={key:0,class:"w-full rows px-2"},oe={class:"lg:flex py-3 w-full"},ie={class:"flex items-center px-2 lg:w-[250px]"},ne={class:"w-full"},re={class:""},de={class:"px-2 lg:w-[250px] flex items-center justify-center"},ue={class:"px-2 lg:w-[250px] flex items-center justify-center"},ce={class:"flex items-center px-2 lg:w-[250px]"},pe={class:"w-full"},xe={class:"flex items-center lg:w-[250px]"},me=["href"],fe=["href"],ge=["href"],ve={class:"flex items-center justify-center px-2 lg:w-[250px]"},_e={class:"flex px-2 font-bold justify-center lg:w-[100px]"},he={class:"mx-auto lg:flex justify-center"},we=["onClick"],be={class:"mx-auto lg:flex justify-center"},ye=["onClick"],ke={class:"bg-gray-100"},Ce={class:"flex"},Le={class:"px-5 rounded-lg bg-white shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},Te={key:1,class:"italic text-gray-400 text-center p-1"},Se={__name:"index",setup(v){const p=I(),s=M(),m=c(s.mainDevServer),d=c(0);let w=c(),T=c(!0),u=c(!0),f=c(!1);P(()=>{setTimeout(async()=>{s.user.isAuthenticated&&(s.user.email==="jorenleeluna24@gmail.com"||s.user.email==="esmael.larubis@lsu.edu.ph")?(d.value=await $fetch(m.value+"/api/campus-pass/list").catch(o=>o.data)||0,p.push("/_/panels/campus-security"),console.log(d.value)):p.push("/_/unauthorized")},3e3)});const b=o=>{f.value=!f.value,w.value=o},S=async()=>{await $fetch(m.value+"/api/campus-pass/"+w.value+"/delete/",{method:"DELETE",headers:{Authorization:s.user.token,"Content-Type":"application/json"}}).then(async o=>{console.log("response",o),d.value=await $fetch(m.value+"/api/campus-pass/list").catch(t=>t.data)||0,f.value=!f.value})},j=()=>{p.push("/_/proc-admin"),s.removeToken()};c(!0);const A=()=>{p.push("/_/panels/campus-security")},D=o=>{p.push("/_/panels/campus-security/edit/"+o)};return(o,t)=>{const B=q,N=R;return i(),n("div",null,[e("div",W,[_(e("div",H,[y(B,{goToList:A,goToCreate:o.goToCreate},null,8,["goToCreate"])],512),[[h,r(u)]]),e("div",Y,[e("div",J,[e("div",K,[e("div",Q,[e("div",{onClick:t[0]||(t[0]=l=>V(u)?u.value=!r(u):u=!r(u)),class:"w-10 px-1.5"},[e("i",{class:k(["fa text-3xl text-white",r(u)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",X,[t[1]||(t[1]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",Z,a(r(s).user.email),1)])]),e("button",{onClick:j,class:"flex hover:font-bold pt-1"},t[2]||(t[2]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",null,[e("div",ee,[_(e("div",null,[e("div",te,[e("div",se,[e("div",le,[t[10]||(t[10]=F('<div class="header w-full p-2 bg-green-800 text-white flex items-center" data-v-87b53e19><ul class="lg:flex justify-evenly text-center whitespace-nowrap" data-v-87b53e19><li class="lg:w-[250px]" data-v-87b53e19>Main In-Charge</li><li class="lg:w-[250px]" data-v-87b53e19>Purpose of Access</li><li class="lg:w-[250px]" data-v-87b53e19>Location</li><li class="lg:w-[250px]" data-v-87b53e19>Schedule</li><li class="lg:w-[250px]" data-v-87b53e19>Links</li><li class="lg:w-[250px]" data-v-87b53e19>Status</li><li class="lg:w-[100px]" data-v-87b53e19>Action</li></ul></div>',1)),d.value.length>0?(i(),n("div",ae,[(i(!0),n(C,null,L(r(z).orderBy(d.value,"id","asc"),(l,$)=>(i(),n("div",{class:"w-full justify-evenly text-center items-center h-auto border-b border-gray-100",key:$},[e("div",oe,[e("div",ie,[e("div",ne,[e("span",re,a(l.main_in_charge_fullname),1),t[3]||(t[3]=e("br",null,null,-1)),x(" "+a(l.email_address)+" ",1),t[4]||(t[4]=e("br",null,null,-1)),x(" "+a(l.mobile_phone_number),1)])]),e("div",de,a(l.purpose_of_access),1),e("div",ue,a(l.location),1),e("div",ce,[e("div",pe,[x(" Start : "+a(l.date_start)+" | "+a(l.time_start)+" ",1),t[5]||(t[5]=e("br",null,null,-1)),x(" End : "+a(l.date_end)+" | "+a(l.time_end),1)])]),e("div",xe,[e("a",{href:l.approved_activities_link,target:"_blank",class:"font-bold mx-3 text-green-800"},"Approved Activities",8,me),e("a",{href:l.approved_booking_document_gso_link,target:"_blank",class:"font-bold mx-3 text-green-800"},"Approved Booking GSO",8,fe),e("a",{href:l.lists_names_link,target:"_blank",class:"font-bold mx-3 text-green-800"},"List of Names",8,ge)]),e("div",ve,a(l.approval_status),1),e("div",_e,[e("div",he,[e("button",{onClick:g=>D(l.id)},t[6]||(t[6]=[e("i",{class:"fa fa-edit text-yellow-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)]),8,we)]),e("div",be,[e("button",{onClick:g=>b(l.id)},t[7]||(t[7]=[e("i",{class:"fa fa-trash text-red-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)]),8,ye)])])]),e("div",ke,[t[8]||(t[8]=e("div",{class:"text-center border-y py-2 font-bold"}," List of Names ",-1)),e("div",Ce,[(i(!0),n(C,null,L(l.few_name_list,(g,E)=>(i(),n("div",{key:E,class:"text-left px-10 py-5"},[e("div",null,a(g.fullname),1),e("div",null,a(g.email),1)]))),128))])])]))),128)),_(e("div",Le,[t[9]||(t[9]=e("div",{class:"my-6"},"Are you sure you want to Delete?",-1)),e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:S},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:b},"Cancel")])],512),[[h,r(f)]])])):O("",!0),d.value.length===0?(i(),n("div",Te," No Results Found! ")):(i(),n("div",{key:2,class:k(["italic text-gray-400 text-center p-1",d.value.length>0?"hidden":""])}," Please Wait ... ",2))])])])],512),[[h,r(T)]])])])])]),y(N)])}}},$e=G(Se,[["__scopeId","data-v-87b53e19"]]);export{$e as default};
