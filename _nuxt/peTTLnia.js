import{_ as Se}from"./3qvmmRRS.js";import{_ as Ve}from"./CSqRcTBW.js";import{Z as Ce,k as Ue,l as De,r as a,Y as K,p as Ae,c as r,a as e,b as Q,f as n,i as Me,h as s,X as d,n as W,t as f,q as se,y as Te,e as Oe,F as B,g as G,j as ae,v as g,d as Re,s as I,o as u,x as oe}from"./Bofa2oOX.js";import{p as Le}from"./BOCn3TFe.js";import{s as Ne}from"./C1zSg28U.js";import{X as Pe}from"./BPYBTAI1.js";/* empty css        */import{h as ze}from"./C5S46NFB.js";import{_ as Y}from"./5JjjnmY2.js";import{u as Ee}from"./Dd5Tc1z2.js";import{_ as qe}from"./DlAUqK2U.js";const Fe={class:""},je={class:"flex"},Be={class:"pt-7 pb-24 w-3/12 px-1 bg-gray-100 lg:block hidden"},Ge={class:"w-full min-h-screen"},Ye={class:"bg-green-800"},He={class:"flex mx-auto justify-between py-2 px-3.5"},Ie={class:"flex items-center text-white gap-5"},Xe={class:"flex -mt-1"},Je={class:"text-sm"},Ze={class:""},Ke={class:"w-full p-5"},Qe={class:"shadow-lg"},We={class:"w-full mx-auto"},$e={class:""},et={class:"lg:grid grid-cols-4 lg:ml-3 ml-8 mt-3"},tt={class:"my-5"},lt={class:"ml-5 mr-5"},st={class:"space-y-5"},at={class:""},ot=["value","onClick"],it={class:"flex items-center ml-5 font-bold text-green-900 -mt-5 text-sm",style:{"font-size":"9px"}},dt={class:"pl-5 text-xs"},nt={class:"pb-3"},rt={class:"w-fit mx-auto"},ut={class:"pb-3"},mt={class:"w-full"},ct={class:""},pt={class:""},vt={class:"h-60 w-10/12 mx-auto px-5 py-2 mt-1 rounded-md"},ft={class:""},gt=["value"],bt=["value"],ht={key:2,class:"font-bold"},_t={class:"lg:flex mx-auto gap-20 px-8 w-full pb-3 text-xs"},xt={class:"mx-auto gap-20 w-full"},yt={class:"w-full"},wt={class:"mb-5"},kt={class:"lg:grid lg:grid-cols-2 grid-cols-1 gap-3"},St={class:"mt-3"},Vt={class:"gap-5"},Ct={class:"lg:grid lg:grid-cols-2 grid-cols-1 gap-3"},Ut={class:"w-full mt-3"},Dt={class:"mt-3"},At={class:"flex w-full mb-3"},Mt={class:"flex h-fit"},Tt={class:"w-fit lg:mx-0 mx-auto"},Ot={class:"w-56 shadow"},Rt=["src"],Lt={class:"mt-3"},Nt={class:"mt-3"},Pt={class:"border-gray-200 pt-2"},zt={class:"flex text-xs mb-2"},Et={class:"flex font-bold text-green-800 text-xs"},qt={class:"lg:flex"},Ft={class:"flex items-center"},jt={class:"flex items-center"},Bt={class:"flex items-center"},Gt={class:"flex items-center"},Yt={key:0,class:"mb-6 py-4 px-6 bg-rose-400 text-white rounded-xl"},Ht={class:"w-10/12 mx-auto"},It={key:0,class:"mb-6 py-4 px-6 bg-rose-400 text-white rounded-xl"},Xt={class:"mx-auto w-fit mb-10 mt-3"},Jt={class:"pt-10 ml-4"},Zt={class:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},Kt={class:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},Qt={class:"pb-2 text-base font-normal w-10/12 text-gray-500 dark:text-gray-400"},Wt={__name:"[id]",async setup($t){let m,y;const $=Ce(),X=Ue(),c=De(),ie=a(Le.providerLists),de=a(Ne.timeSelection),w=a(c.mainDevServer),{data:i}=([m,y]=K(()=>Ee(w.value+"/api/appointments/"+$.params.id+"/","$g4n-MG7brE")),m=await m,y(),m),ne=([m,y]=K(()=>$fetch(w.value+"/api/appointments/tracking/list/").catch(o=>o.data)),m=await m,y(),m),C=([m,y]=K(()=>$fetch(w.value+"/api/schedules/list/").catch(o=>o.data)),m=await m,y(),m);let U=a(i.value.service),k=a(i.value.provider),b=a(i.value.referencecode),v=a(i.value.date),D=a(i.value.time),_=a(i.value.time),A=a(i.value.firstname),M=a(i.value.lastname),T=a(i.value.email),O=a(i.value.contactnumber),R=a(i.value.address),L=a(i.value.city),N=a(i.value.zipcode),P=a(i.value.notes);a(""),a(""),a("");let ee=a(i.value.banner_image),z=a(i.value.successful_request),E=a(i.value.appointment_confirm),q=a(i.value.payment),F=a(i.value.request_delivered),re=a(new Date().toDateString()),ue=a("Registrars Admin"),me=a(c.user.email);a("https://upload.wikimedia.org/wikipedia/en/b/b0/LSU-Ozamiz_Seal.png");let h=a([]),J=a();a();let Z=a(),p=a(),te=a(new Date().toDateString()),le=a(new Date().toLocaleTimeString()),S=a(),H=a([]),x=a(!0);const ce=a(c.user.registrarEmail),pe=a(c.user.developerEmail),ve=a(c.user.testEmail);Ae(()=>{c.user.isAuthenticated&&(c.user.email===ce.value||c.user.email===pe.value||c.user.email===ve.value)?(fe(),C.filter(function(o){o.date===i.value.date&&(J.value=o.id,p.value=o.time,p.value.push(D.value),Z.value=o.provider)})):X.push("/unauthorized")});let fe=()=>{for(let o=0;o<C.length;o++)H.value.push(C[o].date)},ge=o=>{H.value=[],setTimeout(()=>{C.filter(function(t){o===t.provider&&(k.value=t.provider,v.value=t.date,p.value=t.time,p.value.push(D.value),H.value.push(t.date))},100)})};const be=()=>{X.push("/registrar/login"),c.removeToken()},he=o=>{_.value=D.value,v.value=ze(o).format("MM-DD-YYYY"),C.filter(function(t){t.date===v.value&&(J.value=t.id,p.value=t.time,p.value.push(D.value),Z.value=t.provider)})},_e=async()=>{p.value.length>1&&(Y.pull(p.value,_.value),await $fetch(w.value+"/api/schedules/"+J.value+"/edit/",{method:"PUT",body:{provider:Z.value,date:v.value,time:p.value}}).then(o=>{}))},xe=async()=>{h.value=[],b.value==""&&te.value==""&&le.value==""&&S.value==""&&h.value.push("Please enter all Fields."),h.value.length==0&&await $fetch(w.value+"/api/appointments/tracking/create/",{method:"POST",headers:{"Content-Type":"application/json"},body:{referencecode:b.value,date:te.value,time:le.value,description:S.value}}).then(o=>{X.go()})},ye=async()=>{h.value=[],_e(),await $fetch(w.value+"/api/appointments/"+$.params.id+"/edit/",{method:"PUT",body:{service:U.value,provider:k.value,referencecode:b.value,date:v.value,time:_.value,firstname:A.value,lastname:M.value,email:T.value,contactnumber:O.value,address:R.value,city:L.value,zipcode:N.value,notes:P.value,banner_image:ee.value,successful_request:z.value,appointment_confirm:E.value,payment:q.value,request_delivered:F.value,updated_at:re.value,created_by_name:ue.value,created_by_email:me.value}}).then(o=>{})};return(o,t)=>{const we=Se,ke=Ve;return u(),r("div",Fe,[e("div",je,[n(e("div",Be,[Q(we)],512),[[Me,s(x)]]),e("div",Ge,[e("div",Ye,[e("div",He,[e("div",Ie,[e("div",{onClick:t[0]||(t[0]=l=>d(x)?x.value=!s(x):x=!s(x)),class:"w-10 px-1.5"},[e("i",{class:W(["fa text-3xl text-white",s(x)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",Xe,[t[21]||(t[21]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",Je,f(s(c).user.email),1)])]),e("button",{onClick:be,class:"flex hover:font-bold pt-1"},t[22]||(t[22]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",Ze,[e("div",Ke,[e("form",{onSubmit:se(ye,["prevent"])},[e("div",Qe,[e("div",We,[e("div",$e,[e("div",et,[e("div",tt,[t[24]||(t[24]=e("label",{class:"block mb-2 text-xs font-bold text-gray-900 uppercase"},"Service",-1)),n(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>d(U)?U.value=l:U=l),id:"service",name:"service",class:"shadow-md p-2 rounded-sm mb-2 w-full"},t[23]||(t[23]=[Oe('<option value="" disabled data-v-213714c3> Please select the type of service. </option><optgroup label="University Registrar" data-v-213714c3><option value="CAV" data-v-213714c3>CAV Application</option><option value="Good Moral" data-v-213714c3> Certificate of Good Moral Character </option><option value="Honorable" data-v-213714c3>Honorable Dismissal</option><option value="TOR" data-v-213714c3>Transcipt of Records Application</option><option value="OTHERS" data-v-213714c3>Other Certificates Application</option></optgroup><optgroup label="SAO Office" data-v-213714c3><option value="Good Moral SAO" data-v-213714c3> Certificate of Good Moral Character </option></optgroup>',3)]),512),[[Te,s(U)]])]),e("div",lt,[t[25]||(t[25]=e("label",{for:"registrar",class:"uppercase block mb-2 text-xs font-bold text-gray-900"},"Provider",-1)),t[26]||(t[26]=e("div",{class:"text-xs mt-3 mb-3 font-bold"},[e("label",{class:""},"Please Select a Provider")],-1)),e("div",st,[(u(!0),r(B,null,G(s(ie),(l,j)=>(u(),r("div",{key:j,class:"mb-[0.125rem] block min-h-[1.5rem] pl-[1.5rem]"},[e("div",at,[n(e("input",{class:"lg:flex items-center w-4 h-4 text-green-600 bg-white border-green-300 focus:ring-green-500",type:"radio",name:"provider",id:"provider",value:l.registrarsAssign,"onUpdate:modelValue":t[2]||(t[2]=V=>d(k)?k.value=V:k=V),onClick:V=>s(ge)(l.registrarsAssign)},null,8,ot),[[oe,s(k)]]),e("label",it,f(l.title),1)]),e("p",dt,f(l.description),1)]))),128))])]),e("div",nt,[t[27]||(t[27]=e("h1",{class:"text-center mb-3 font-bold lasalle-green-text"}," Calendar ",-1)),e("div",rt,[Q(s(Pe),{modelValue:s(v),"onUpdate:modelValue":[t[3]||(t[3]=l=>d(v)?v.value=l:v=l),t[4]||(t[4]=l=>he(s(v)))],inline:"","enable-time-picker":!1,id:"date",name:"date","auto-apply":"",highlight:s(H),"year-range":[2025,2025],"disabled-week-days":[6,7,0],"week-start":"0","hide-offset-dates":"","min-date":o.minDate},null,8,["modelValue","highlight","min-date"])])]),e("div",ut,[t[28]||(t[28]=e("h1",{class:"text-center mt-5 mb-3 font-bold lasalle-green-text lg:whitespace-nowrap"}," Available Time ",-1)),e("div",mt,[e("div",ct,[e("div",pt,[e("div",vt,[e("ul",ft,[(u(!0),r(B,null,G(s(de)[0].time,(l,j)=>(u(),r("li",{class:"mb-3 lg:flex justify-center font-bold",key:j},[s(Y).includes(s(p),l)?n((u(),r("input",{key:0,id:"time",type:"radio",name:"time",value:l,class:"mr-2 mt-0.5","onUpdate:modelValue":t[5]||(t[5]=V=>d(_)?_.value=V:_=V)},null,8,gt)),[[oe,s(_)]]):(u(),r("input",{key:1,id:"time",type:"checkbox",name:"time",value:l,class:"mr-2 mt-0.5",disabled:"",checked:""},null,8,bt)),s(Y).includes(s(D),l)?(u(),r("label",ht,f(l),1)):(u(),r("label",{key:3,class:W(s(Y).includes(s(p),l)?"text-green-500":"text-red-500")},f(l),3))]))),128))])])])])])])])]),e("div",_t,[e("div",xt,[e("div",yt,[e("div",wt,[e("div",null,[t[29]||(t[29]=e("h1",{class:"mb-3 font-bold lasalle-green-text"}," Primary Information ",-1)),e("div",kt,[n(e("input",{id:"firstname",name:"firstname",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"First Name","onUpdate:modelValue":t[6]||(t[6]=l=>d(A)?A.value=l:A=l)},null,512),[[g,s(A)]]),n(e("input",{id:"lastname",name:"lastname",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Last Name","onUpdate:modelValue":t[7]||(t[7]=l=>d(M)?M.value=l:M=l)},null,512),[[g,s(M)]]),n(e("input",{id:"email",name:"email",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Email","onUpdate:modelValue":t[8]||(t[8]=l=>d(T)?T.value=l:T=l)},null,512),[[g,s(T)]]),n(e("input",{id:"contactnumber",name:"contactnumber",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Contact Number","onUpdate:modelValue":t[9]||(t[9]=l=>d(O)?O.value=l:O=l)},null,512),[[g,s(O)]])])]),e("div",St,[t[30]||(t[30]=e("h1",{class:"lg:mb-3 mb-2 lg:mt-0 mt-3 font-bold lasalle-green-text"}," Contact Address ",-1)),e("div",Vt,[n(e("input",{id:"address",name:"address",class:"shadow-md p-2 rounded-sm mb-3 w-full border",placeholder:"Address","onUpdate:modelValue":t[10]||(t[10]=l=>d(R)?R.value=l:R=l)},null,512),[[g,s(R)]]),e("div",Ct,[n(e("input",{id:"city",name:"city",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"City","onUpdate:modelValue":t[11]||(t[11]=l=>d(L)?L.value=l:L=l)},null,512),[[g,s(L)]]),n(e("input",{id:"zipcode",name:"zipcode",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Zip Code","onUpdate:modelValue":t[12]||(t[12]=l=>d(N)?N.value=l:N=l)},null,512),[[g,s(N)]])])])])]),e("div",Ut,[n(e("input",{name:"notes",placeholder:"Notes",class:"shadow-md border rounded-sm p-2 w-full","onUpdate:modelValue":t[13]||(t[13]=l=>d(P)?P.value=l:P=l)},null,512),[[g,s(P)]])]),e("div",Dt,[e("div",At,[e("div",Mt,[e("input",{type:"file",onChange:t[14]||(t[14]=(...l)=>o.uploadedFile&&o.uploadedFile(...l)),accept:"image/*"},null,32)])]),e("div",Tt,[e("div",Ot,[e("img",{class:"lg:w-full h-56 object-contain",src:s(ee)},null,8,Rt)])])]),e("div",Lt,[n(e("input",{id:"referencecode",name:"referencecode",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Reference Code","onUpdate:modelValue":t[15]||(t[15]=l=>d(b)?b.value=l:b=l),disabled:""},null,512),[[g,s(b)]])])]),e("div",Nt,[e("ul",Pt,[e("li",zt,[t[36]||(t[36]=e("label",{class:"pr-2"}," Status",-1)),e("h1",Et,[t[35]||(t[35]=Re(" : ")),e("ul",qt,[e("li",Ft,[n(e("input",{type:"checkbox",id:"checking",name:"checking",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":t[16]||(t[16]=l=>d(z)?z.value=l:z=l)},null,512),[[I,s(z)]]),t[31]||(t[31]=e("label",{class:""},"Checking",-1))]),e("li",jt,[n(e("input",{type:"checkbox",id:"appointment_confirm",name:"appointment_confirm",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":t[17]||(t[17]=l=>d(E)?E.value=l:E=l)},null,512),[[I,s(E)]]),t[32]||(t[32]=e("label",{class:""},"Confirmed",-1))]),e("li",Bt,[n(e("input",{type:"checkbox",id:"payment",name:"payment",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":t[18]||(t[18]=l=>d(q)?q.value=l:q=l)},null,512),[[I,s(q)]]),t[33]||(t[33]=e("label",{class:""},"Payment",-1))]),e("li",Gt,[n(e("input",{type:"checkbox",id:"request_delivered",name:"request_delivered",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":t[19]||(t[19]=l=>d(F)?F.value=l:F=l)},null,512),[[I,s(F)]]),t[34]||(t[34]=e("label",{class:""},"Delivered",-1))])])])])])]),s(h).length?(u(),r("div",Yt,[(u(!0),r(B,null,G(s(h),l=>(u(),r("p",{key:l},f(l),1))),128))])):ae("",!0),t[37]||(t[37]=e("div",{class:"lg:w-full mx-auto justify-between flex"},[e("button",{class:"lasalle-green text-xs hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg mt-6 uppercase"}," Update ")],-1))])])])])],32)]),e("div",Ht,[e("form",{onSubmit:se(xe,["prevent"]),class:"lg:flex items-center"},[n(e("input",{id:"tracking_description",name:"tracking_description",class:"shadow-md p-2 rounded-sm border text-xs w-full",placeholder:"Remark Status","onUpdate:modelValue":t[20]||(t[20]=l=>d(S)?S.value=l:S=l)},null,512),[[g,s(S)]]),t[38]||(t[38]=e("button",{class:"lasalle-green text-xs hover:bg-green-700 text-white py-1.5 px-1.5 whitespace-nowrap rounded-lg uppercase ml-5 font-bold"}," Add Track Status ",-1)),s(h).length?(u(),r("div",It,[(u(!0),r(B,null,G(s(h),l=>(u(),r("p",{key:l},f(l),1))),128))])):ae("",!0)],32)]),e("div",Xt,[(u(!0),r(B,null,G(s(Y).orderBy(s(ne),"date","time","asc"),(l,j)=>(u(),r("ol",{class:W(["relative border-l border-gray-200 dark:border-gray-700",l.referencecode===s(b)?"block":"hidden"]),key:j},[e("li",Jt,[t[39]||(t[39]=e("div",{class:"absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"},null,-1)),e("p",Zt,f(l.date),1),e("p",Kt,f(l.time),1),e("p",Qt,f(l.description),1)])],2))),128))])])])]),Q(ke)])}}},ml=qe(Wt,[["__scopeId","data-v-213714c3"]]);export{ml as default};
