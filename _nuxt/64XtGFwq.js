import{_ as Se}from"./BbcMqS0V.js";import{A as De,N as Te,B as $e,r as u,e as le,C as Ie,s as U,k as oe,c,a as e,m as h,v as K,h as A,f as W,t as i,Q as ne,n as _,i as M,d as $,E as Y,F as j,g as N,D as O,b as Le,o as p}from"#entry";import{_ as Ee}from"./CXohH4N5.js";import{h as z}from"./BLMuvzoS.js";import{s as Ve}from"./BzLCLO6P.js";import{_ as Pe}from"./DlAUqK2U.js";const Ue={class:"min-h-screen flex"},Me={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},je={class:"w-full"},Ne={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},Oe={class:"flex items-center w-full px-2"},qe={class:"text-sm"},Re={class:"w-full"},Be={class:"bg-green-800 w-full"},Fe={class:"flex mx-auto justify-between py-2 px-3.5"},Ye={class:"bg-white border rounded-md p-2 text-xs gap-2 mt-2 mx-5"},ze={class:"flex justify-between bg-white border-b mb-4 py-3"},Ge={class:"flex items-center justify-between gap-x-3"},Qe={class:"flex items-center space-x-3"},He=["checked","indeterminate"],Je={key:0,class:"flex items-center space-x-2"},Ke={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},We=["disabled"],Xe={class:"flex gap-2 items-center mb-1 whitespace-nowrap"},Ze={class:"px-2 py-0.5 rounded-full text-white bg-green-700"},et={class:"px-2 py-0.5 rounded-full text-white bg-gray-600"},tt={class:"px-2 py-0.5 rounded-full text-white bg-red-700"},st={class:"px-2 py-0.5 rounded-full text-white bg-yellow-600"},at={class:"flex items-center gap-x-3"},lt={class:"flex flex-col"},ot={class:"flex flex-col whitespace-nowrap"},nt=["value"],it={class:"flex flex-col"},rt={class:"flex flex-col"},dt={class:"flex flex-col"},ut={class:"flex flex-col w-full"},ct={class:"relative"},pt={class:"flex gap-2"},vt={class:""},ft={class:"w-full lg:p-5 px-2 py-2"},gt={class:""},mt={key:0,class:"text-center"},ht={key:1},xt={key:0,class:"gap-4"},yt={class:"px-2"},_t=["checked","onChange"],bt={class:"w-full bg-white"},wt={class:"lg:flex items-center w-full"},kt={class:"lg:w-5/12 w-full block text-left text-[11px] leading-tight lg:px-2 px-2 lg:py-1 py-2"},Ct={class:"w-full capitalize text-xs flex"},At={class:"max-w-[150px] truncate flex mr-1"},St={class:""},Dt={class:"w-full text-xs"},Tt={class:"w-full"},$t={class:"lg:w-6/12 w-full"},It={class:"w-full font-bold pb-1 flex items-center lg:justify-start justify-center"},Lt={class:"w-full flex items-center justify-center uppercase"},Et={class:"gap-x-0.5 flex w-full"},Vt={class:"lg:w-6/12 w-full flex items-center lg:py-0 py-4 border-r"},Pt={class:"w-full"},Ut={class:"flex items-center w-11/12 mx-auto mb-1"},Mt={class:"flex w-full"},jt=["onUpdate:modelValue"],Nt={class:"flex items-center w-11/12 mx-auto"},Ot={class:"flex w-full"},qt=["onUpdate:modelValue"],Rt={class:"w-full px-3 lg:block flex items-center lg:py-0 py-2"},Bt=["onClick"],Ft={class:"text-[10px] font-light whitespace-nowrap"},Yt={class:""},zt={class:"gap-x-5 flex w-fit mx-5 pt-1"},Gt=["href"],Qt=["href"],Ht={class:"flex w-full"},Jt={class:"w-fit mx-auto lg:py-1 py-3 flex items-center"},Kt={class:"lg:block flex items-center w-full"},Wt=["onUpdate:modelValue","onChange"],Xt={class:"h-screen w-full px-5 bg-[#ffffffa3] shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center"},Zt={key:1,class:"flex justify-center my-4 pb-10"},es=["disabled"],ts=["onClick"],ss=["disabled"],as={key:2,class:"text-center my-5"},ls={key:0,class:"w-full z-10 bg-white h-full mb-16"},os={class:"border-4 border-gray-100 shadow-lg"},ns={class:"flex items-center"},is={class:"lg:grid grid-cols-4 lg:gap-x-3 lg:text-sm text-xs"},rs={class:"w-full"},ds=1e3,X=500,G=4,us={__name:"index",setup(cs){const q=De(),ie=Te(),S=$e(),D=u(S.mainDevServer),g=u([]);let re=u(),de=u(!0),f=u(!1),I=u(!1);const o=u(null),L=u(!1),Z=u([]),R=u(!1);let E=null;const r=u([]),Q=u(!1),ue=()=>{r.value.length===P.value.length?r.value=[]:r.value=P.value.map(a=>a.id)},ce=a=>{const t=r.value.indexOf(a);t>-1?r.value.splice(t,1):r.value.push(a)},pe=()=>{r.value.length!==0&&(I.value=!0)},ve=async()=>{if(r.value.length!==0)try{Q.value=!0;for(const a of r.value)await $fetch(D.value+"/api/campus-pass/"+a+"/delete/",{method:"DELETE",headers:{Authorization:S.user.token,"Content-Type":"application/json"}});console.log(`${r.value.length} items deleted successfully`),r.value=[],await V(),I.value=!1}catch(a){console.error("Error deleting items:",a)}finally{Q.value=!1}},fe=async()=>{await ve()},ee=async()=>{if(!R.value){R.value=!0;try{const a=await $fetch(D.value+"/api/campus-pass/list").catch(()=>[])||[],t=(l,s)=>{const v=new Map((l||[]).map(d=>[d.id,d])),n=[];for(const d of s||[])d&&v.has(d.id)?(Object.assign(v.get(d.id),d),n.push(v.get(d.id))):d&&n.push(d);return n};Array.isArray(g.value)&&Array.isArray(a)?g.value=g.value.length===0?a:t(g.value,a):g.value=a}catch(a){console.error("Silent fetch error:",a)}finally{R.value=!1}}},te=async()=>{try{const a=g.value;if(!a||!Array.isArray(a)||a.length===0)return;const t={},l=[];a.forEach(s=>{if(s.tracking_id)if(t[s.tracking_id]){const v=t[s.tracking_id],n=new Date(v.created_at)>new Date(s.created_at)?v.id:s.id;l.push(n)}else t[s.tracking_id]=s});for(const s of l)await $fetch(D.value+"/api/campus-pass/"+s+"/delete/",{method:"DELETE",headers:{Authorization:S.user.token,"Content-Type":"application/json"}});l.length>0&&(console.log(`ðŸ§¹ Removed ${l.length} duplicate campus pass entries`),await ee())}catch(a){console.error("Error checking for duplicates:",a)}},se=()=>{E&&clearInterval(E),E=Ve(async()=>{!R.value&&!I.value&&!Q.value&&(await ee(),await te())},ds)},ge=()=>{E&&(clearInterval(E),E=null)};le(async()=>{setTimeout(async()=>{S.user.isAuthenticated&&(S.user.email==="jorenleeluna24@gmail.com"||S.user.email==="esmael.larubis@lsu.edu.ph")?(await V(),q.push("/campus-pass/dashboard"),se()):q.push("/unauthorized")},5e3),console.log("userStore",S),await V(),await te(),se()}),Ie(()=>{ge()});const V=async()=>{try{g.value=await $fetch(D.value+"/api/campus-pass/list").catch(a=>a.data)||[]}catch(a){console.error("Error fetching list items:",a)}finally{J.value=!1}},B=a=>{const t=l=>l.filter(s=>s!=null).map(s=>String(s).trim()).filter(s=>s.length>0);if(Array.isArray(a))return t(a);if(typeof a=="string"){const l=a.trim();if(!l)return[];try{const d=JSON.parse(l);if(Array.isArray(d))return t(d)}catch{}const s=l.replace(/^\[|\]$/g,""),v=s.split(",").map(d=>d.replace(/^['"]|['"]$/g,"").trim()).filter(d=>d.length>0);if(v.length>0)return v;const n=s.replace(/^['"]|['"]$/g,"").trim();return n?[n]:[]}return[]},x=u("all"),y=u("all"),b=u("asc"),w=u(""),k=u(""),T=u(""),me=U(()=>{const a=new Set;return(g.value||[]).forEach(t=>{B(t?.type_of_access||[]).forEach(l=>a.add(l))}),Array.from(a).sort()}),F=U(()=>{const a={approved:0,pending:0,declined:0,"for revision":0};for(const t of g.value||[]){const l=String(t.approval_status||"").toLowerCase();l in a&&(a[l]+=1)}return a});le(()=>{const a=ie.query||{};a.status&&(x.value=String(a.status)),a.type&&(y.value=String(a.type)),a.sort&&(b.value=String(a.sort)==="desc"?"desc":"asc"),a.from&&(w.value=String(a.from)),a.to&&(k.value=String(a.to)),a.q&&(T.value=String(a.q))}),oe([x,y,b,w,k,T],()=>{const a={...x.value&&x.value!=="all"?{status:x.value}:{},...y.value&&y.value!=="all"?{type:y.value}:{},...b.value&&b.value!=="asc"?{sort:b.value}:{},...w.value?{from:w.value}:{},...k.value?{to:k.value}:{},...T.value?{q:T.value}:{}};q.replace({query:a}).catch(()=>{})});const he=async(a,t,l,s)=>{o.value=await $fetch(D.value+"/api/campus-pass/"+a+"/").catch(v=>v.data),o.value.approval_status=t,o.value.purpose=l,o.value.remarks=s,xe(a)},xe=async a=>{await $fetch(D.value+"/api/campus-pass/"+a+"/edit/",{method:"PUT",body:o.value}).then(t=>{console.log("response",t),o.value.approval_status==="approved"&&ye(),o.value.approval_status==="declined"&&_e(),o.value.approval_status==="for revision"&&be()})},ye=async()=>{await $fetch(D.value+"/api/campus-pass/to-gmail-approved/",{method:"POST",headers:{"Content-Type":"application/json"},body:{incharge_firstname:o.value.incharge_firstname,incharge_contact_email:o.value.incharge_contact_email,schedule:o.value.schedule,approval_status:o.value.approval_status,remarks:o.value.remarks,tracking_id:o.value.tracking_id,purpose:o.value.purpose}}).then(async a=>{console.log(a),await V()})},_e=async()=>{await $fetch(D.value+"/api/campus-pass/to-gmail-declined/",{method:"POST",headers:{"Content-Type":"application/json"},body:{incharge_firstname:o.value.incharge_firstname,incharge_contact_email:o.value.incharge_contact_email,schedule:o.value.schedule,approval_status:o.value.approval_status,remarks:o.value.remarks,tracking_id:o.value.tracking_id,purpose:o.value.purpose}}).then(async a=>{console.log(a),await V()})},be=async()=>{await $fetch(D.value+"/api/campus-pass/to-gmail-for-revision/",{method:"POST",headers:{"Content-Type":"application/json"},body:{incharge_firstname:o.value.incharge_firstname,incharge_contact_email:o.value.incharge_contact_email,schedule:o.value.schedule,approval_status:o.value.approval_status,remarks:o.value.remarks,tracking_id:o.value.tracking_id,purpose:o.value.purpose}}).then(async a=>{console.log(a),await V()})},we=a=>{I.value=!I.value,re.value=a},ke=a=>{g.value.filter(function(t){a===t.id&&(Z.value=t.name_list,L.value=!L.value)})},Ce=()=>{S.removeToken(),q.push("/campus-pass/login")};let m;const H=U(()=>{m=Array.isArray(g.value)?[...g.value]:[];const a=(T.value||"").toLowerCase().trim();if(a){const l=s=>String(s||"").toLowerCase().includes(a);m=m.filter(s=>{const v=`${s.incharge_firstname||""} ${s.incharge_middlename||""} ${s.incharge_lastname||""}`,n=B(s.type_of_access).join(" ");return l(v)||l(s.incharge_contact_email)||l(s.tracking_id)||l(s.remarks)||l(s.purpose)||l(n)})}if(x.value!=="all"){const l=x.value.toLowerCase();m=m.filter(s=>(s.approval_status||"").toLowerCase().includes(l))}y.value!=="all"&&(m=m.filter(l=>B(l.type_of_access).includes(y.value)));const t=l=>z(l?.created_at||l?.schedule);if(w.value){const l=z(w.value,"YYYY-MM-DD").startOf("day");m=m.filter(s=>t(s).isValid()&&t(s).isSameOrAfter(l))}if(k.value){const l=z(k.value,"YYYY-MM-DD").endOf("day");m=m.filter(s=>t(s).isValid()&&t(s).isSameOrBefore(l))}return Ee.orderBy(m,[l=>z(l?.created_at||l?.schedule).valueOf()],[b.value])}),J=u(!0),C=u(1),ae=U(()=>Math.ceil(H.value.length/X)),P=U(()=>{const a=(C.value-1)*X,t=a+X;return H.value.slice(a,t)});oe([x,y,b,w,k],()=>{C.value=1});const Ae=U(()=>{const a=[];let t=Math.max(1,C.value-Math.floor(G/2)),l=Math.min(ae.value,t+G-1);l-t+1<G&&(t=Math.max(1,l-G+1));for(let s=t;s<=l;s++)a.push(s);return a});return(a,t)=>{const l=Se;return p(),c("div",null,[e("div",Ue,[h(e("div",Me,[e("div",je,[e("div",Ne,[e("div",Oe,[t[13]||(t[13]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",qe,i(A(S).user.email),1)]),e("div",{onClick:t[0]||(t[0]=s=>ne(f)?f.value=!A(f):f=!A(f)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:_(["fa text-3xl text-white",A(f)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[14]||(t[14]=W('<div class="" data-v-442497a8><div class="w-fit mx-auto mt-5 mb-3" data-v-442497a8><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto" data-v-442497a8></div><div class="text-center" data-v-442497a8><h1 class="font-bold text-green-800 text-2xl" data-v-442497a8>Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1" data-v-442497a8><a href="/campus-pass/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white" data-v-442497a8><i class="fa fa-list mr-3" aria-hidden="true" data-v-442497a8></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white" data-v-442497a8><i class="fa fa-globe mr-3" aria-hidden="true" data-v-442497a8></i> LSU HOME PAGE </a></div></div>',1))])],512),[[K,A(f)]]),e("div",Re,[e("div",Be,[e("div",Fe,[e("div",{onClick:t[1]||(t[1]=s=>ne(f)?f.value=!A(f):f=!A(f)),class:"w-auto flex items-center lg:px-1.5"},[e("i",{class:_(["fa text-3xl text-white",A(f)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),t[15]||(t[15]=e("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Campus Pass Access ",-1))]),e("button",{onClick:Ce,class:"flex hover:font-bold pt-1"},[...t[16]||(t[16]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)])])])]),e("div",Ye,[e("div",ze,[e("div",Ge,[e("div",Qe,[e("button",{onClick:ue,class:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-green-500 text-sm"},[e("input",{type:"checkbox",checked:r.value.length>0&&r.value.length===P.value.length,indeterminate:r.value.length>0&&r.value.length<P.value.length,class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",readonly:""},null,8,He),t[17]||(t[17]=e("span",{class:"font-medium text-gray-700"}," Select All ",-1))]),r.value.length>0?(p(),c("div",Je,[e("span",Ke,[t[18]||(t[18]=e("i",{class:"fa fa-user mr-1"},null,-1)),$(" ("+i(r.value.length)+") ",1)])])):M("",!0)]),e("button",{onClick:pe,disabled:r.value.length===0,class:_([r.value.length===0?"bg-gray-300 cursor-not-allowed":"bg-red-800 hover:bg-red-900","px-3 py-1 rounded-md uppercase text-white font-bold text-sm transition-colors duration-200"])}," DELETE ",10,We)]),e("div",Xe,[e("span",Ze,"Approved: "+i(F.value.approved),1),e("span",et,"Pending: "+i(F.value.pending),1),e("span",tt,"Declined: "+i(F.value.declined),1),e("span",st,"For revision: "+i(F.value["for revision"]),1)])]),e("div",at,[e("div",lt,[t[20]||(t[20]=e("label",{class:"font-semibold mb-0.5"},"Status",-1)),h(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>x.value=s),class:"border px-2 py-1 rounded"},[...t[19]||(t[19]=[W('<option value="all" data-v-442497a8>All</option><option value="approved" data-v-442497a8>Approved</option><option value="pending" data-v-442497a8>Pending</option><option value="declined" data-v-442497a8>Declined</option><option value="for revision" data-v-442497a8>For Revision</option>',5)])],512),[[Y,x.value]])]),e("div",ot,[t[22]||(t[22]=e("label",{class:"font-semibold mb-0.5"},"Type of Access",-1)),h(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>y.value=s),class:"border px-2 py-1 rounded"},[t[21]||(t[21]=e("option",{value:"all"},"All",-1)),(p(!0),c(j,null,N(me.value,s=>(p(),c("option",{key:s,value:s},i(s),9,nt))),128))],512),[[Y,y.value]])]),e("div",it,[t[24]||(t[24]=e("label",{class:"font-semibold mb-0.5"},"Sort",-1)),h(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>b.value=s),class:"border px-2 py-1 rounded"},[...t[23]||(t[23]=[e("option",{value:"asc"},"Oldest first (ASC)",-1),e("option",{value:"desc"},"Newest first (DESC)",-1)])],512),[[Y,b.value]])]),e("div",rt,[t[25]||(t[25]=e("label",{class:"font-semibold mb-0.5"},"From",-1)),h(e("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=s=>w.value=s),class:"border px-2 py-1 rounded"},null,512),[[O,w.value]])]),e("div",dt,[t[26]||(t[26]=e("label",{class:"font-semibold mb-0.5"},"To",-1)),h(e("input",{type:"date","onUpdate:modelValue":t[6]||(t[6]=s=>k.value=s),class:"border px-2 py-1 rounded"},null,512),[[O,k.value]])]),e("div",ut,[t[29]||(t[29]=e("label",{class:"font-semibold mb-0.5"},"Search",-1)),e("div",ct,[t[28]||(t[28]=e("i",{class:"fa fa-search absolute left-2 top-1/2 -translate-y-1/2 text-gray-500"},null,-1)),h(e("input",{type:"search","onUpdate:modelValue":t[7]||(t[7]=s=>T.value=s),placeholder:"Name, email, TID, remarks, type...",class:"border px-2 py-1 rounded pl-7 pr-7 w-full","aria-label":"Search Campus Pass requests"},null,512),[[O,T.value,void 0,{trim:!0}]]),T.value?(p(),c("button",{key:0,onClick:t[8]||(t[8]=s=>T.value=""),type:"button",class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-800","aria-label":"Clear search",title:"Clear search"},[...t[27]||(t[27]=[e("i",{class:"fa fa-times-circle"},null,-1)])])):M("",!0)])]),e("div",pt,[e("button",{onClick:t[9]||(t[9]=()=>{x.value="all",y.value="all",b.value="asc",w.value="",k.value=""}),class:"mt-4 border px-2 py-1 rounded hover:bg-gray-100"}," Reset ")])])]),e("div",vt,[e("div",ft,[h(e("div",null,[t[45]||(t[45]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),e("div",gt,[e("div",{class:_(["appointment-lists mx-auto text-xs",L.value?"hidden":""])},[J.value?(p(),c("div",mt,[...t[30]||(t[30]=[W('<div class="" data-v-442497a8><div class="flex animate-pulse space-x-4" data-v-442497a8><div class="flex-1" data-v-442497a8><div class="h-10 bg-gray-300" data-v-442497a8></div><div class="h-0.5 bg-gray-100" data-v-442497a8></div><div class="h-10 bg-gray-200" data-v-442497a8></div><div class="h-0.5 bg-gray-100" data-v-442497a8></div><div class="h-10 bg-gray-300" data-v-442497a8></div><div class="h-0.5 bg-gray-100" data-v-442497a8></div><div class="h-10 bg-gray-200" data-v-442497a8></div><div class="h-0.5 bg-gray-100" data-v-442497a8></div><div class="h-10 bg-gray-300" data-v-442497a8></div><div class="h-0.5 bg-gray-100" data-v-442497a8></div><div class="h-10 bg-gray-100" data-v-442497a8></div><div class="h-0.5 bg-gray-100" data-v-442497a8></div></div></div></div>',1)])])):(p(),c("div",ht,[P.value.length>0?(p(),c("div",xt,[(p(!0),c(j,null,N(P.value,(s,v)=>(p(),c("div",{class:"bg-gray-300 flex justify-evenly items-center h-auto shadow lg:mb-0 mb-5 border-gray-200 border",key:v},[e("div",yt,[e("input",{type:"checkbox",checked:r.value.includes(s.id),onChange:n=>ce(s.id),class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded cursor-pointer accent-green-600"},null,40,_t)]),e("div",bt,[e("div",wt,[e("div",kt,[e("div",Ct,[e("span",At,[t[31]||(t[31]=e("i",{class:"fa fa-user mr-2.5"},null,-1)),$(" "+i(s.incharge_lastname)+", ",1)]),e("span",St,i(s.incharge_firstname),1),e("span",{class:_([s.incharge_middlename==="-"?"hidden":"","mx-1"])},i(s.incharge_middlename),3)]),e("div",Dt,[t[32]||(t[32]=e("i",{class:"fa fa-envelope mr-1.5"},null,-1)),$(" "+i(s.incharge_contact_email),1)]),e("div",Tt,[t[33]||(t[33]=e("i",{class:"fa fa-phone lg:mr-2 mr-1"},null,-1)),$(" "+i(s.incharge_contact_number),1)])]),e("div",$t,[e("div",It,[t[34]||(t[34]=e("i",{class:"fa fa-calendar mr-2"},null,-1)),$(" "+i(s.schedule),1)]),e("div",Lt,[e("ul",Et,[(p(!0),c(j,null,N(B(s.type_of_access),(n,d)=>(p(),c("li",{key:d,class:"border px-2 lg:py-0 py-1 text-[10px] tracking-tighter w-full whitespace-nowrap lg:text-left text-center"},i(n),1))),128))])])]),e("div",Vt,[e("div",Pt,[e("div",Ut,[t[35]||(t[35]=e("label",{for:"remarks",class:"font-bold text-gray-800 mr-2.5"},"Remarks:",-1)),e("div",Mt,[h(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm","onUpdate:modelValue":n=>s.remarks=n},null,8,jt),[[O,s.remarks]])])]),e("div",Nt,[t[36]||(t[36]=e("label",{for:"details",class:"font-bold text-gray-800 mr-5"},"Details:",-1)),e("div",Ot,[h(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"Details","onUpdate:modelValue":n=>s.purpose=n},null,8,qt),[[O,s.purpose]])])])])]),e("div",{class:_(["lg:w-5/12 w-full flex items-center text-left",s.attendees==="Group"?"cursor-pointer hover:bg-gray-300 hover:text-black bg-gray-200 py-1":"flex items-center py-1"])},[e("div",Rt,[e("div",{class:"font-bold uppercase lg:w-full lg:mr-0 mr-6",onClick:n=>ke(s.id)},[$(i(s.attendees)+" ",1),e("i",{class:_(["fa fa-caret-down text-lg ml-2",s.attendees==="Group"?"text-green-800":"hidden"])},null,2)],8,Bt),e("div",Ft,[t[37]||(t[37]=$(" TID: ",-1)),e("span",Yt,i(s.tracking_id),1)])]),e("div",zt,[e("a",{href:s.approved_activities_link,target:"_blank",class:_(["font-bold w-full block text-green-800",s.approved_activities_link==="-"?"hidden":""])},[...t[38]||(t[38]=[e("i",{class:"fa fa-file-pdf text-lg"},null,-1)])],10,Gt),e("a",{href:s.approved_gso_docs_link,target:"_blank",class:_(["font-bold w-full block text-green-800",s.approved_gso_docs_link==="-"?"hidden":""])},[...t[39]||(t[39]=[e("i",{class:"fa fa-file-pdf text-lg"},null,-1)])],10,Qt)])],2),e("div",{class:_(["lg:w-3/12 w-full flex items-center justify-center py-1 border-b",{"bg-red-700":s.approval_status==="declined","bg-gray-700":s.approval_status==="pending","bg-yellow-500":s.approval_status==="for revision","bg-green-900":s.approval_status==="approved"}])},[e("div",Ht,[e("div",Jt,[e("div",Kt,[t[41]||(t[41]=e("label",{class:"font-bold block text-white lg:mr-0 mr-2"},"Status",-1)),h(e("select",{"onUpdate:modelValue":n=>s.approval_status=n,name:"borrower_category",class:"shadow block font-bold rounded-md w-fit border pb-0.5 border-[#e5e7eb] capitalize",required:"",onChange:n=>he(s.id,s.approval_status,s.purpose,s.remarks)},[...t[40]||(t[40]=[e("option",{value:"pending"}," Update Data ",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"declined"},"declined",-1),e("option",{value:"for revision"}," revision ",-1)])],40,Wt),[[Y,s.approval_status]])])])])],2)])])]))),128)),h(e("div",Xt,[e("div",{class:"my-[10%] bg-white w-fit mx-auto px-10 py-3 rounded-lg shadow-2xl"},[t[42]||(t[42]=e("div",{class:"my-6"}," Are you sure you want to Delete? ",-1)),e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:fe},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:we},"Cancel")])])],512),[[K,A(I)]])])):M("",!0),H.value.length>0?(p(),c("div",Zt,[e("button",{disabled:C.value===1,onClick:t[10]||(t[10]=s=>C.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,es),(p(!0),c(j,null,N(Ae.value,s=>(p(),c("button",{key:s,onClick:v=>C.value=s,class:_(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":C.value===s,"bg-gray-200":C.value!==s}])},i(s),11,ts))),128)),e("button",{disabled:C.value===ae.value,onClick:t[11]||(t[11]=s=>C.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,ss)])):J.value?M("",!0):(p(),c("div",as," No items found! "))]))],2),L.value?(p(),c("div",ls,[e("div",os,[e("div",ns,[t[44]||(t[44]=e("div",{class:"text-center border-b py-2 font-bold w-full"}," List of Names ",-1)),e("div",{onClick:t[12]||(t[12]=s=>L.value=!L.value),class:"bg-gray-600 hover:bg-white hover:text-gray-600 border-b border-l text-white px-2 py-[8px]"},[...t[43]||(t[43]=[e("i",{class:"fa fa-close","aria-hidden":"true"},null,-1)])])]),e("div",is,[(p(!0),c(j,null,N(Z.value,(s,v)=>(p(),c("div",{key:v,class:"text-left lg:px-10 px-2 py-1 bg-gray-100 mb-0.5"},[e("div",null,i(s.lastname)+", "+i(s.firstname)+" "+i(s.middlename),1),e("div",null,i(s.email),1)]))),128))])])])):M("",!0)])],512),[[K,A(de)]])])])])]),e("div",rs,[Le(l)])])}}},xs=Pe(us,[["__scopeId","data-v-442497a8"]]);export{xs as default};
