import{_ as L}from"./A28FNJk_.js";import{_ as N}from"./BbcMqS0V.js";import{A,B as E,r as a,Q as z,e as F,c as u,a as e,b,m,v as g,h as o,J as P,n as f,t as x,f as R,i as V,F as I,g as M,o as c}from"#entry";import{_ as O}from"./CXohH4N5.js";import"./BLMuvzoS.js";import{_ as J}from"./DlAUqK2U.js";const Q={class:"flex"},U={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},W={class:"w-full min-h-screen"},Y={class:"bg-green-800"},q={class:"lg:flex mx-auto justify-between py-2 px-3.5"},G={class:"lg:flex items-center text-white gap-5"},H={class:"flex -mt-1"},K={class:"text-sm"},X={class:"w-full p-5"},Z={class:""},ee={class:"appointment-lists shadow mx-auto text-xs"},te={class:""},se={key:0,class:"w-full rows"},ae={class:"px-2 lg:w-1/12"},le={class:"px-2 lg:w-5/12 capitalize"},oe={class:"px-2 lg:w-1/12 uppercase"},ie={class:"px-2 lg:w-3/12"},ne={class:"flex px-2 font-bold justify-center lg:w-2/12"},re={class:"mx-auto lg:flex justify-center"},de=["onClick"],ue={class:"mx-auto lg:flex justify-center"},ce=["onClick"],pe={class:"px-5 rounded-lg bg-white shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},xe={key:1,class:"itallic text-gray-400 text-center p-1"},he={__name:"index",setup(me){const r=A(),l=E(),h=a(l.mainDevServer);z();const d=a(0);a(new Date),a(!1);let v=a(),y=a(!0),i=a(!0),p=a(!1);F(()=>{setTimeout(async()=>{l.user.isAuthenticated&&(l.user.email==="jorenleeluna24@gmail.com"||l.user.email==="procurement@lsu.edu.ph"||l.user.email==="jason.yap@lsu.edu.ph")?(d.value=await $fetch(h.value+"/api/procurements/list").catch(n=>n.data)||0,r.push("/procurement/dashboard")):r.push("/unauthorized")},3e3)});const _=n=>{p.value=!p.value,v.value=n},k=async()=>{await $fetch(h.value+"/api/procurements/"+v.value+"/delete/",{method:"DELETE",headers:{Authorization:l.user.token,"Content-Type":"application/json"}}).then(async n=>{d.value=await $fetch(h.value+"/api/procurements/list").catch(t=>t.data)||0,p.value=!p.value})},C=()=>{r.push("/procurement/login"),l.removeToken()};a(!0);const D=()=>{r.push("/procurement/dashboard")},T=n=>{r.push("/procurement/dashboard/edit/"+n)},j=()=>{r.push("/procurement/dashboard/create")};return(n,t)=>{const B=L,S=N;return c(),u("div",null,[e("div",Q,[m(e("div",U,[b(B,{goToList:D,goToCreate:j})],512),[[g,o(i)]]),e("div",W,[e("div",Y,[e("div",q,[e("div",G,[e("div",{onClick:t[0]||(t[0]=s=>P(i)?i.value=!o(i):i=!o(i)),class:"w-10 px-1.5"},[e("i",{class:f(["fa text-3xl text-white",o(i)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",H,[t[1]||(t[1]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",K,x(o(l).user.email),1)])]),e("button",{onClick:C,class:"flex hover:font-bold pt-1"},[...t[2]||(t[2]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)])])])]),e("div",null,[e("div",X,[m(e("div",null,[e("div",Z,[e("div",ee,[e("div",te,[t[6]||(t[6]=R('<div class="header w-full p-2 bg-green-800 text-white flex items-center" data-v-e95b51a7><ul class="lg:flex w-full justify-evenly text-center whitespace-nowrap" data-v-e95b51a7><li class="lg:w-1/12" data-v-e95b51a7>No.</li><li class="lg:w-5/12" data-v-e95b51a7>Title</li><li class="lg:w-1/12" data-v-e95b51a7>Bid Status</li><li class="lg:w-3/12" data-v-e95b51a7>Deadline of Submission</li><li class="lg:w-2/12" data-v-e95b51a7>Action</li></ul></div>',1)),d.value.length>0?(c(),u("div",se,[(c(!0),u(I,null,M(o(O).orderBy(d.value,"id","asc"),(s,w)=>(c(),u("ul",{class:"lg:flex w-full justify-evenly py-3 text-center items-center h-auto border-b border-gray-100",key:w},[e("li",ae,x(w+1),1),e("li",le,x(s.title.toLowerCase()),1),e("li",oe,[e("span",{class:f({"border-green-900 px-2 py-1 text-white bg-green-900":s.bid_status==="completed","border-red-500 px-2 py-1 text-white bg-red-500":s.bid_status==="on hold","border-yellow-500 px-2 py-1 text-white bg-yellow-500":s.bid_status==="ongoing","border-purple-800 px-2 py-1 text-white bg-purple-800":s.bid_status==="announcement"})},x(s.bid_status),3)]),e("li",ie,x(s.deadline),1),e("li",ne,[e("div",re,[e("button",{onClick:$=>T(s.id)},[...t[3]||(t[3]=[e("i",{class:"fa fa-edit text-yellow-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)])],8,de)]),e("div",ue,[e("button",{onClick:$=>_(s.id)},[...t[4]||(t[4]=[e("i",{class:"fa fa-trash text-red-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)])],8,ce)])])]))),128)),m(e("div",pe,[t[5]||(t[5]=e("div",{class:"my-6"},"Are you sure you want to Delete?",-1)),e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:k},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:_},"Cancel")])],512),[[g,o(p)]])])):V("",!0),d.value.length===0?(c(),u("div",xe," No Results Found! ")):(c(),u("div",{key:2,class:f(["itallic text-gray-400 text-center p-1",d.value.length>0?"hidden":""])}," Please Wait ... ",2))])])])],512),[[g,o(y)]])])])])]),b(S)])}}},ye=J(he,[["__scopeId","data-v-e95b51a7"]]);export{ye as default};
