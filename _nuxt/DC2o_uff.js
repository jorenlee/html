import{_ as ee}from"./uA2qWlFC.js";import{e as te,u as se,r as i,g as le,y as V,c as a,a as e,k as x,h,m as A,f as g,j as Q,v as ae,d as m,n as d,i as E,F as y,l as _,t as o,N as P,b as oe,o as n}from"./CQug5RA3.js";import{_ as ne}from"./5JjjnmY2.js";import"./C5S46NFB.js";const re={class:"lg:flex min-h-screen"},ie={class:"w-full"},de={key:0,class:"w-fit mx-auto flex items-center"},ue={key:1},ce={key:0,class:"w-fit mx-auto mt-4 shadow-lg rounded-lg"},ve={class:"w-full lg:p-5 px-2 py-2"},ge={class:"relative"},pe={key:0,class:"text-center"},fe={key:1},xe={key:0,class:"gap-4"},he={class:"w-full"},me={class:"lg:flex items-center w-full"},be={class:"lg:w-4/12 w-full block text-left lg:px-2 px-0.5"},we={class:"w-full px-2 truncate"},ye={class:""},_e={class:""},ke={class:"w-full px-2"},Ce={class:"px-2"},Le={class:"lg:w-[100px] w-full flex items-center justify-center uppercase"},Ie={class:"gap-x-0.5 w-full flex"},Ve={class:"lg:w-[270px] w-full font-bold py-1 px-2 flex items-center lg:justify-normal justify-center"},Pe={class:"lg:w-4/12 w-full flex items-center"},Se={class:"w-full"},Ne={class:"lg:flex items-center w-11/12 mx-auto mb-1"},Ue={class:"flex w-full"},$e={class:"border-b py-0.5 px-1 text-left truncate w-[200px]"},Me={key:0,class:"lg:flex items-center w-11/12 mx-auto"},Be={class:"flex w-full"},Te={class:"border-b py-0.5 px-1 text-left truncate w-[200px]"},Ae={class:"gap-x-5 w-fit ml-5 pt-1"},De=["href"],Re=["href"],Fe={class:"w-full px-10"},Qe=["onClick"],Ee={class:"text-[10px] font-light whitespace-nowrap text-center"},Ge={class:""},qe={key:2,class:"flex justify-center my-4"},ze=["disabled"],Oe=["onClick"],He=["disabled"],Je={key:3,class:"text-center my-5"},Ke={key:0,class:"w-full z-10 bg-white h-full"},We={class:"w-fit mx-auto shadow-lg rounded-lg mb-6"},Xe={class:"border-4 border-gray-100 shadow-lg"},Ye={class:"lg:gap-x-3 lg:text-sm text-xs"},Ze={class:"w-full"},je={class:"w-full"},et={class:"w-full"},tt={class:"w-full"},st={class:"w-full"},lt={class:"w-full lg:text-center my-2 border-2 border-green-800 shadow-2xl flex"},at={class:"w-full"},ot={class:"w-full"},nt={class:"w-full"},rt={class:"w-full"},it={class:"w-full"},dt={class:"flex items-center w-full lg:text-center my-2 border-2 border-green-800 shadow-2xl"},ut=["onUpdate:modelValue"],ct=["onUpdate:modelValue"],vt={class:"static bottom-0 w-full"},D=5,S=3,mt={__name:"index",setup(gt){te();const G=se(),N=i(G.mainDevServer),k=i(0),q=i("13579"),U=i("");let z=i(!0);i(!1),i(!1);const l=i(null),p=i(!1);le(async()=>{await O()});const O=async()=>{try{k.value=await $fetch(N.value+"/api/campus-pass/list").catch(r=>r.data)||[]}catch(r){console.error("Error fetching list items:",r)}finally{B.value=!1}},H=()=>{window.print()},$=i(!1),J=()=>{q.value===U.value&&($.value=!0)};let K=i(null);const W=async r=>{l.value=await $fetch(N.value+"/api/campus-pass/"+r+"/").catch(t=>t.data),p.value=!p.value,K.value=r,I.value=l.value.name_list},L=async r=>{console.log(r),X(r)},X=async r=>{await $fetch(N.value+"/api/campus-pass/"+r+"/edit/",{method:"PUT",body:l.value}).then(async t=>{console.log("response",t)})};let b=i(""),f=i(""),C;const M=V(()=>{if(C=Array.isArray(k.value)?[...k.value]:[],b.value!==""){const r=b.value.toLowerCase();c.value=1,C=C.filter(t=>{for(const u in t)if(typeof t[u]=="string"&&t[u].toLowerCase().includes(r))return!0;return!1})}else C=Array.isArray(k.value)?[...k.value]:[];return ne.orderBy(C,"incharge_lastname","asc")});let I=i(null);const Y=async()=>{if(f.value!==""){const r=f.value.toLowerCase();I.value=l.value.name_list.filter(t=>{for(const u in t)return typeof t[u]=="string"&&t[u].toLowerCase().includes(r)})}else I.value=l.value.name_list},Z=()=>{p.value=!p.value,f.value=""},B=i(!0),c=i(1),R=V(()=>Math.ceil(M.value.length/D)),F=V(()=>{const r=(c.value-1)*D,t=r+D;return M.value.slice(r,t)}),j=V(()=>{const r=[];let t=Math.max(1,c.value-Math.floor(S/2)),u=Math.min(R.value,t+S-1);u-t+1<S&&(t=Math.max(1,u-S+1));for(let s=t;s<=u;s++)r.push(s);return r});return(r,t)=>{const u=ee;return n(),a("div",null,[e("div",re,[e("div",ie,[t[31]||(t[31]=e("div",{class:"bg-green-800"},[e("div",{class:"flex mx-auto justify-between py-2 px-3.5"},[e("a",{href:"/",class:"w-fit mx-auto"},[e("img",{src:"https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/lsu-w-h.png",class:"lg:h-9 h-8"})])])],-1)),$.value?x("",!0):(n(),a("div",de,[h(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>U.value=s),placeholder:"Pin Code",class:"text-center my-3 rounded-bl-md rounded-tl-md px-2 text-lg border shadow-lg border-green-700 w-[100px]",type:"password",maxlength:"5"},null,512),[[A,U.value]]),e("div",{onClick:J,class:"bg-green-800 font-bold text-white text-sm h-fit cursor-pointer px-3 py-[4px] rounded-br-md rounded-tr-md hover:bg-white hover:text-green-800 border border-green-800"}," Go ")])),$.value?(n(),a("div",ue,[p.value?x("",!0):(n(),a("div",ce,[h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>Q(b)?b.value=s:b=s),placeholder:"Search ...",class:"pt-[3px] pb-[2px] px-2 border rounded-tl-md rounded-bl-md"},null,512),[[A,g(b)]]),t[11]||(t[11]=e("label",{class:"bg-green-700 text-white py-[5px] px-2 border-transparent rounded-tr-md rounded-br-md"},[e("i",{class:"fa fa-search","aria-hidden":"true"})],-1))])),e("div",ve,[h(e("div",null,[p.value?x("",!0):(n(),a("div",{key:0,class:"cursor-pointer w-full flex shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase",onClick:H},t[12]||(t[12]=[e("div",{class:"w-fit mx-auto flex items-center"},[e("span",{class:"w-fit mx-auto block rounded-md text-green-800 px-4 font-bold"},[e("i",{class:"fa fa-print"})]),m(" All Request Lists ")],-1)]))),e("div",ge,[e("div",{class:d(["appointment-lists mx-auto text-xs",p.value?"hidden":""])},[B.value?(n(),a("div",pe,t[13]||(t[13]=[E('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(n(),a("div",fe,[g(F).length>0?(n(),a("div",xe,[(n(!0),a(y,null,_(g(F),(s,w)=>(n(),a("div",{class:"justify-evenly text-center items-center h-auto border border-gray-200 shadow mb-3",key:w},[e("div",he,[e("div",me,[e("div",be,[e("div",we,[e("span",ye,[t[14]||(t[14]=e("i",{class:"fa fa-user mr-2"},null,-1)),m(" "+o(s.incharge_lastname)+", ",1)]),e("span",_e,o(s.incharge_firstname),1),e("span",{class:d([s.incharge_middlename==="-"?"hidden":"","mx-1"])},o(s.incharge_middlename),3)]),e("div",ke,[t[15]||(t[15]=e("i",{class:"fa fa-envelope mr-2"},null,-1)),m(" "+o(s.incharge_contact_email),1)]),e("div",Ce,[t[16]||(t[16]=e("i",{class:"fa fa-phone lg:mr-2 mr-1.5"},null,-1)),m(" "+o(s.incharge_contact_number),1)])]),e("div",null,[e("div",Le,[e("ul",Ie,[(n(!0),a(y,null,_(s.type_of_access,(v,T)=>(n(),a("li",{key:T,class:"px-2 lg:py-0.5 py-2 lg:border-transparent border text-[10px] tracking-tighter w-full whitespace-nowrap lg:text-left text-center"},o(v),1))),128))])]),e("div",Ve,[t[17]||(t[17]=e("i",{class:"fa fa-calendar mr-2"},null,-1)),m(" "+o(s.schedule),1)])]),e("div",Pe,[e("div",Se,[e("div",Ne,[t[18]||(t[18]=e("label",{for:"remarks",class:"font-bold text-gray-800 mr-2.5 text-left w-fit ml-0 block"},"Remarks:",-1)),e("div",Ue,[e("p",$e,o(s.remarks),1)])]),s.purpose?(n(),a("div",Me,[t[19]||(t[19]=e("label",{for:"purpose",class:"font-bold text-gray-800 mr-3 text-left w-fit ml-0 block"},"Purpose:",-1)),e("div",Be,[e("p",Te,o(s.purpose),1)])])):x("",!0)])]),e("div",{class:d(["lg:w-3/12 min-h-[60px] flex items-center",s.attendees==="Group"?"cursor-pointer hover:bg-gray-300 hover:text-black bg-gray-200":"bg-gray-50 h-16 flex items-center"])},[e("div",Ae,[e("a",{href:s.approved_activities_link,target:"_blank",class:d(["font-bold w-full block text-green-800",s.approved_activities_link==="-"?"hidden":""])},t[20]||(t[20]=[e("i",{class:"fa fa-file-pdf text-lg"},null,-1)]),10,De),e("a",{href:s.approved_gso_docs_link,target:"_blank",class:d(["font-bold w-full block text-green-800",s.approved_gso_docs_link==="-"?"hidden":""])},t[21]||(t[21]=[e("i",{class:"fa fa-soccer-ball text-lg"},null,-1)]),10,Re)]),e("div",Fe,[e("div",{class:"font-bold uppercase lg:w-full w-fit mx-auto text-center",onClick:v=>W(s.id)},[m(o(s.attendees)+" ",1),e("i",{class:d(["fa fa-caret-down text-lg ml-2 -mt-[1px] h-[0px]",s.attendees==="Group"?"text-green-800":"hidden"])},null,2)],8,Qe),e("div",Ee,[t[22]||(t[22]=m(" TID: ")),e("span",Ge,o(s.tracking_id),1)])])],2)])])]))),128))])):x("",!0)])),g(M).length>0?(n(),a("div",qe,[e("button",{disabled:c.value===1,onClick:t[2]||(t[2]=s=>c.value--),class:"px-4 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Previous ",8,ze),(n(!0),a(y,null,_(g(j),s=>(n(),a("button",{key:s,onClick:w=>c.value=s,class:d(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":c.value===s,"bg-gray-200":c.value!==s}])},o(s),11,Oe))),128)),e("button",{disabled:c.value===g(R),onClick:t[3]||(t[3]=s=>c.value++),class:"px-4 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,He)])):B.value?x("",!0):(n(),a("div",Je," No items found! "))],2),p.value?(n(),a("div",Ke,[e("div",We,[h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>Q(f)?f.value=s:f=s),placeholder:"Search ...",onInput:Y,class:"pt-[3px] pb-[2px] px-2 border rounded-tl-md rounded-bl-md"},null,544),[[A,g(f)]]),t[23]||(t[23]=e("label",{class:"bg-green-700 text-white py-[5px] px-2 border-transparent rounded-tr-md rounded-br-md"},[e("i",{class:"fa fa-search","aria-hidden":"true"})],-1))]),e("div",Xe,[e("div",{class:"flex items-center"},[t[25]||(t[25]=e("div",{class:"text-center border-b py-2 font-bold w-full"}," List of Names ",-1)),e("div",{onClick:Z,class:"bg-gray-600 hover:bg-white hover:text-gray-600 border-b border-l text-white px-2 py-[8px]"},t[24]||(t[24]=[e("i",{class:"fa fa-caret-left","aria-hidden":"true"},null,-1)]))]),e("div",Ye,[t[30]||(t[30]=E('<div class="lg:flex items-center hidden text-left lg:px-4 px-2 py-1 font-bold bg-gray-700 mb-0.5 border-b-2 border-gray-600 text-white"><div class="w-full">Full Name</div><div class="w-full">Email</div><div class="w-full">Tracking Id</div><div class="w-full">Type of Access</div><div class="w-full">Schedule</div><div class="w-full">Check-In</div></div>',1)),e("div",{class:d(g(f).value!==""?"hidden":"")},[e("div",{class:d(["lg:flex items-center text-left lg:px-4 px-2 pt-2 mb-0.5 border-b-2 border-gray-600 lg:border-t-0 border-t-2",l.value.checkin==="login"?"bg-green-800 text-white":"text-black bg-gray-100"])},[e("div",Ze,o(l.value.incharge_firstname)+" "+o(l.value.incharge_lastname),1),e("div",je,o(l.value.incharge_contact_email),1),e("div",et,o(l.value.tracking_id),1),e("div",tt,[(n(!0),a(y,null,_(l.value.type_of_access,(s,w)=>(n(),a("div",{key:w},o(s),1))),128))]),e("div",st,o(l.value.schedule),1),e("div",lt,[e("label",{class:d(["flex items-center text-center h-7 cursor-pointer text-xs bg-green-900 text-white",l.value.checkin==="login"?"hidden":"w-full"])},[h(e("input",{type:"radio",value:"login","onUpdate:modelValue":t[5]||(t[5]=s=>l.value.checkin=s),onChange:t[6]||(t[6]=s=>L(l.value.id)),class:"absolute opacity-0 cursor-pointer h-0 w-0"},null,544),[[P,l.value.checkin]]),t[26]||(t[26]=e("span",{class:"w-fit mx-auto whitespace-nowrap px-3"}," Log-In",-1))],2),e("label",{class:d(["flex items-center text-center h-7 cursor-pointer text-xs bg-gray-300 text-black",l.value.checkin==="logout"?"hidden":"w-full"])},[h(e("input",{type:"radio",value:"logout","onUpdate:modelValue":t[7]||(t[7]=s=>l.value.checkin=s),onChange:t[8]||(t[8]=s=>L(l.value.id)),class:"absolute opacity-0 cursor-pointer h-0 w-0"},null,544),[[P,l.value.checkin]]),t[27]||(t[27]=e("span",{class:"w-fit mx-auto whitespace-nowrap px-3"}," Log-Out",-1))],2)])],2)],2),(n(!0),a(y,null,_(g(I),(s,w)=>(n(),a("div",{key:w,class:d(["lg:flex items-center text-left lg:px-4 px-2 pt-2 border-b-2 border-gray-300",s.checkin==="login"?"bg-green-800 text-white":"text-black bg-gray-100"])},[e("div",at,o(s.firstname)+" "+o(s.lastname),1),e("div",ot,o(s.email),1),e("div",nt,o(l.value.tracking_id),1),e("div",rt,[(n(!0),a(y,null,_(l.value.type_of_access,(v,T)=>(n(),a("div",{key:T},o(v),1))),128))]),e("div",it,o(l.value.schedule),1),e("div",dt,[e("label",{class:d(["flex items-center text-center w-full h-7 cursor-pointer text-xs bg-green-900 text-white hover:bg-white hover:text-green-900",s.checkin==="login"?"hidden":"w-full"])},[h(e("input",{type:"radio",value:"login","onUpdate:modelValue":v=>s.checkin=v,class:"hidden cursor-pointer h-0 w-0",onChange:t[9]||(t[9]=v=>L(l.value.id))},null,40,ut),[[P,s.checkin]]),t[28]||(t[28]=e("span",{class:"w-fit mx-auto"}," Log-In",-1))],2),e("label",{class:d(["flex items-center text-center w-full h-7 cursor-pointer text-xs bg-gray-300 text-black",s.checkin==="logout"?"hidden":"w-full"])},[h(e("input",{type:"radio",value:"logout","onUpdate:modelValue":v=>s.checkin=v,class:"hidden cursor-pointer h-0 w-0",onChange:t[10]||(t[10]=v=>L(l.value.id))},null,40,ct),[[P,s.checkin]]),t[29]||(t[29]=e("span",{class:"w-fit mx-auto"}," Log-Out",-1))],2)])],2))),128))])])])):x("",!0)])],512),[[ae,g(z)]])])])):x("",!0)])]),e("div",vt,[oe(u)])])}}};export{mt as default};
