import{_ as J}from"./CjA5bDfw.js";import{e as K,u as Q,r as d,g as W,y,c as o,a as e,k as p,h as x,m as X,v as Y,f as m,d as g,n as r,i as D,F as h,l as b,t as a,N as k,b as Z,o as i}from"./45F-pQWD.js";import{_ as j}from"./5JjjnmY2.js";import"./C5S46NFB.js";const ee={class:"lg:flex min-h-screen"},te={class:"w-full"},se={key:0,class:"w-fit mx-auto flex items-center"},le={key:1},ae={class:"w-full lg:p-5 px-2 py-2"},oe={class:"relative"},ie={key:0,class:"text-center"},ne={key:1},re={key:0,class:"gap-4"},de={class:"w-full"},ce={class:"lg:flex items-center w-full"},ue={class:"lg:w-3/12 w-full lg:border-r block text-left lg:px-2 px-0.5"},ge={class:"w-full px-2 py-0.5"},ve={class:""},fe={class:""},pe={class:"w-full px-2 py-0.5"},xe={class:"px-2 py-0.5"},me={class:"lg:w-[100px] w-full flex items-center justify-center uppercase"},he={class:"gap-x-0.5 w-full flex"},be={class:"lg:w-[270px] w-full font-bold py-1 px-2 flex items-center lg:justify-normal justify-center"},we={class:"lg:w-4/12 w-full flex items-center py-1"},_e={class:"w-full"},ye={class:"lg:flex items-center w-11/12 mx-auto mb-1"},ke={class:"flex w-full"},Ce={class:"border-b w-full mx-auto py-0.5 px-1 text-left"},Ie={key:0,class:"lg:flex items-center w-11/12 mx-auto"},Le={class:"flex w-full"},Pe={class:"border-b w-full mx-auto py-0.5 px-1 text-left"},Ve={class:"flex gap-x-5 w-fit mx-auto pt-1"},$e=["href"],Ne=["href"],Se={class:"w-full px-10 lg:-mt-1"},Ue=["onClick"],Me={class:"pb-1 text-[10px] font-light whitespace-nowrap text-center"},Te={class:""},Be={key:2,class:"flex justify-center my-4"},De=["disabled"],He=["onClick"],Oe=["disabled"],Fe={key:3,class:"text-center my-5"},Re={key:0,class:"w-full z-10 bg-white h-full"},Ee={class:"border-4 border-gray-100 shadow-lg"},Ge={class:"flex items-center"},qe={class:"lg:gap-x-3 lg:text-sm text-xs"},ze={class:"w-full"},Ae={class:"w-full"},Je={class:"w-full"},Ke={class:"w-full"},Qe={class:"w-full"},We={class:"w-full lg:text-center my-2 border-2 border-green-800 shadow-2xl flex"},Xe={class:"w-full"},Ye={class:"w-full"},Ze={class:"w-full"},je={class:"w-full"},et={class:"flex items-center w-full lg:text-center my-2 border-2 border-green-800 shadow-2xl"},tt=["onUpdate:modelValue"],st=["onUpdate:modelValue"],lt={class:"static bottom-0 w-full"},S=5,C=3,dt={__name:"index",setup(at){K();const H=Q(),I=d(H.mainDevServer),U=d(0),O=d("13579"),L=d("");let F=d(!0);d(!1),d(!1);const l=d(null),v=d(!1);W(async()=>{await R()});const R=async()=>{try{U.value=await $fetch(I.value+"/api/campus-pass/list").catch(n=>n.data)||[]}catch(n){console.error("Error fetching list items:",n)}finally{$.value=!1}},E=()=>{window.print()},P=d(!1),G=()=>{O.value===L.value&&(P.value=!0)},q=async n=>{l.value=await $fetch(I.value+"/api/campus-pass/"+n+"/").catch(t=>t.data),console.log(n),console.log(l.value),v.value=!v.value},_=async n=>{console.log(n),z(n)},z=async n=>{await $fetch(I.value+"/api/campus-pass/"+n+"/edit/",{method:"PUT",body:l.value}).then(async t=>{console.log("response",t)})};let M;const V=y(()=>(M=U.value,j.orderBy(M,"incharge_lastname","asc"))),$=d(!0),u=d(1),T=y(()=>Math.ceil(V.value.length/S)),B=y(()=>{const n=(u.value-1)*S,t=n+S;return V.value.slice(n,t)}),A=y(()=>{const n=[];let t=Math.max(1,u.value-Math.floor(C/2)),w=Math.min(T.value,t+C-1);w-t+1<C&&(t=Math.max(1,w-C+1));for(let s=t;s<=w;s++)n.push(s);return n});return(n,t)=>{const w=J;return i(),o("div",null,[e("div",ee,[e("div",te,[t[28]||(t[28]=e("div",{class:"bg-green-800"},[e("div",{class:"flex mx-auto justify-between py-2 px-3.5"},[e("a",{href:"/",class:"w-fit mx-auto"},[e("img",{src:"https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/lsu-w-h.png",class:"lg:h-9 h-8"})])])],-1)),P.value?p("",!0):(i(),o("div",se,[x(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>L.value=s),placeholder:"Pin Code",class:"text-center my-3 rounded-bl-md rounded-tl-md px-2 text-lg border shadow-lg border-green-700 w-[100px]",type:"password",maxlength:"5"},null,512),[[X,L.value]]),e("div",{onClick:G,class:"bg-green-800 font-bold text-white text-sm h-fit cursor-pointer px-3 py-[4px] rounded-br-md rounded-tr-md hover:bg-white hover:text-green-800 border border-green-800"}," Go ")])),P.value?(i(),o("div",le,[e("div",ae,[x(e("div",null,[e("div",{class:"cursor-pointer w-full flex shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase",onClick:E},t[10]||(t[10]=[e("div",{class:"w-fit mx-auto flex items-center"},[e("span",{class:"w-fit mx-auto block rounded-md text-green-800 px-4 font-bold"},[e("i",{class:"fa fa-print"})]),g(" All Request Lists ")],-1)])),e("div",oe,[e("div",{class:r(["appointment-lists mx-auto text-xs",v.value?"hidden":""])},[$.value?(i(),o("div",ie,t[11]||(t[11]=[D('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(i(),o("div",ne,[m(B).length>0?(i(),o("div",re,[(i(!0),o(h,null,b(m(B),(s,f)=>(i(),o("div",{class:"justify-evenly text-center items-center h-auto border border-gray-200 shadow mb-3",key:f},[e("div",de,[e("div",ce,[e("div",ue,[e("div",ge,[e("span",ve,[t[12]||(t[12]=e("i",{class:"fa fa-user mr-2"},null,-1)),g(" "+a(s.incharge_lastname)+", ",1)]),e("span",fe,a(s.incharge_firstname),1),e("span",{class:r([s.incharge_middlename==="-"?"hidden":"","mx-1"])},a(s.incharge_middlename),3)]),e("div",pe,[t[13]||(t[13]=e("i",{class:"fa fa-envelope mr-2"},null,-1)),g(" "+a(s.incharge_contact_email),1)]),e("div",xe,[t[14]||(t[14]=e("i",{class:"fa fa-phone lg:mr-2 mr-1.5"},null,-1)),g(" "+a(s.incharge_contact_number),1)])]),e("div",null,[e("div",me,[e("ul",he,[(i(!0),o(h,null,b(s.type_of_access,(c,N)=>(i(),o("li",{key:N,class:"px-2 lg:py-0.5 py-2 lg:border-transparent border text-[10px] tracking-tighter w-full whitespace-nowrap lg:text-left text-center"},a(c),1))),128))])]),e("div",be,[t[15]||(t[15]=e("i",{class:"fa fa-calendar mr-2"},null,-1)),g(" "+a(s.schedule),1)])]),e("div",we,[e("div",_e,[e("div",ye,[t[16]||(t[16]=e("label",{for:"remarks",class:"font-bold text-gray-800 mr-2.5 text-left w-fit ml-0 block"},"Remarks:",-1)),e("div",ke,[e("p",Ce,a(s.remarks),1)])]),s.purpose?(i(),o("div",Ie,[t[17]||(t[17]=e("label",{for:"purpose",class:"font-bold text-gray-800 mr-3 text-left w-fit ml-0 block"},"Purpose:",-1)),e("div",Le,[e("p",Pe,a(s.purpose),1)])])):p("",!0)])]),e("div",{class:r(["lg:w-3/12",s.attendees==="Group"?"cursor-pointer hover:bg-gray-300 hover:text-black bg-gray-200":"bg-gray-50 h-16 flex items-center"])},[e("div",Ve,[e("a",{href:s.approved_activities_link,target:"_blank",class:r(["font-bold w-full block text-green-800",s.approved_activities_link==="-"?"hidden":""])},t[18]||(t[18]=[e("i",{class:"fa fa-file-pdf text-lg"},null,-1)]),10,$e),e("a",{href:s.approved_gso_docs_link,target:"_blank",class:r(["font-bold w-full block text-green-800",s.approved_gso_docs_link==="-"?"hidden":""])},t[19]||(t[19]=[e("i",{class:"fa fa-soccer-ball text-lg"},null,-1)]),10,Ne)]),e("div",Se,[e("div",{class:"font-bold uppercase lg:w-full w-fit mx-auto text-center",onClick:c=>q(s.id)},[g(a(s.attendees)+" ",1),e("i",{class:r(["fa fa-caret-down text-lg ml-2 -mt-[1px] h-[0px]",s.attendees==="Group"?"text-green-800":"hidden"])},null,2)],8,Ue),e("div",Me,[t[20]||(t[20]=g(" TID: ")),e("span",Te,a(s.tracking_id),1)])])],2)])])]))),128))])):p("",!0)])),m(V).length>0?(i(),o("div",Be,[e("button",{disabled:u.value===1,onClick:t[1]||(t[1]=s=>u.value--),class:"px-4 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Previous ",8,De),(i(!0),o(h,null,b(m(A),s=>(i(),o("button",{key:s,onClick:f=>u.value=s,class:r(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":u.value===s,"bg-gray-200":u.value!==s}])},a(s),11,He))),128)),e("button",{disabled:u.value===m(T),onClick:t[2]||(t[2]=s=>u.value++),class:"px-4 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,Oe)])):$.value?p("",!0):(i(),o("div",Fe," No items found! "))],2),v.value?(i(),o("div",Re,[e("div",Ee,[e("div",Ge,[t[22]||(t[22]=e("div",{class:"text-center border-b py-2 font-bold w-full"}," List of Names ",-1)),e("div",{onClick:t[3]||(t[3]=s=>v.value=!v.value),class:"bg-gray-600 hover:bg-white hover:text-gray-600 border-b border-l text-white px-2 py-[8px]"},t[21]||(t[21]=[e("i",{class:"fa fa-caret-left","aria-hidden":"true"},null,-1)]))]),e("div",qe,[t[27]||(t[27]=D('<div class="lg:flex items-center hidden text-left lg:px-4 px-2 py-1 font-bold bg-gray-700 mb-0.5 border-b-2 border-gray-600 text-white"><div class="w-full">Full Name</div><div class="w-full">Email</div><div class="w-full">Tracking Id</div><div class="w-full">Type of Access</div><div class="w-full">Schedule</div><div class="w-full">Check-In</div></div>',1)),e("div",{class:r(["lg:flex items-center text-left lg:px-4 px-2 pt-2 mb-0.5 border-b-2 border-gray-600 lg:border-t-0 border-t-2",l.value.checkin==="login"?"bg-green-800 text-white":"text-black bg-gray-100"])},[e("div",ze,a(l.value.incharge_firstname)+" "+a(l.value.incharge_lastname),1),e("div",Ae,a(l.value.incharge_contact_email),1),e("div",Je,a(l.value.tracking_id),1),e("div",Ke,[(i(!0),o(h,null,b(l.value.type_of_access,(s,f)=>(i(),o("div",{key:f},a(s),1))),128))]),e("div",Qe,a(l.value.schedule),1),e("div",We,[e("label",{class:r(["flex items-center text-center h-7 cursor-pointer text-xs bg-green-900 text-white",l.value.checkin==="login"?"hidden":"w-full"]),for:"loginHead"},[x(e("input",{id:"loginHead",name:"loginHead",type:"radio",value:"login","onUpdate:modelValue":t[4]||(t[4]=s=>l.value.checkin=s),onChange:t[5]||(t[5]=s=>_(l.value.id)),class:"absolute opacity-0 cursor-pointer h-0 w-0"},null,544),[[k,l.value.checkin]]),t[23]||(t[23]=e("span",{class:"w-fit mx-auto whitespace-nowrap px-3"}," Log-In",-1))],2),e("label",{class:r(["flex items-center text-center h-7 cursor-pointer text-xs bg-gray-300 text-black",l.value.checkin==="logout"?"hidden":"w-full"]),for:"logoutHead"},[x(e("input",{id:"logoutHead",name:"logoutHead",type:"radio",value:"logout","onUpdate:modelValue":t[6]||(t[6]=s=>l.value.checkin=s),onChange:t[7]||(t[7]=s=>_(l.value.id)),class:"absolute opacity-0 cursor-pointer h-0 w-0"},null,544),[[k,l.value.checkin]]),t[24]||(t[24]=e("span",{class:"w-fit mx-auto whitespace-nowrap px-3"}," Log-Out",-1))],2)])],2),(i(!0),o(h,null,b(l.value.name_list,(s,f)=>(i(),o("div",{key:f,class:r(["lg:flex items-center text-left lg:px-4 px-2 pt-2 border-b-2 border-gray-300",s.checkin==="login"?"bg-green-800 text-white":"text-black bg-gray-100"])},[e("div",Xe,a(s.firstname)+" "+a(s.lastname),1),e("div",Ye,a(s.email),1),e("div",Ze,a(l.value.tracking_id),1),(i(!0),o(h,null,b(l.value.type_of_access,(c,N)=>(i(),o("div",{class:"w-full",key:N},a(c),1))),128)),e("div",je,a(l.value.schedule),1),e("div",et,[e("label",{class:r(["flex items-center text-center w-full h-7 cursor-pointer text-xs bg-green-900 text-white",s.checkin==="login"?"hidden":"w-full"]),for:"logIn"},[x(e("input",{id:"logIn",name:"logIn",type:"radio",value:"login","onUpdate:modelValue":c=>s.checkin=c,class:"hidden cursor-pointer h-0 w-0",onChange:t[8]||(t[8]=c=>_(l.value.id))},null,40,tt),[[k,s.checkin]]),t[25]||(t[25]=e("span",{class:"w-fit mx-auto"}," Log-In",-1))],2),e("label",{class:r(["flex items-center text-center w-full h-7 cursor-pointer text-xs bg-gray-300 text-black",s.checkin==="logout"?"hidden":"w-full"]),for:"logOut"},[x(e("input",{id:"logOut",name:"logOut",type:"radio",value:"logout","onUpdate:modelValue":c=>s.checkin=c,class:"hidden cursor-pointer h-0 w-0",onChange:t[9]||(t[9]=c=>_(l.value.id))},null,40,st),[[k,s.checkin]]),t[26]||(t[26]=e("span",{class:"w-fit mx-auto"}," Log-Out",-1))],2)])],2))),128))])])])):p("",!0)])],512),[[Y,m(F)]])])])):p("",!0)])]),e("div",lt,[Z(w)])])}}};export{dt as default};
