import{_ as S}from"./Dx6M404x.js";import{m as j,u as A,r,p as L,c as d,a as e,q as p,v as f,n as a,t as B,s as h,x as v,y as E,F as M,z as N,A as R,b as $,o as u}from"./3r6RbeVI.js";import"./C5S46NFB.js";import{_ as z}from"./5JjjnmY2.js";import{_ as I}from"./DlAUqK2U.js";const F={class:"lg:flex min-h-screen"},O={class:"pb-3 lg:w-3/12 bg-gray-100 z-10 w-full lg:block lg:static absolute lg:min-h-auto min-h-[700px] lg:h-auto h-screen"},T={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px]"},V={class:"flex items-center w-full px-2"},q={class:"text-sm"},P={class:"w-full"},U={class:"bg-green-800"},G={class:"flex mx-auto justify-between py-2 px-3.5"},H={class:"w-full lg:p-5 px-2 py-2"},W={class:"relative"},Y={class:"appointment-lists mx-auto text-xs"},J={class:""},K={key:0,class:"lg:border text-xs lg:rounded-none rounded-lg lg:shadow"},Q={class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#ffffff59] w-full h-screen flex items-center"},X={class:"w-fit mx-auto flex items-center shadow-2xl border-2 rounded-lg py-2 bg-white"},Z={class:"flex items-center"},ee={class:"flex gap-10 mr-10"},te={class:"px-5 rounded-lg bg-white shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},se={key:0,class:"italic text-gray-400 text-center p-1 h-screen"},ae={class:"static bottom-0 w-full"},le={__name:"index",setup(oe){const x=j(),o=A(),g=r(o.mainDevServer),i=r(0);let m=r(),b=r(!0),s=r(!1),c=r(!1);const w=r(!1);L(()=>{setTimeout(async()=>{o.user.isAuthenticated&&(o.user.email==="jorenleeluna24@gmail.com"||o.user.email==="jorenlee.luna@lsu.edu.ph")?(i.value=await $fetch(g.value+"/api/drs/list").catch(l=>l.data)||0,x.push("/drs/dashboard"),console.log(i.value)):x.push("/_/unauthorized")},5e3)});const y=l=>{c.value=!c.value,m.value=l},_=async()=>{await $fetch(g.value+"/api/drs/delete/"+m.value,{method:"DELETE",headers:{Authorization:o.user.token,"Content-Type":"application/json"}}).then(async l=>{console.log("response",l),i.value=await $fetch(g.value+"/api/campus-pass/list").catch(t=>t.data)||0,c.value=!c.value})},k=()=>{o.removeToken(),x.push("/_/campus-pass-admin")};return(l,t)=>{const C=S;return u(),d("div",null,[e("div",F,[p(e("div",O,[e("div",T,[e("div",V,[t[4]||(t[4]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",q,B(a(o).user.email),1)]),e("div",{onClick:t[0]||(t[0]=n=>h(s)?s.value=!a(s):s=!a(s)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:v(["fa text-3xl text-white",a(s)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[5]||(t[5]=E('<div class="" data-v-fab51ee1><div class="w-fit mx-auto mt-5 mb-3" data-v-fab51ee1><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto" data-v-fab51ee1></div><div class="text-center" data-v-fab51ee1><h1 class="font-bold text-green-800 text-2xl" data-v-fab51ee1>Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1 lg:tracking-tight font-bold" data-v-fab51ee1><a href="/cits/admin" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 text-left text-black hover:bg-black hover:text-white" data-v-fab51ee1><i class="fa fa-list mr-3" aria-hidden="true" data-v-fab51ee1></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 text-left hover:bg-black hover:text-white" data-v-fab51ee1><i class="fa fa-globe mr-3" aria-hidden="true" data-v-fab51ee1></i> LSU HOME PAGE </a></div></div>',1))],512),[[f,a(s)]]),e("div",P,[e("div",U,[e("div",G,[e("div",{onClick:t[1]||(t[1]=n=>h(s)?s.value=!a(s):s=!a(s)),class:"w-10 px-1.5"},[e("i",{class:v(["fa text-3xl text-white",a(s)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("button",{onClick:k,class:"flex hover:font-bold pt-1"},t[6]||(t[6]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",null,[e("div",H,[p(e("div",null,[t[10]||(t[10]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),e("div",W,[e("div",Y,[e("div",J,[t[9]||(t[9]=e("div",{class:"lg:flex hidden bg-green-800 text-white pb-2 pt-2.5 gap-x-7 px-3"},[e("div",{class:"w-full mx-auto text-center font-bold text-sm"}," Office ")],-1)),i.value.length>0?(u(),d("div",K,[(u(!0),d(M,null,N(a(z).orderBy(i.value,"id","asc"),(n,D)=>(u(),d("div",{class:"lg:flex justify-evenly text-left items-center h-auto px-3 gap-x-7 border-gray-200 lg:py-1 py-3 lg:mb-0 mb-5 lg:border-y border lg:shadow-none shadow-md lg:bg-gray-50 bg-gray-100",key:D}))),128)),p(e("div",Q,[e("div",X,[e("div",Z,[t[7]||(t[7]=e("div",{class:"font-bold pl-5 pr-10"},"Confirm Remarks: ",-1)),e("div",ee,[e("span",{class:"px-3 uppercase py-1 rounded-lg bg-green-900 border hover:border-green-900 hover:bg-white hover:text-green-900 text-white font-bold cursor-pointer",onClick:t[2]||(t[2]=(...n)=>l.btnConfirm&&l.btnConfirm(...n))},"yes"),e("span",{class:"px-3 uppercase py-1 rounded-lg bg-red-700 border hover:border-red-700 hover:bg-white hover:text-green-900 text-white font-bold cursor-pointer",onClick:t[3]||(t[3]=(...n)=>l.btnCloseModal&&l.btnCloseModal(...n))},"no")])])])],512),[[f,w.value]]),p(e("div",te,[t[8]||(t[8]=e("div",{class:"my-6"},"Are you sure you want to Delete?",-1)),e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:_},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:y},"Cancel")])],512),[[f,a(c)]])])):R("",!0)]),i.value.length===0?(u(),d("div",se," Please Wait ... ")):(u(),d("div",{key:1,class:v(["italic text-gray-400 text-center p-1 h-screen",i.value.length>0?"hidden":""])}," No Results Found! ",2))])])],512),[[f,a(b)]])])])])]),e("div",ae,[$(C)])])}}},ce=I(le,[["__scopeId","data-v-fab51ee1"]]);export{ce as default};
