import{_ as ke}from"./DmCljUmX.js";import{m as Se,u as Ve,g as Ce,r as l,q as K,h as Ue,c as d,a as e,i as r,v as De,f as a,b as se,j as n,n as Q,t as g,k as ae,y as Ae,F as B,s as G,l as _,d as le,C as Y,z as oe,o as u,A as Me,p as Te,e as Oe,x as Re}from"./CmSTkie3.js";import{u as ze}from"./BJadreId.js";import{s as Pe}from"./DvXpqoDu.js";import{X as qe}from"./D3kcsQNS.js";/* empty css        */import{h as Ne}from"./C5S46NFB.js";import{_ as F}from"./vUEbHlag.js";import{_ as Ee}from"./DlAUqK2U.js";import"./Cpj98o6Y.js";const c=L=>(Te("data-v-36c9660b"),L=L(),Oe(),L),Fe={class:""},Le={class:"flex"},je={class:"pt-7 pb-24 w-3/12 px-1 bg-gray-100 lg:block hidden"},Ie={class:"w-full min-h-screen"},Be={class:"bg-green-800"},Ge={class:"flex mx-auto justify-between py-2 px-3.5"},Ye={class:"flex items-center text-white gap-5"},He={class:"flex -mt-1"},Xe=c(()=>e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),Je={class:"text-sm"},Ze=c(()=>e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1)),Ke=c(()=>e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)),Qe=[Ze,Ke],We={class:""},$e={class:"w-full p-5"},et={class:"shadow-lg"},tt={class:"w-full mx-auto"},st={class:""},at={class:"lg:grid grid-cols-4 lg:ml-3 ml-8 mt-3"},lt={class:"my-5"},ot=c(()=>e("label",{class:"block mb-2 text-xs font-bold text-gray-900 uppercase"},"Service",-1)),it=Re('<option value="" disabled data-v-36c9660b> Please select the type of service. </option><optgroup label="University Registrar" data-v-36c9660b><option value="CAV" data-v-36c9660b>CAV Application</option><option value="Good Moral" data-v-36c9660b> Certificate of Good Moral Character </option><option value="Honorable" data-v-36c9660b>Honorable Dismissal</option><option value="TOR" data-v-36c9660b>Transcipt of Records Application</option><option value="OTHERS" data-v-36c9660b>Other Certificates Application</option></optgroup><optgroup label="SAO Office" data-v-36c9660b><option value="Good Moral SAO" data-v-36c9660b> Certificate of Good Moral Character </option></optgroup>',3),nt=[it],dt={class:"pb-3"},rt=c(()=>e("h1",{class:"text-center mb-3 font-bold lasalle-green-text"}," Calendar ",-1)),ut={class:"w-fit mx-auto"},ct={class:"pb-3"},mt=c(()=>e("h1",{class:"text-center mt-5 mb-3 font-bold lasalle-green-text lg:whitespace-nowrap"}," Available Time ",-1)),pt={class:"w-full"},vt={class:""},_t={class:""},ht={class:"h-60 w-10/12 mx-auto px-5 py-2 mt-1 rounded-md"},ft={class:""},gt=["value"],bt=["value"],xt={key:2,class:"font-bold"},wt={class:"lg:flex mx-auto gap-20 px-8 w-full pb-3 text-xs"},yt={class:"mx-auto gap-20 w-full"},kt={class:"w-full"},St={class:"mb-5"},Vt=c(()=>e("h1",{class:"mb-3 font-bold lasalle-green-text"}," Primary Information ",-1)),Ct={class:"lg:grid lg:grid-cols-2 grid-cols-1 gap-3"},Ut={class:"mt-3"},Dt=c(()=>e("h1",{class:"lg:mb-3 mb-2 lg:mt-0 mt-3 font-bold lasalle-green-text"}," Contact Address ",-1)),At={class:"gap-5"},Mt={class:"lg:grid lg:grid-cols-2 grid-cols-1 gap-3"},Tt={class:"w-full mt-3"},Ot={class:"mt-3"},Rt={class:"flex w-full mb-3"},zt={class:"flex h-fit"},Pt={class:"w-fit lg:mx-0 mx-auto"},qt={class:"w-56 shadow"},Nt=["src"],Et=["src"],Ft={class:"mt-3"},Lt={class:"mt-3"},jt={class:"border-gray-200 pt-2"},It={class:"flex text-xs mb-2"},Bt=c(()=>e("label",{class:"pr-2"}," Status",-1)),Gt={class:"flex font-bold text-green-800 text-xs"},Yt={class:"lg:flex"},Ht={class:"flex items-center"},Xt=c(()=>e("label",{class:""},"Checking",-1)),Jt={class:"flex items-center"},Zt=c(()=>e("label",{class:""},"Confirmed",-1)),Kt={class:"flex items-center"},Qt=c(()=>e("label",{class:""},"Payment",-1)),Wt={class:"flex items-center"},$t=c(()=>e("label",{class:""},"Delivered",-1)),es={key:0,class:"mb-6 py-4 px-6 bg-rose-400 text-white rounded-xl"},ts=c(()=>e("div",{class:"lg:w-full mx-auto justify-between flex"},[e("button",{class:"lasalle-green text-xs hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg mt-6 uppercase"}," Update ")],-1)),ss={class:"w-10/12 mx-auto"},as=c(()=>e("button",{class:"lasalle-green text-xs hover:bg-green-700 text-white py-1.5 px-1.5 whitespace-nowrap rounded-lg uppercase ml-5 font-bold"}," Add Track Status ",-1)),ls={key:0,class:"mb-6 py-4 px-6 bg-rose-400 text-white rounded-xl"},os={class:"mx-auto w-fit mb-10 mt-3"},is={class:"pt-10 ml-4"},ns=c(()=>e("div",{class:"absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"},null,-1)),ds={class:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},rs={class:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},us={class:"pb-2 text-base font-normal w-10/12 text-gray-500 dark:text-gray-400"},cs=c(()=>e("div",{class:"bg-green-900 p-3"},[e("h1",{class:"text-center text-white text-xs"},[e("span",{class:"font-bold"},"Copyright Â© 2023 "),e("span",null,"La Salle University - Ozamiz")])],-1)),ms={__name:"[id]",async setup(L){let m,y;const H=Se(),V=Ve(),v=Ce(),ie=l(Pe.timeSelection),k=l(v.mainServer),{data:i}=([m,y]=K(()=>ze(k.value+"/api/appointments/"+H.params.id+"/","$qIDc8FEmww")),m=await m,y(),m),ne=([m,y]=K(()=>$fetch(k.value+"/api/appointments/tracking/list/").catch(o=>o.data)),m=await m,y(),m),j=([m,y]=K(()=>$fetch(k.value+"/api/schedules/list/").catch(o=>o.data)),m=await m,y(),m);let C=l(i.value.service),b=l(i.value.referencecode),h=l(i.value.date),I=l(i.value.time),x=l(i.value.time),U=l(i.value.firstname),D=l(i.value.lastname),A=l(i.value.email),M=l(i.value.contactnumber),T=l(i.value.address),O=l(i.value.city),R=l(i.value.zipcode),z=l(i.value.notes);l("");const de=l("");l("");let X=l(i.value.banner_image),P=l(i.value.successful_request),q=l(i.value.appointment_confirm),N=l(i.value.payment),E=l(i.value.request_delivered),re=l(new Date().toDateString()),ue=l("Registrars Admin"),ce=l(v.user.email),me=l("https://upload.wikimedia.org/wikipedia/en/b/b0/LSU-Ozamiz_Seal.png"),p=l([]),J=l();l();let f=l(),W=l(new Date().toDateString()),$=l(new Date().toLocaleTimeString()),S=l(),ee=l([]),w=l(!0);const pe=l(v.user.registrarEmail),ve=l(v.user.developerEmail),_e=l(v.user.testEmail);Ue(()=>{v.user.isAuthenticated&&(v.user.email===pe.value||v.user.email===ve.value||v.user.email===_e.value)?(he(),V.push("/_/panels/registrar/appointment/edit/"+H.params.id),j.filter(function(o){o.date===i.value.date&&(J.value=o.id,f.value=o.time,f.value.push(I.value))})):V.push("/_/unauthorized")});let he=()=>{for(let o=0;o<j.length;o++)ee.value.push(j[o].date)};const fe=()=>{V.push("/_/reg-admin"),v.removeToken()},ge=o=>{x.value=I.value,h.value=Ne(o).format("MM-DD-YYYY"),j.filter(function(s){s.date===h.value&&(J.value=s.id,f.value=s.time,f.value.push(I.value))})},be=async()=>{f.value.length>1&&(F.pull(f.value,x.value),await $fetch(k.value+"/api/schedules/"+J.value+"/edit/",{method:"PUT",body:{date:h.value,time:f.value}}).then(o=>{}).catch(o=>{if(o.response)for(const s in o.response._data)p.value.push(`${s}: ${o.response._data[s]}`);else o.message&&p.value.push("Something went wrong. Please try again")}))},xe=async()=>{p.value=[],b.value==""&&W.value==""&&$.value==""&&S.value==""&&p.value.push("Please enter all Fields."),p.value.length==0&&await $fetch(k.value+"/api/appointments/tracking/create/",{method:"POST",headers:{"Content-Type":"application/json"},body:{referencecode:b.value,date:W.value,time:$.value,description:S.value}}).then(o=>{V.go()}).catch(o=>{if(o.response)for(const s in o.response._data)p.value.push(`${s}: ${o.response._data[s]}`);else o.message&&p.value.push("Something went wrong. Please try again")})},we=async()=>{p.value=[],be(),await $fetch(k.value+"/api/appointments/"+H.params.id+"/edit/",{method:"PUT",body:{service:C.value,referencecode:b.value,date:h.value,time:x.value,firstname:U.value,lastname:D.value,email:A.value,contactnumber:M.value,address:T.value,city:O.value,zipcode:R.value,notes:z.value,banner_image:X.value,successful_request:P.value,appointment_confirm:q.value,payment:N.value,request_delivered:E.value,updated_at:re.value,created_by_name:ue.value,created_by_email:ce.value}}).then(o=>{V.push({path:"/_/panels/registrar/appointment"})}).catch(o=>{})};return(o,s)=>{const ye=ke;return u(),d("div",Fe,[e("div",Le,[r(e("div",je,[se(ye)],512),[[De,a(w)]]),e("div",Ie,[e("div",Be,[e("div",Ge,[e("div",Ye,[e("div",{onClick:s[0]||(s[0]=t=>n(w)?w.value=!a(w):w=!a(w)),class:"w-10 px-1.5"},[e("i",{class:Q(["fa text-3xl text-white",a(w)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",He,[Xe,e("h1",Je,g(a(v).user.email),1)])]),e("button",{onClick:fe,class:"flex hover:font-bold pt-1"},Qe)])]),e("div",We,[e("div",$e,[e("form",{onSubmit:ae(we,["prevent"])},[e("div",et,[e("div",tt,[e("div",st,[e("div",at,[e("div",lt,[ot,r(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>n(C)?C.value=t:C=t),id:"service",name:"service",class:"shadow-md p-2 rounded-sm mb-2 w-full"},nt,512),[[Ae,a(C)]])]),e("div",dt,[rt,e("div",ut,[se(a(qe),{modelValue:a(h),"onUpdate:modelValue":[s[2]||(s[2]=t=>n(h)?h.value=t:h=t),s[3]||(s[3]=t=>ge(a(h)))],inline:"","enable-time-picker":!1,id:"date",name:"date","auto-apply":"",highlight:a(ee),"year-range":[2023,2024],"disabled-week-days":[6,7,0],"week-start":"0","hide-offset-dates":"","min-date":o.minDate},null,8,["modelValue","highlight","min-date"])])]),e("div",ct,[mt,e("div",pt,[e("div",vt,[e("div",_t,[e("div",ht,[e("ul",ft,[(u(!0),d(B,null,G(a(ie)[0].time,(t,Z)=>(u(),d("li",{class:"mb-3 lg:flex justify-center font-bold",key:Z},[a(F).includes(a(f),t)?r((u(),d("input",{key:0,id:"time",type:"radio",name:"time",value:t,class:"mr-2 mt-0.5","onUpdate:modelValue":s[4]||(s[4]=te=>n(x)?x.value=te:x=te)},null,8,gt)),[[Me,a(x)]]):(u(),d("input",{key:1,id:"time",type:"checkbox",name:"time",value:t,class:"mr-2 mt-0.5",disabled:"",checked:""},null,8,bt)),a(F).includes(a(I),t)?(u(),d("label",xt,g(t),1)):(u(),d("label",{key:3,class:Q(a(F).includes(a(f),t)?"text-green-500":"text-red-500")},g(t),3))]))),128))])])])])])])])]),e("div",wt,[e("div",yt,[e("div",kt,[e("div",St,[e("div",null,[Vt,e("div",Ct,[r(e("input",{id:"firstname",name:"firstname",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"First Name","onUpdate:modelValue":s[5]||(s[5]=t=>n(U)?U.value=t:U=t)},null,512),[[_,a(U)]]),r(e("input",{id:"lastname",name:"lastname",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Last Name","onUpdate:modelValue":s[6]||(s[6]=t=>n(D)?D.value=t:D=t)},null,512),[[_,a(D)]]),r(e("input",{id:"email",name:"email",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Email","onUpdate:modelValue":s[7]||(s[7]=t=>n(A)?A.value=t:A=t)},null,512),[[_,a(A)]]),r(e("input",{id:"contactnumber",name:"contactnumber",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Contact Number","onUpdate:modelValue":s[8]||(s[8]=t=>n(M)?M.value=t:M=t)},null,512),[[_,a(M)]])])]),e("div",Ut,[Dt,e("div",At,[r(e("input",{id:"address",name:"address",class:"shadow-md p-2 rounded-sm mb-3 w-full border",placeholder:"Address","onUpdate:modelValue":s[9]||(s[9]=t=>n(T)?T.value=t:T=t)},null,512),[[_,a(T)]]),e("div",Mt,[r(e("input",{id:"city",name:"city",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"City","onUpdate:modelValue":s[10]||(s[10]=t=>n(O)?O.value=t:O=t)},null,512),[[_,a(O)]]),r(e("input",{id:"zipcode",name:"zipcode",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Zip Code","onUpdate:modelValue":s[11]||(s[11]=t=>n(R)?R.value=t:R=t)},null,512),[[_,a(R)]])])])])]),e("div",Tt,[r(e("input",{name:"notes",placeholder:"Notes",class:"shadow-md border rounded-sm p-2 w-full","onUpdate:modelValue":s[12]||(s[12]=t=>n(z)?z.value=t:z=t)},null,512),[[_,a(z)]])]),e("div",Ot,[e("div",Rt,[e("div",zt,[e("input",{type:"file",onChange:s[13]||(s[13]=(...t)=>o.uploadedFile&&o.uploadedFile(...t)),accept:"image/*"},null,32)])]),e("div",Pt,[e("div",qt,[a(de)===""?(u(),d("img",{key:0,class:"lg:w-full h-56 object-contain",src:a(me)},null,8,Nt)):(u(),d("img",{key:1,class:"lg:w-full h-56 object-contain",src:a(X)},null,8,Et)),le(" "+g(a(X)),1)])])]),e("div",Ft,[r(e("input",{id:"referencecode",name:"referencecode",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Reference Code","onUpdate:modelValue":s[14]||(s[14]=t=>n(b)?b.value=t:b=t),disabled:""},null,512),[[_,a(b)]])])]),e("div",Lt,[e("ul",jt,[e("li",It,[Bt,e("h1",Gt,[le(" : "),e("ul",Yt,[e("li",Ht,[r(e("input",{type:"checkbox",id:"checking",name:"checking",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":s[15]||(s[15]=t=>n(P)?P.value=t:P=t)},null,512),[[Y,a(P)]]),Xt]),e("li",Jt,[r(e("input",{type:"checkbox",id:"appointment_confirm",name:"appointment_confirm",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":s[16]||(s[16]=t=>n(q)?q.value=t:q=t)},null,512),[[Y,a(q)]]),Zt]),e("li",Kt,[r(e("input",{type:"checkbox",id:"payment",name:"payment",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":s[17]||(s[17]=t=>n(N)?N.value=t:N=t)},null,512),[[Y,a(N)]]),Qt]),e("li",Wt,[r(e("input",{type:"checkbox",id:"request_delivered",name:"request_delivered",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":s[18]||(s[18]=t=>n(E)?E.value=t:E=t)},null,512),[[Y,a(E)]]),$t])])])])])]),a(p).length?(u(),d("div",es,[(u(!0),d(B,null,G(a(p),t=>(u(),d("p",{key:t},g(t),1))),128))])):oe("",!0),ts])])])])],32)]),e("div",ss,[e("form",{onSubmit:ae(xe,["prevent"]),class:"lg:flex items-center"},[r(e("input",{id:"tracking_description",name:"tracking_description",class:"shadow-md p-2 rounded-sm border text-xs w-full",placeholder:"Remark Status","onUpdate:modelValue":s[19]||(s[19]=t=>n(S)?S.value=t:S=t)},null,512),[[_,a(S)]]),as,a(p).length?(u(),d("div",ls,[(u(!0),d(B,null,G(a(p),t=>(u(),d("p",{key:t},g(t),1))),128))])):oe("",!0)],32)]),e("div",os,[(u(!0),d(B,null,G(a(F).orderBy(a(ne),"date","time","asc"),(t,Z)=>(u(),d("ol",{class:Q(["relative border-l border-gray-200 dark:border-gray-700",t.referencecode===a(b)?"block":"hidden"]),key:Z},[e("li",is,[ns,e("p",ds,g(t.date),1),e("p",rs,g(t.time),1),e("p",us,g(t.description),1)])],2))),128))])])])]),cs])}}},ks=Ee(ms,[["__scopeId","data-v-36c9660b"]]);export{ks as default};
