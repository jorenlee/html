import{_ as Kt}from"./D0r2zkOA.js";import{k as Xt,l as Qt,r as i,p as Wt,D as ie,K as ut,m as B,c as o,a as t,f as h,i as ct,h as f,e as ft,t as v,X as vt,n as u,j as p,d as S,F,g as J,y as gt,aa as Jt,v as D,q as $,b as mt,o as r,s as Zt,w as es,ab as ts}from"./BMdyD0ih.js";import{_ as ss}from"./5JjjnmY2.js";import{h as R}from"./C5S46NFB.js";const ls={class:"h-screen flex"},as={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},os={class:"w-full"},rs={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},ns={class:"flex items-center w-full px-2"},is={class:"text-sm"},ds={class:"w-full overflow-y-scroll"},us={class:"bg-green-800 fixed w-full z-10"},cs={class:"flex mx-auto justify-between py-2 px-3.5"},fs={key:0,class:"lg:mx-5 mx-2 shadow-lg border-2 border-green-600 rounded-lg mt-16 lg:mb-0 mb-3"},vs={class:"flex border-b lg:font-bold border-green-800 uppercase lg:text-sm text-[8px] py-2"},gs={class:"flex items-center lg:text-sm text-xs"},ms={class:"lg:w-7/12 w-8/12 text-left lg:px-5 px-2 py-1"},ps={class:"text-xs text-gray-500"},xs={class:"w-2/12 text-center"},ys={class:"w-2/12 text-center"},hs={class:"w-2/12 text-center"},bs={class:""},ws={class:"w-full lg:p-5 px-2 py-2"},_s={class:"relative border"},ks={key:0,class:"fixed inset-0 z-[1000] bg-gray-800 bg-opacity-90 flex items-center justify-center"},Cs={class:"text-white text-lg font-semibold text-center px-6"},js={key:1,class:"fixed inset-0 z-[1000] bg-red-900 bg-opacity-90 flex items-center justify-center"},Ms={class:"text-white text-lg font-semibold text-center px-6"},Ss={class:"w-full flex justify-between items-center mb-4 px-2 py-2 bg-white shadow rounded-md"},Ds={class:"lg:flex justify-between w-full gap-x-3"},As={class:"flex justify-between gap-x-2"},Ts={class:""},Ls=["disabled"],$s={key:0,class:"flex items-center lg:my-0 my-2"},Es=["value"],Is={class:"flex gap-x-2"},Ps={class:"flex items-center w-full lg:mt-0 mt-2"},Vs={class:"relative w-full"},Rs={class:""},Us={class:"appointment-lists mx-auto text-xs"},Ys={key:0,class:"text-center"},Bs={key:1},Fs={key:0,class:"gap-4"},Ns={class:"w-fit flex px-2"},zs={class:""},Os=["value"],qs={class:"lg:w-4/12 w-full flex items-center"},Gs={class:"w-full"},Hs={class:"w-full lg:px-3 lg:flex items-center"},Ks={class:"text-[10px] font-light whitespace-nowrap"},Xs={class:"font-bold"},Qs={key:0,class:"w-full lg:block flex items-center lg:py-0 py-2 lg:px-3"},Ws={class:"text-[10px] font-light w-full flex"},Js={class:"font-bold flex"},Zs={class:"lg:w-4/12 w-full"},el={class:"w-full my-1"},tl={class:"w-full text-xs font-bold uppercase text-green-800 py-1 px-1 flex items-center"},sl={class:"flex justify-between items-center mb-4 border-b pb-3"},ll={class:"text-lg font-medium text-gray-900"},al={class:"mb-6 max-h-[40vh] overflow-y-auto"},ol={key:0,class:"text-center text-gray-500 py-4"},rl={key:1,class:"space-y-3"},nl={class:"flex items-center justify-between capitalize gap-x-3"},il={class:"text-gray-500 w-3/12"},dl={class:""},ul={class:"flex items-center"},cl={class:"ml-3 text-sm w-full"},fl={class:"text-xs shadow-md py-1 px-2"},vl={class:"flex items-center"},gl={class:"ml-3 text-sm w-full"},ml={class:"text-xs shadow-md py-1 px-2"},pl={class:"flex items-center"},xl={class:"ml-3 text-sm w-full"},yl=["onUpdate:modelValue"],hl={class:"flex items-center"},bl={class:"ml-3 text-sm w-full"},wl=["onUpdate:modelValue"],_l={class:"flex items-center"},kl={class:"ml-3 text-sm w-full"},Cl=["onUpdate:modelValue"],jl={class:"flex items-center"},Ml={class:"ml-3 text-sm w-full"},Sl=["onUpdate:modelValue"],Dl={class:"flex items-center"},Al={class:"ml-3 text-sm w-full"},Tl=["onUpdate:modelValue"],Ll={class:"flex items-center"},$l={class:"ml-3 text-sm w-full"},El=["onUpdate:modelValue"],Il={class:"flex items-center"},Pl={class:"ml-3 text-sm w-full"},Vl=["onUpdate:modelValue"],Rl={class:"flex items-center"},Ul={class:"ml-3 text-sm w-full"},Yl=["onUpdate:modelValue"],Bl={class:"w-full py-1"},Fl={class:"lg:flex items-center gap-x-3"},Nl={class:"flex gap-x-3 w-fit mx-auto"},zl={key:0,class:"flex gap-x-3"},Ol=["onClick"],ql=["src"],Gl=["onClick"],Hl=["src"],Kl=["onClick"],Xl=["src"],Ql=["onClick"],Wl={key:0},Jl={key:1},Zl={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-30"},ea={class:"bg-white rounded-lg shadow-xl p-6 w-full max-w-sm mx-4 text-center"},ta={class:"border-4 border-[#eeeeee] px-3 py-3 my-3 rounded-lg"},sa={class:"flex w-full gap-x-3"},la={class:"flex items-center mb-2 w-full"},aa={class:"text-sm w-full"},oa={class:"flex items-center mb-2 w-full"},ra={class:"text-sm w-full"},na={class:"flex items-center mb-2"},ia={class:"text-sm w-full"},da={class:"flex flex-col items-start w-fit mx-auto"},ua={class:"text-sm w-full"},ca=["for"],fa=["id","onUpdate:modelValue","readonly"],va=["for"],ga=["id","onUpdate:modelValue","readonly","disabled"],ma={class:"mt-4 mx-auto w-fit block"},pa=["onClick","disabled"],xa={key:0,class:"mt-3 text-center text-sm bg-green-100 text-green-800 border border-green-400 px-4 py-2 rounded w-full"},ya={class:"flex justify-between items-center mb-4 border-b pb-3"},ha={class:"text-lg font-medium text-gray-900"},ba={class:"mb-6 max-h-[40vh] overflow-y-auto"},wa={key:0,class:"text-center text-gray-500 py-4"},_a={key:1,class:"space-y-3"},ka={class:"flex items-center justify-between capitalize gap-x-3"},Ca={class:"text-gray-500 w-3/12"},ja=["onClick"],Ma={key:0},Sa={key:1},Da=["onClick"],Aa={key:0},Ta={key:1},La=["onClick"],$a={key:0},Ea={key:1},Ia={class:"w-full"},Pa={class:"w-fit mx-auto"},Va={class:"lg:w-fit w-full py-1 lg:gap-x-3 lg:flex lg:whitespace-nowrap text-left"},Ra=["onClick"],Ua=["onClick"],Ya=["onClick"],Ba=["onClick"],Fa=["onClick"],Na=["onClick"],za=["src"],Oa={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300"},qa={class:"text-center"},Ga={class:"text-sm text-gray-500 mb-6"},Ha={class:"flex justify-center gap-4"},Ka=["disabled"],Xa={key:0,class:"fa fa-spinner fa-spin mr-2"},Qa=["disabled"],Wa={key:1,class:"flex justify-center my-4 pb-10"},Ja=["disabled"],Za=["onClick"],eo=["disabled"],to={key:2,class:"text-center my-5"},so={class:"fixed bottom-0 w-full"},lo=1e3,$e=500,me=4,uo={__name:"index",setup(ao){const pe=Xt(),O=Qt(),g=i([]);let pt=i(!0),M=i(!1),q=i(!1);const C=i(O.mainDevServer);let E=i(null);const U=i("all"),Z=i(!1),Ee=i(""),ee=i(!1),Ie=i(null),Y=i(!1),G=i(!1),H=i(!1),K=i(!1),X=i(!1),b=i(null),xt=i(""),w=i(""),_=i(""),N=i(!1),j=i(!1),Q=i(!1),xe=s=>{Ee.value=s,Z.value=!0,k.value=!0,document.body.style.overflow="hidden"},de=()=>{Z.value=!1,k.value=I(),document.body.style.overflow="auto"},yt=async s=>{var l;w.value="",_.value="",N.value=!0;const e="Reviewed and Verified",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===e.toLowerCase()){Q.value=!0,N.value=!1;return}try{const d={timestamp:R().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:e},c=s.logs?[...s.logs]:[];c.unshift(d),E.value=s.id;const A={...s,logs:c};await $fetch(`${C.value}/api/registrar/${E.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:A}),s.logs=c,await $fetch(`${C.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:e}}),await se(),w.value="✅ Confirm and email sent successfully!",setTimeout(()=>{w.value=""},3e3)}catch(d){console.error("Error verifying and sending email:",d),_.value="❌ Failed to verify and send email.",setTimeout(()=>{_.value=""},3e3)}finally{N.value=!1}},ht=async s=>{var l;w.value="",_.value="",j.value=!0;const e="Preparing Documents",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===e.toLowerCase()){Q.value=!0,j.value=!1;return}try{const d={timestamp:R().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:e},c=s.logs?[...s.logs]:[];c.unshift(d),E.value=s.id;const A={...s,logs:c};await $fetch(`${C.value}/api/registrar/${E.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:A}),s.logs=c,await $fetch(`${C.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:e}}),await se(),w.value="✅ Confirm and email sent successfully!",setTimeout(()=>{w.value=""},3e3)}catch(d){console.error("Error verifying and sending email:",d),_.value="❌ Failed to verify and send email.",setTimeout(()=>{_.value=""},3e3)}finally{j.value=!1,H.value=!1}},bt=async s=>{var l;w.value="",_.value="",j.value=!0;const e="Releasing Documents",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===e.toLowerCase()){Q.value=!0,j.value=!1;return}try{const d={timestamp:R().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:e},c=s.logs?[...s.logs]:[];c.unshift(d),E.value=s.id;const A={...s,logs:c};await $fetch(`${C.value}/api/registrar/${E.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:A}),s.logs=c,await $fetch(`${C.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:e}}),await se(),w.value="✅ Confirm and email sent successfully!",setTimeout(()=>{w.value=""},3e3)}catch(d){console.error("Error verifying and sending email:",d),_.value="❌ Failed to verify and send email.",setTimeout(()=>{_.value=""},3e3)}finally{j.value=!1,K.value=!1}},wt=async s=>{var l;w.value="",_.value="",j.value=!0;const e="Transaction Closed",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===e.toLowerCase()){Q.value=!0,j.value=!1;return}try{const d={timestamp:R().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:e},c=s.logs?[...s.logs]:[];c.unshift(d),E.value=s.id;const A={...s,logs:c};await $fetch(`${C.value}/api/registrar/${E.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:A}),s.logs=c,await $fetch(`${C.value}/api/registrar/status/transaction-closed/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:e}}),await se(),w.value="✅ Confirm and email sent successfully!",setTimeout(()=>{w.value=""},3e3)}catch(d){console.error("Error verifying and sending email:",d),_.value="❌ Failed to verify and send email.",setTimeout(()=>{_.value=""},3e3)}finally{j.value=!1,X.value=!1}},_t=async s=>{ve.value=!0;const e={...y.value,date_graduated_last_attended:R(y.value.date_graduated_last_attended).format("LL")};try{await $fetch(C.value+"/api/registrar/payment/fees/",{method:"POST",headers:{"Content-Type":"application/json"},body:e}),Te.value=!0,setTimeout(()=>{Te.value=!1},3e3)}catch(a){console.error("Error sending email:",a)}finally{ve.value=!1,kt(s)}},kt=async s=>{var l;w.value="",_.value="",N.value=!0;const e="Assessment",a=(l=s.logs)==null?void 0:l[0];if(a&&a.status_remarks.toLowerCase().trim()===e.toLowerCase()){Q.value=!0,N.value=!1;return}try{const d={timestamp:R().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:e},c=s.logs?[...s.logs]:[];c.unshift(d),E.value=s.id;const A={...s,logs:c};await $fetch(`${C.value}/api/registrar/${E.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:A}),s.logs=c,await $fetch(`${C.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:e}}),await se(),w.value="✅ Confirm and email sent successfully!",setTimeout(()=>{w.value=""},3e3)}catch(d){console.error("Error verifying and sending email:",d),_.value="❌ Failed to verify and send email.",setTimeout(()=>{_.value=""},3e3)}finally{N.value=!1}},Ct=s=>{b.value=s,Y.value=!0,G.value=!1,k.value=!0,xt.value="",document.body.style.overflow="hidden"},ue=()=>{Y.value=!1,k.value=I(),document.body.style.overflow="auto"},jt=s=>{b.value=s,G.value=!0,k.value=!0,document.body.style.overflow="hidden",y.value.fullname=`${s.firstname} ${s.middlename} ${s.lastname}`,y.value.email=s.email,y.value.course=s.course,y.value.date_graduated_last_attended=R(s.date_graduated_last_attended).format("YYYY-MM-DD"),console.log("currentItemInfo.value.date_graduated_last_attended",y.value.date_graduated_last_attended);const e=s.type_document_requests||[];y.value.detail_fees=e.map(a=>He.value[a]?{fee_name:a,amount:He.value[a]}:{fee_name:a,amount:0}),Ke(),console.log("Mapped Detail Fees:",y.value.detail_fees)},Pe=()=>{G.value=!1,k.value=I(),document.body.style.overflow="auto"},Mt=s=>{Ie.value=s,ee.value=!0,k.value=!0,document.body.style.overflow="hidden"},Ve=()=>{ee.value=!1,k.value=I(),document.body.style.overflow="auto"},St=s=>{H.value=!0,k.value=!0,document.body.style.overflow="hidden"},Re=()=>{H.value=!1,k.value=I(),document.body.style.overflow="auto"},Dt=s=>{K.value=!0,k.value=!0,document.body.style.overflow="hidden"},Ue=()=>{K.value=!1,k.value=I(),document.body.style.overflow="auto"},At=s=>{X.value=!0,k.value=!0,document.body.style.overflow="hidden"},Ye=()=>{X.value=!1,k.value=I(),document.body.style.overflow="auto"},I=()=>G.value||H.value||K.value||X.value||Y.value||Z.value||q.value||ee.value,z=i(""),ye=i([{value:"Arts and Sciences, Engineering, Architecture, Computer Studies",label:"Arts and Sciences, Engineering, Architecture, Computer Studies"},{value:"Business-Related Courses, BSTM",label:"Business-Related Courses, BSTM"},{value:"Nursing, and Graduate Studies",label:"Nursing, and Graduate Studies"},{value:"Education Courses, BSHM",label:"Education Courses, BSHM"},{value:"Criminology",label:"Criminology"}]),T=i(null),L=i("asc"),Be=i(!1);Wt(async()=>{const s=O.user.email,e={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","cba.registrar@lsu.edu.ph":"Business-Related Courses, BSTM","onlinerequest@lsu.edu.ph":"Nursing, and Graduate Studies","cte.registrar@lsu.edu.ph":"Education Courses, BSHM","ccje.registra@lsu.edu.ph":"Criminology"},a=["jorenleeluna24@gmail.com","registrar@lsu.edu.ph","jason.yap@lsu.edu.ph"],l=[...a,...Object.keys(e)];window.addEventListener("keydown",d=>{d.key==="Escape"&&Z.value&&de()}),O.user.isAuthenticated&&l.includes(s)?(a.includes(s)?Be.value=!0:z.value=e[s]||"",await ke(),pe.push("/registrar/dashboard"),be()):pe.push("/unauthorized")});let te=null,k=i(!1),he=i(!1);const be=()=>{te&&clearInterval(te),te=setInterval(async()=>{!I()&&!he.value&&(await se(),await Tt())},lo)},ce=()=>{te&&(clearInterval(te),te=null)},Tt=async()=>{ce();try{const s=g.value;if(!s||!Array.isArray(s)||s.length===0)return;const e={},a=[];s.forEach(l=>{if(l.tracking_id)if(e[l.tracking_id]){const d=e[l.tracking_id],c=new Date(d.created_at)>new Date(l.created_at)?d.id:l.id;a.push(c)}else e[l.tracking_id]=l});for(const l of a)console.log(`Removing duplicate item with ID: ${l}`),await $fetch(C.value+"/api/registrar/"+l+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});a.length>0&&(console.log(`Removed ${a.length} duplicate entries`),await ke())}catch(s){console.error("Error checking for duplicates:",s)}finally{be()}},Fe=i({}),Ne=i({}),ze=i({}),Oe=i({}),qe=i({}),we=()=>{!g.value||!Array.isArray(g.value)||g.value.forEach(s=>{s&&s.id&&(Fe.value[s.id]=It(s))})},_e=()=>{!g.value||!Array.isArray(g.value)||g.value.forEach(s=>{s&&s.id&&(Ne.value[s.id]=Pt(s))})},Lt=()=>{!g.value||!Array.isArray(g.value)||g.value.forEach(s=>{s&&s.id&&(ze.value[s.id]=Vt(s))})},$t=()=>{!g.value||!Array.isArray(g.value)||g.value.forEach(s=>{s&&s.id&&(Oe.value[s.id]=Rt(s))})},Et=()=>{!g.value||!Array.isArray(g.value)||g.value.forEach(s=>{s&&s.id&&(qe.value[s.id]=Ut(s))})},It=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(e=>e.status_remarks&&e.status_remarks.includes("Reviewed and Verified")),Pt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(e=>e.status_remarks&&e.status_remarks.includes("Assessment")),Vt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(e=>e.status_remarks&&e.status_remarks.includes("Preparing Documents")),Rt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(e=>e.status_remarks&&e.status_remarks.includes("Releasing Documents")),Ut=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(e=>e.status_remarks&&e.status_remarks.includes("Transaction Closed"));ie(()=>g.value,()=>{we(),_e(),Lt(),$t(),Et()},{deep:!0});const se=async()=>{try{const s=await $fetch(C.value+"/api/registrar/list").catch(e=>e.data)||[];if(s.length>0&&(W.value.length>0?(W.value=s,Ae()):g.value=s,we(),_e(),b.value)){const e=s.find(a=>a.id===b.value.id);e&&(b.value={...e})}}catch(s){console.error("Error fetching list items quietly:",s)}},ke=async()=>{fe.value=!0;try{const s=await $fetch(C.value+"/api/registrar/list").catch(e=>(console.error("Fetch error:",e),[]));g.value=Array.isArray(s)?s:[],W.value=[],ne.value="",we(),_e()}catch(s){console.error("Error fetching list items:",s),g.value=[]}finally{fe.value=!1}};ut(()=>{ce()});const Yt=()=>{pe.push("/registrar/login"),O.removeToken()},x=i([]),le=i(!1),Ce=B(()=>x.value.length===re.value.length&&re.value.length>0),Bt=()=>{console.log("selectAllItems called"),console.log("allSelected.value:",Ce.value),ce(),he.value=!0,Ce.value?x.value=[]:(console.log("filteredByCollege.value:",re.value),x.value=re.value.map(s=>s.id)),console.log("selectedItems.value:",x.value),be(),he.value=!1},Ft=()=>{x.value.length!==0&&(q.value=!0,k.value=!0)},Nt=()=>{q.value=!1,k.value=I()},zt=async()=>{if(x.value.length!==0)try{le.value=!0;for(const s of x.value)await $fetch(C.value+"/api/registrar/"+s+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});console.log(`${x.value.length} items deleted successfully`),x.value=[],await ke(),q.value=!1,k.value=I()}catch(s){console.error("Error deleting items:",s)}finally{le.value=!1}},ae=B(()=>{let s=[...g.value];return U.value==="done"?s=s.filter(e=>{var a;return(a=e.logs)==null?void 0:a.some(l=>{var c;return(((c=l==null?void 0:l.status_remarks)==null?void 0:c.toLowerCase())||"").includes("transaction closed")})}):U.value==="pending"&&(s=s.filter(e=>{var a;return(a=e.logs)==null?void 0:a.every(l=>{var c;return!(((c=l==null?void 0:l.status_remarks)==null?void 0:c.toLowerCase())||"").includes("transaction closed")})})),ss.orderBy(s,"created_at","asc")}),je=s=>ae.value.filter(e=>{var a;return e.college===s&&((a=e.logs)==null?void 0:a.some(l=>{var c;return(((c=l==null?void 0:l.status_remarks)==null?void 0:c.toLowerCase())||"").includes("transaction closed")}))}).length,Me=s=>ae.value.filter(e=>{var a;return e.college===s&&((a=e.logs)==null?void 0:a.every(l=>{var c;return!(((c=l==null?void 0:l.status_remarks)==null?void 0:c.toLowerCase())||"").includes("transaction closed")}))}).length,Se=s=>ae.value.filter(e=>e.college===s).length,De=s=>{T.value===s?L.value=L.value==="asc"?"desc":"asc":(T.value=s,L.value="asc"),ye.value.sort((e,a)=>{let l,d;return s==="Pending"?(l=Me(e.value),d=Me(a.value)):s==="Done"?(l=je(e.value),d=je(a.value)):s==="Total"?(l=Se(e.value),d=Se(a.value)):(l=e.label,d=a.label),l<d?L.value==="asc"?-1:1:l>d?L.value==="asc"?1:-1:0})},Ot=s=>{const e={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","cba.registrar@lsu.edu.ph":"Business-Related Courses, BSTM","onlinerequest@lsu.edu.ph":"Nursing, and Graduate Studies","cte.registrar@lsu.edu.ph":"Education Courses, BSHM","ccje.registra@lsu.edu.ph":"Criminology"};return Object.keys(e).filter(a=>e[a]===s)},fe=i(!0),P=i(1),Ge=B(()=>Math.ceil(ae.value.length/$e)),oe=B(()=>{const s=(P.value-1)*$e,e=s+$e;return ae.value.slice(s,e)}),re=B(()=>{if(console.log("filteredByCollege computed"),console.log("selectedCollege.value:",z.value),console.log("paginatedListItems.value:",oe.value),!z.value||!z.value)return oe.value;const s=oe.value.filter(e=>e.college===z.value);return console.log("filtered:",s),s}),qt=B(()=>{const s=[];let e=Math.max(1,P.value-Math.floor(me/2)),a=Math.min(Ge.value,e+me-1);a-e+1<me&&(e=Math.max(1,a-me+1));for(let l=e;l<=a;l++)s.push(l);return s});ut(()=>{window.removeEventListener("keydown",s=>{s.key==="Escape"&&Z.value&&de()}),ce()});const ne=i(""),W=i([]),Ae=()=>{P.value=1,W.value.length===0&&g.value.length>0&&(W.value=[...g.value]),ne.value.toLowerCase().trim();const s=W.value.length>0?W.value:g.value;g.value=s.filter(e=>{if(!e)return!1;const a=ne.value.toLowerCase().trim();return Object.keys(e).some(l=>typeof e[l]=="string"?e[l].toLowerCase().includes(a):!1)}),x.value=[]},V=B(()=>{var s;return!((s=b.value)!=null&&s.logs)||!Array.isArray(b.value.logs)?[]:[...b.value.logs].sort((e,a)=>{const l=R(e.timestamp,"MMMM DD, YYYY h:mm:ss A"),d=R(a.timestamp,"MMMM DD, YYYY h:mm:ss A");return l.valueOf()-d.valueOf()})});ie(g,s=>{console.log("listItems updated:",s)}),ie(z,()=>{x.value=[]}),ie(U,()=>{x.value=[]});const Gt=B(()=>O.user.email==="jorenleeluna24@gmail.com"||O.user.email==="registrar@lsu.edu.ph"),y=i({payment_id:"PID"+R().valueOf(),fullname:"",email:"",course:"",date_graduated_last_attended:"",total:"0",detail_fees:[]}),He=i({"Transcript of Records":350,"Transfer of Credentials (Honorable Dismissal)":400,"CAV (Certification, Authentication, Verification)":500,"Credential Evaluations (WES, CGFNS, NCLEX, SpanTran, IES, etc.)":600}),Ke=()=>{let s=0;y.value.detail_fees.forEach(a=>{s+=Number((a.amount||0).toString())});const e=s.toFixed(2);y.value.total=e};ie(()=>y.value.detail_fees,()=>Ke(),{deep:!0});const Ht=B(()=>{var s,e;return(e=(s=y.value)==null?void 0:s.detail_fees)==null?void 0:e.some(a=>!a.fee_name||a.fee_name.trim()==="")}),Te=i(!1),ve=i(!1),ge=s=>["Transcript of Records","Transfer of Credentials (Honorable Dismissal)","CAV (Certification, Authentication, Verification)","Credential Evaluations (WES, CGFNS, NCLEX, SpanTran, IES, etc.)"].includes(s);return(s,e)=>{const a=Kt;return r(),o("div",null,[t("div",ls,[h(t("div",as,[t("div",os,[t("div",rs,[t("div",ns,[e[25]||(e[25]=t("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),t("h1",is,v(f(O).user.email),1)]),t("div",{onClick:e[0]||(e[0]=l=>vt(M)?M.value=!f(M):M=!f(M)),class:"w-10 px-1.5 lg:hidden flex"},[t("i",{class:u(["fa text-3xl text-white",f(M)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),e[26]||(e[26]=ft('<div class=""><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto"></div><div class="text-center"><h1 class="font-bold text-green-800 text-2xl">Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/registrar/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1))])],512),[[ct,f(M)]]),t("div",ds,[t("div",us,[t("div",cs,[t("div",{onClick:e[1]||(e[1]=l=>vt(M)?M.value=!f(M):M=!f(M)),class:"w-auto flex items-center lg:px-1.5"},[t("i",{class:u(["fa text-3xl text-white",f(M)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),e[27]||(e[27]=t("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Registrar ",-1))]),t("button",{onClick:Yt,class:"flex hover:font-bold pt-1"},e[28]||(e[28]=[t("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),t("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)]))])]),f(Gt)?(r(),o("div",fs,[t("div",null,[t("ul",vs,[e[32]||(e[32]=t("li",{class:"lg:w-7/12 border border-transparent w-full lg:px-5 text-left px-2"},"Department",-1)),t("li",{onClick:e[2]||(e[2]=l=>De("Pending")),class:"lg:w-2/12 w-3/12 text-center cursor-pointer"},[e[29]||(e[29]=S(" Pending ")),t("i",{class:u({"fa fa-sort-up":T.value==="Pending"&&L.value==="asc","fa fa-sort-down":T.value==="Pending"&&L.value==="desc","fa fa-sort":T.value!=="Pending"})},null,2)]),t("li",{onClick:e[3]||(e[3]=l=>De("Done")),class:"lg:w-2/12 w-3/12 text-center cursor-pointer"},[e[30]||(e[30]=S(" Done ")),t("i",{class:u({"fa fa-sort-up":T.value==="Done"&&L.value==="asc","fa fa-sort-down":T.value==="Done"&&L.value==="desc","fa fa-sort":T.value!=="Done"})},null,2)]),t("li",{onClick:e[4]||(e[4]=l=>De("Total")),class:"lg:w-2/12 w-3/12 text-center cursor-pointer"},[e[31]||(e[31]=S(" Total ")),t("i",{class:u({"fa fa-sort-up":T.value==="Total"&&L.value==="asc","fa fa-sort-down":T.value==="Total"&&L.value==="desc","fa fa-sort":T.value!=="Total"})},null,2)])])]),t("div",null,[t("ul",null,[(r(!0),o(F,null,J(ye.value,l=>(r(),o("li",{class:"border-b",key:l.value},[t("ul",gs,[t("li",ms,[S(v(l.label)+" ",1),t("div",ps,v(Ot(l.value).join(", ")),1)]),t("li",xs,v(Me(l.value)),1),t("li",ys,v(je(l.value)),1),t("li",hs,v(Se(l.value)),1)])]))),128))])])])):p("",!0),t("div",bs,[t("div",ws,[h(t("div",_s,[e[90]||(e[90]=t("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),w.value?(r(),o("div",ks,[t("p",Cs,v(w.value),1)])):p("",!0),_.value?(r(),o("div",js,[t("p",Ms,v(_.value),1)])):p("",!0),t("div",Ss,[t("div",Ds,[t("div",As,[t("div",Ts,[t("button",{onClick:Bt,class:"whitespace-nowrap flex items-center px-2 bg-gray-200 hover:bg-gray-300 text-gray-700 lg:px-3 pr-2 py-1.5 rounded-md transition-colors duration-200 lg:text-sm text-xs"},v(f(Ce)?"Deselect All":"Select All"),1)]),t("div",{class:u(x.value.length===0?"hidden":"")},[t("button",{onClick:Ft,class:u(["flex items-center hover:bg-red-600 text-white px-3 lg:py-1 py-0.5 rounded-md transition-colors duration-200 disabled:opacity-50 whitespace-nowrap",x.value.length===0?"bg-pink-200":"bg-red-500"]),disabled:x.value.length===0},[e[33]||(e[33]=t("i",{class:"fa fa-trash mr-2"},null,-1)),S(" ("+v(x.value.length)+") ",1)],10,Ls)],2)]),Be.value?(r(),o("div",$s,[h(t("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>z.value=l),class:"lg:px-3 px-1 lg:py-1.5 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs"},[e[34]||(e[34]=t("option",{value:""},"All Colleges",-1)),(r(!0),o(F,null,J(ye.value,l=>(r(),o("option",{key:l.value,value:l.value},v(l.label),9,Es))),128))],512),[[gt,z.value]])])):p("",!0),t("div",Is,[t("button",{onClick:e[6]||(e[6]=l=>U.value="all"),class:u(["px-2 py-1 rounded-xl border",U.value==="all"?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white"])}," All ",2),t("button",{onClick:e[7]||(e[7]=l=>U.value="pending"),class:u(["px-2 py-1 rounded-xl border",U.value==="pending"?"bg-red-600 text-white border-red-600":"bg-white text-red-600 border-red-600 hover:bg-red-600 hover:text-white"])}," Pending ",2),t("button",{onClick:e[8]||(e[8]=l=>U.value="done"),class:u(["px-2 py-1 rounded-xl border",U.value==="done"?"bg-green-600 text-white border-green-600":"bg-white text-green-600 border-green-600 hover:bg-green-600 hover:text-white"])}," Done ",2)]),t("div",Ps,[t("div",Vs,[h(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>ne.value=l),type:"search",placeholder:"Search",class:"lg:px-3 px-2 lg:py-1.5 py-1 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs",onKeyup:Jt(Ae,["enter"])},null,544),[[D,ne.value]]),t("button",{onClick:Ae,class:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-green-600"},e[35]||(e[35]=[t("i",{class:"fa fa-search"},null,-1)]))])])])]),t("div",Rs,[t("div",Us,[fe.value?(r(),o("div",Ys,e[36]||(e[36]=[ft('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(r(),o("div",Bs,[f(oe).length>0?(r(),o("div",Fs,[(r(!0),o(F,null,J(f(re),(l,d)=>{var c,A,Xe,Qe,We,Je,Ze,et,tt,st,lt,at,ot,rt,nt,it,dt;return r(),o("div",{class:"flex items-center h-auto shadow lg:mb-0 mb-3 border-gray-200",key:d},[t("div",Ns,[t("div",zs,[h(t("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":e[10]||(e[10]=n=>x.value=n),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"},null,8,Os),[[Zt,x.value]])])]),t("div",{class:u(["w-full px-2 py-1.5 border-l lg:flex items-center",d%2?"bg-gray-100":""])},[t("div",qs,[t("div",null,[t("div",Gs,[t("div",Hs,[t("div",Ks,[e[37]||(e[37]=t("span",{class:"mr-1"},"Tracking ID:",-1)),t("span",Xs,v(l.tracking_id),1)])])]),l.details?(r(),o("div",Qs,[t("div",Ws,[e[38]||(e[38]=t("span",{class:"mr-4"},"Purpose:",-1)),t("span",Js,v(l.details),1)])])):p("",!0)])]),t("div",Zs,[t("div",el,[t("div",tl,[e[39]||(e[39]=t("i",{class:"fa fa-user mr-2.5"},null,-1)),S(" "+v(l.lastname)+", "+v(l.firstname)+" "+v(l.middlename),1)])]),Y.value&&b.value===l?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:ue},[t("div",{class:u(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":Y.value,"scale-95 opacity-0":!Y.value}]),onClick:e[11]||(e[11]=$(()=>{},["stop"]))},[t("div",sl,[t("h3",ll," Status Logs - "+v(((c=b.value)==null?void 0:c.tracking_id)||"N/A"),1),t("button",{onClick:ue,class:"text-gray-400 hover:text-gray-500"},e[40]||(e[40]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",al,[!((A=b.value)!=null&&A.logs)||b.value.logs.length===0?(r(),o("div",ol," No logs available ")):(r(),o("div",rl,[(r(!0),o(F,null,J(f(V),(n,m)=>(r(),o("div",{key:m,class:u(["border-l-4 rounded-r text-[10px]",m===f(V).length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[t("div",nl,[t("div",{class:u(["font-medium w-9/12",m===f(V).length-1?"text-green-800 text-sm":"text-gray-500"])},[t("div",{class:u(["w-full bg-transparent focus:outline-none px-1",m===f(V).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},v(n.status_remarks),3)],2),t("div",il,[t("div",{class:u(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",m===f(V).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},v(n.timestamp),3)])])],2))),128))]))])],2)])):p("",!0),ee.value&&Ie.value===l?(r(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Ve},[t("div",{class:u(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":ee.value,"scale-95 opacity-0":!ee.value}]),onClick:e[12]||(e[12]=$(()=>{},["stop"]))},[t("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[e[42]||(e[42]=t("h3",{class:"text-lg font-medium text-gray-900"}," Personal Information ",-1)),t("button",{onClick:Ve,class:"text-gray-400 hover:text-gray-500"},e[41]||(e[41]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",dl,[t("div",ul,[e[44]||(e[44]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-user text-green-600"})],-1)),t("div",cl,[e[43]||(e[43]=t("p",{class:"text-sm font-medium"}," Fullname ",-1)),t("p",fl,v(l.firstname)+" "+v(l.middlename)+" "+v(l.lastname),1)])]),t("div",vl,[e[46]||(e[46]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-bookmark text-green-600"})],-1)),t("div",gl,[e[45]||(e[45]=t("p",{class:"text-sm font-medium"}," Tracking ID ",-1)),t("p",ml,v(l.tracking_id),1)])]),t("div",pl,[e[48]||(e[48]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-envelope text-green-600"})],-1)),t("div",xl,[e[47]||(e[47]=t("p",{class:"font-medium text-gray-900"}," Email ",-1)),h(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.email=n},null,8,yl),[[D,l.email]])])]),t("div",hl,[e[50]||(e[50]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-phone text-green-600"})],-1)),t("div",bl,[e[49]||(e[49]=t("p",{class:"font-medium text-gray-900"}," Contact Number ",-1)),h(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.contact_number=n},null,8,wl),[[D,l.contact_number]])])]),t("div",_l,[e[52]||(e[52]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-birthday-cake text-green-500"})],-1)),t("div",kl,[e[51]||(e[51]=t("p",{class:"font-medium text-gray-900"}," Date of Birth ",-1)),h(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.birthdate=n},null,8,Cl),[[D,l.birthdate]])])]),t("div",jl,[e[54]||(e[54]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-female text-green-500"})],-1)),t("div",Ml,[e[53]||(e[53]=t("p",{class:"font-medium text-gray-900"}," Mother's Maiden Name ",-1)),h(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.mother_maiden_name=n},null,8,Sl),[[D,l.mother_maiden_name]])])]),t("div",Dl,[e[57]||(e[57]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-graduation-cap text-green-500"})],-1)),t("div",Al,[e[56]||(e[56]=t("p",{class:"font-medium text-gray-900"}," ICC / LSU Graduate? ",-1)),h(t("select",{class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.alumni=n},e[55]||(e[55]=[t("option",{value:"yes"},"Alumnus",-1),t("option",{value:"no"},"Non-Alumnus",-1)]),8,Tl),[[gt,l.alumni]])])]),t("div",Ll,[e[59]||(e[59]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-university text-green-500"})],-1)),t("div",$l,[e[58]||(e[58]=t("p",{class:"font-medium text-gray-900"}," College ",-1)),h(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.college=n},null,8,El),[[D,l.college]])])]),t("div",Il,[e[61]||(e[61]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-book text-green-500"})],-1)),t("div",Pl,[e[60]||(e[60]=t("p",{class:"font-medium text-gray-900"}," Course ",-1)),h(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.course=n},null,8,Vl),[[D,l.course]])])]),t("div",Rl,[e[63]||(e[63]=t("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[t("i",{class:"fa fa-calendar text-green-500"})],-1)),t("div",Ul,[e[62]||(e[62]=t("p",{class:"font-medium text-gray-900"}," Academic Year Graduated or Attended ",-1)),h(t("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":n=>l.year_graduated_last_attended=n},null,8,Yl),[[D,l.year_graduated_last_attended]])])]),t("div",Bl,[t("div",Fl,[e[64]||(e[64]=t("div",{class:"font-bold text-[10px] mr-1 text-center"}," IDs and Documents: ",-1)),t("div",Nl,[l?(r(),o("span",zl,[(We=(Qe=(Xe=l.valid_id_front)==null?void 0:Xe[0])==null?void 0:Qe.url)!=null&&We.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(r(),o("a",{key:0,onClick:$(n=>{var m;return xe((m=l.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:m[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[t("img",{src:(Je=l.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:Je[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,ql)],8,Ol)):p("",!0),(tt=(et=(Ze=l.valid_id_back)==null?void 0:Ze[0])==null?void 0:et.url)!=null&&tt.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(r(),o("a",{key:1,onClick:$(n=>{var m;return xe((m=l.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:m[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[t("img",{src:(st=l.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:st[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Hl)],8,Gl)):p("",!0),(ot=(at=(lt=l.credential_evaluation_requests)==null?void 0:lt[0])==null?void 0:at.url)!=null&&ot.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(r(),o("a",{key:2,onClick:$(n=>{var m;return xe((m=l.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:m[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[t("img",{src:(rt=l.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:rt[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Xl)],8,Kl)):p("",!0)])):p("",!0)])])])]),t("div",{onClick:n=>yt(l),class:u(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":N.value}])},[N.value?(r(),o("span",Wl,e[65]||(e[65]=[t("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),S(" Verifying... ")]))):(r(),o("span",Jl,"Verify"))],10,Ql)],2)])):p("",!0),mt(ts,{name:"fade"},{default:es(()=>[Q.value?(r(),o("div",Zl,[t("div",ea,[e[66]||(e[66]=t("h3",{class:"text-lg font-semibold text-red-600 mb-3"}," Duplicate Status ",-1)),e[67]||(e[67]=t("p",{class:"text-sm text-gray-700 mb-4"}," This status has already been added as the most recent update. ",-1)),t("button",{class:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm",onClick:e[13]||(e[13]=n=>Q.value=!1)}," OK ")])])):p("",!0)]),_:1}),G.value&&b.value===l?(r(),o("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Pe},[t("div",{class:u(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":G.value,"scale-95 opacity-0":!G.value}]),onClick:e[17]||(e[17]=$(()=>{},["stop"]))},[t("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[e[69]||(e[69]=t("h3",{class:"text-lg font-medium text-gray-900"}," Payment Information ",-1)),t("button",{onClick:Pe,class:"text-gray-400 hover:text-gray-500"},e[68]||(e[68]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",ta,[t("div",sa,[t("div",la,[t("div",aa,[e[70]||(e[70]=t("label",{class:"text-xs text-gray-900"},"Course",-1)),h(t("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=n=>y.value.course=n),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[D,y.value.course]])])]),t("div",oa,[t("div",ra,[e[71]||(e[71]=t("label",{class:"text-xs text-gray-900"},"Date Graduated/Last Attended",-1)),h(t("input",{type:"date","onUpdate:modelValue":e[15]||(e[15]=n=>y.value.date_graduated_last_attended=n),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"Month Day Year"},null,512),[[D,y.value.date_graduated_last_attended]])])]),t("div",na,[t("div",ia,[e[72]||(e[72]=t("label",{class:"text-xs text-gray-900"},"Total",-1)),h(t("input",{type:"number","onUpdate:modelValue":e[16]||(e[16]=n=>y.value.total=n),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[D,y.value.total]])])])]),t("div",da,[t("div",ua,[e[73]||(e[73]=t("p",{class:"font-medium text-gray-900 text-center py-2"}," Detail Fees ",-1)),(r(!0),o(F,null,J((nt=y.value)==null?void 0:nt.detail_fees,(n,m)=>(r(),o("div",{key:m,class:"flex items-center space-x-2 mb-1"},[t("label",{for:"fee_name_"+m,class:"text-xs font-medium text-gray-700"}," Fee Name: ",8,ca),h(t("input",{type:"text",id:"fee_name_"+m,"onUpdate:modelValue":Le=>n.fee_name=Le,class:"text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",readonly:ge(n.fee_name)&&n.fee_name!==""},null,8,fa),[[D,n.fee_name]]),t("label",{for:"fee_amount_"+m,class:"text-xs font-medium text-gray-700"}," Amount: ",8,va),h(t("input",{type:"number",id:"fee_amount_"+m,"onUpdate:modelValue":Le=>n.amount=Le,class:u(["text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",ge(n.fee_name)?"bg-gray-100":""]),readonly:ge(n.fee_name),disabled:ge(n.fee_name)},null,10,ga),[[D,n.amount]])]))),128))])]),t("div",ma,[t("button",{onClick:n=>_t(l),disabled:f(Ht)||ve.value,class:"px-5 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-md disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[ve.value?(r(),o(F,{key:0},[e[74]||(e[74]=t("svg",{class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)),e[75]||(e[75]=S(" Sending... "))],64)):(r(),o(F,{key:1},[S(" Send Payment ")],64))],8,pa)]),Te.value?(r(),o("div",xa," ✅ Payment details sent successfully! ")):p("",!0)])],2)])):p("",!0),Y.value&&b.value===l?(r(),o("div",{key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:ue},[t("div",{class:u(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":Y.value,"scale-95 opacity-0":!Y.value}]),onClick:e[18]||(e[18]=$(()=>{},["stop"]))},[t("div",ya,[t("h3",ha," Status Logs - "+v(((it=b.value)==null?void 0:it.tracking_id)||"N/A"),1),t("button",{onClick:ue,class:"text-gray-400 hover:text-gray-500"},e[76]||(e[76]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",ba,[!((dt=b.value)!=null&&dt.logs)||b.value.logs.length===0?(r(),o("div",wa," No logs available ")):(r(),o("div",_a,[(r(!0),o(F,null,J(f(V),(n,m)=>(r(),o("div",{key:m,class:u(["border-l-4 rounded-r text-[10px]",m===f(V).length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[t("div",ka,[t("div",{class:u(["font-medium w-9/12",m===f(V).length-1?"text-green-800 text-sm":"text-gray-500"])},[t("div",{class:u(["w-full bg-transparent focus:outline-none px-1",m===f(V).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},v(n.status_remarks),3)],2),t("div",Ca,[t("div",{class:u(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",m===f(V).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},v(n.timestamp),3)])])],2))),128))]))])],2)])):p("",!0)]),H.value?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Re},[t("div",{class:u(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":H.value,"scale-95 opacity-0":!H.value}]),onClick:e[19]||(e[19]=$(()=>{},["stop"]))},[t("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[e[78]||(e[78]=t("h3",{class:"text-lg font-medium text-gray-900"}," Preparing Documents ",-1)),t("button",{onClick:Re,class:"text-gray-400 hover:text-gray-500"},e[77]||(e[77]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",{onClick:n=>ht(l),class:u(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":j.value}])},[j.value?(r(),o("span",Ma,e[79]||(e[79]=[t("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),S(" Confirming... ")]))):(r(),o("span",Sa,"Confirm"))],10,ja)],2)])):p("",!0),K.value?(r(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Ue},[t("div",{class:u(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":K.value,"scale-95 opacity-0":!K.value}]),onClick:e[20]||(e[20]=$(()=>{},["stop"]))},[t("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[e[81]||(e[81]=t("h3",{class:"text-lg font-medium text-gray-900"}," Releasing Documents ",-1)),t("button",{onClick:Ue,class:"text-gray-400 hover:text-gray-500"},e[80]||(e[80]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",{onClick:n=>bt(l),class:u(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":j.value}])},[j.value?(r(),o("span",Aa,e[82]||(e[82]=[t("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),S(" Confirming... ")]))):(r(),o("span",Ta,"Confirm"))],10,Da)],2)])):p("",!0),X.value?(r(),o("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:Ye},[t("div",{class:u(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":X.value,"scale-95 opacity-0":!X.value}]),onClick:e[21]||(e[21]=$(()=>{},["stop"]))},[t("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[e[84]||(e[84]=t("h3",{class:"text-lg font-medium text-gray-900"}," Transaction Closed ",-1)),t("button",{onClick:Ye,class:"text-gray-400 hover:text-gray-500"},e[83]||(e[83]=[t("i",{class:"fa fa-times"},null,-1)]))]),t("div",{onClick:n=>wt(l),class:u(["w-full text-center px-2 py-1 font-bold hover:bg-green-600 hover:text-white rounded-md mt-2 cursor-pointer bg-white text-green-600 border border-green-600",{"opacity-75 cursor-not-allowed":j.value}])},[j.value?(r(),o("span",$a,e[85]||(e[85]=[t("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),S(" Confirming... ")]))):(r(),o("span",Ea,"Confirm"))],10,La)],2)])):p("",!0),t("div",Ia,[t("div",Pa,[t("div",Va,[t("button",{onClick:n=>Mt(l),class:u(["w-full lg:text-center text-left px-3 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",Fe.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700"])}," 1. Verify Info ",10,Ra),t("button",{class:u(["w-full lg:text-center text-left px-3 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",Ne.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700"]),onClick:n=>jt(l)}," 2. Assessment ",10,Ua),t("button",{onClick:n=>St(),class:u([ze.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-3 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 3. Preparing Documents ",10,Ya),t("button",{onClick:n=>Dt(),class:u([Oe.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-3 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 4. Releasing Documents ",10,Ba),t("button",{onClick:n=>At(),class:u([qe.value[l.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-3 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 5. Transaction Closed ",10,Fa),t("button",{class:"lg:w-fit w-full px-2 py-1 text-green-700 cursor-pointer bg-white border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",onClick:n=>{Ct(l)}},e[86]||(e[86]=[t("i",{class:"fa fa-ellipsis-h"},null,-1)]),8,Na)])])])],2)])}),128)),Z.value?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:de},[t("div",{class:"relative max-w-4xl max-h-[90vh] overflow-auto bg-white p-2 rounded-lg",onClick:e[22]||(e[22]=$(()=>{},["stop"]))},[t("button",{onClick:de,class:"absolute top-2 right-2 text-gray-700 hover:text-red-500 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-md"},e[87]||(e[87]=[t("i",{class:"fa fa-close"},null,-1)])),t("img",{src:Ee.value,class:"max-w-full max-h-[85vh] object-contain"},null,8,za)])])):p("",!0),f(q)?(r(),o("div",Oa,[t("div",{class:u(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":f(q),"scale-95 opacity-0":!f(q)}])},[t("div",qa,[e[88]||(e[88]=t("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[t("i",{class:"fa fa-exclamation-triangle text-red-600 text-xl"})],-1)),e[89]||(e[89]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Confirm Deletion ",-1)),t("p",Ga," Are you sure you want to delete "+v(x.value.length===1?"this record":"these "+x.value.length+" records")+"? This action cannot be undone. ",1)]),t("div",Ha,[t("button",{onClick:zt,class:"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:le.value},[le.value?(r(),o("i",Xa)):p("",!0),S(" "+v(le.value?"Deleting...":"Delete"),1)],8,Ka),t("button",{onClick:Nt,class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:le.value}," Cancel ",8,Qa)])],2)])):p("",!0)])):p("",!0),f(ae).length>0?(r(),o("div",Wa,[t("button",{disabled:P.value===1,onClick:e[23]||(e[23]=l=>P.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,Ja),(r(!0),o(F,null,J(f(qt),l=>(r(),o("button",{key:l,onClick:d=>P.value=l,class:u(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":P.value===l,"bg-gray-200":P.value!==l}])},v(l),11,Za))),128)),t("button",{disabled:P.value===f(Ge),onClick:e[24]||(e[24]=l=>P.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,eo)])):fe.value?p("",!0):(r(),o("div",to," No items found! "))]))])])],512),[[ct,f(pt)]])])])])]),t("div",so,[mt(a)])])}}};export{uo as default};
