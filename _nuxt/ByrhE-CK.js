import{_ as Ne}from"./BbcMqS0V.js";import{A as Ue,B as Pe,r as n,e as ve,C as me,s as j,c as o,a as e,m as y,v as pe,h as d,f as xe,t as i,J as he,n as m,i as g,d as S,F as q,g as O,G as ye,ah as Re,E as z,p as B,b as be,o as a,al as Ye,w as qe,T as Oe}from"#entry";import{_ as ze}from"./CXohH4N5.js";import{h as ee}from"./BLMuvzoS.js";import{s as Ge}from"./BzLCLO6P.js";const Fe={class:"h-screen flex"},He={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},Ke={class:"w-full"},Qe={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},Je={class:"flex items-center w-full px-2"},We={class:"text-sm"},Xe={class:"w-full overflow-y-scroll"},Ze={class:"bg-green-800 fixed w-full z-10"},et={class:"flex mx-auto justify-between py-2 px-3.5"},tt={class:"pt-14"},st={class:"w-full lg:p-5 px-2 py-2"},lt={class:"w-full flex justify-between items-center mb-4 px-2 py-2 bg-white shadow rounded-md"},ot={class:"lg:flex justify-between w-full gap-x-3"},at={class:"flex justify-between gap-x-2"},it={class:""},nt=["disabled"],rt={key:0,class:"flex items-center lg:my-0 my-2"},dt=["value"],ut={class:"flex items-center w-full lg:mt-0 mt-2"},ct={class:"relative w-full"},ft={class:""},gt={class:"appointment-lists mx-auto text-xs"},vt={key:0,class:"text-center"},mt={key:1},pt={key:0,class:"gap-4"},xt={class:"w-fit flex px-2"},ht={class:""},yt=["value"],bt={class:"lg:w-7/12 w-full flex items-center"},_t={class:"w-full"},wt={class:"w-full lg:px-3 lg:flex items-center"},kt={class:"text-[10px] font-light whitespace-nowrap"},Ct={class:"font-bold"},jt={class:"w-full"},St={class:"w-full my-1"},Mt=["onClick"],Et={class:"space-y-4"},It={class:"flex items-center"},At={class:"ml-4"},Dt={class:"text-sm font-medium text-gray-900"},Lt={class:"text-sm text-gray-500"},Tt={class:"bg-gray-50 p-4 rounded-md"},Vt={class:"grid grid-cols-1 gap-3"},$t={class:"flex items-start"},Bt={class:"ml-3 text-sm"},Nt={class:"text-gray-500"},Ut={class:"flex items-start"},Pt={class:"ml-3 text-sm"},Rt={class:"text-gray-500"},Yt={class:"flex items-start"},qt={class:"ml-3 text-sm"},Ot={class:"text-gray-500"},zt={class:"flex items-start"},Gt={class:"ml-3 text-sm"},Ft={class:"text-gray-500"},Ht={class:"w-11/12 mx-auto"},Kt={class:"flex w-full"},Qt=["onUpdate:modelValue"],Jt={class:"w-11/12 mx-auto"},Wt={class:"flex w-full"},Xt=["onUpdate:modelValue"],Zt={class:"w-11/12 mx-auto"},es={class:"flex w-full"},ts=["onUpdate:modelValue"],ss={class:"w-11/12 mx-auto"},ls={class:"flex w-full"},os=["onUpdate:modelValue"],as={class:"flex justify-between items-center mb-4 border-b pb-3"},is={class:"text-lg font-medium text-gray-900"},ns={class:"mb-6 max-h-[40vh] overflow-y-auto"},rs={key:0,class:"text-center text-gray-500 py-4"},ds={key:1,class:"space-y-3"},us={class:"flex justify-between items-start"},cs={class:"text-gray-500"},fs={class:"border-t pt-4"},gs={class:"space-y-3"},vs={class:"flex justify-end gap-2"},ms=["disabled"],ps={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},xs={class:"flex min-h-full items-center justify-center p-4 text-center"},hs={class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},ys={class:"mt-2"},bs={class:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4"},_s={class:"flex"},ws={class:"ml-3"},ks={class:"text-sm text-yellow-700"},Cs={class:"font-medium"},js={class:"mt-4 flex justify-end gap-2"},Ss=["disabled"],Ms={key:0,class:"fa fa-paper-plane mr-2"},Es={key:1,class:"fa fa-spinner fa-spin mr-2"},Is={class:"w-full py-1"},As={class:"lg:flex items-center gap-x-3"},Ds={class:"flex gap-x-3 w-fit mx-auto"},Ls={key:0,class:"flex gap-x-3"},Ts=["onClick"],Vs=["src"],$s=["onClick"],Bs=["src"],Ns=["onClick"],Us=["src"],Ps={class:"lg:w-10/12 w-full items-center text-left"},Rs={class:"w-full lg:px-3 lg:block flex items-center lg:py-0 py-2"},Ys={class:"text-[10px] font-light whitespace-nowrap"},qs={class:"list-decimal lg:pl-4 pl-2.5"},Os={class:"lg:w-7/12 text-left"},zs={key:0,class:"w-full lg:block flex items-center lg:py-0 py-2"},Gs={class:"text-[10px] font-light whitespace-nowrap"},Fs={class:""},Hs={class:"lg:w-fit w-full flex items-center justify-center py-1"},Ks=["onClick"],Qs=["src"],Js={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300"},Ws={class:"text-center"},Xs={class:"text-sm text-gray-500 mb-6"},Zs={class:"flex justify-center gap-4"},el=["disabled"],tl={key:0,class:"fa fa-spinner fa-spin mr-2"},sl=["disabled"],ll={key:1,class:"flex justify-center my-4 pb-10"},ol=["disabled"],al=["onClick"],il=["disabled"],nl={key:2,class:"text-center my-5"},rl={class:"fixed bottom-0 w-full"},dl=1e3,te=500,K=4,pl={__name:"withoutCSV",setup(ul){const Q=Ue(),N=Pe(),b=n(0);let _e=n(!0),v=n(!1),_=n(!1);const M=n(N.mainDevServer);let se=n(null);const E=n(!1),le=n(""),J=l=>{le.value=l,E.value=!0,p.value=!0,document.body.style.overflow="hidden"},G=()=>{E.value=!1,p.value=D(),document.body.style.overflow="auto"},I=n(!1),c=n(null),w=n(""),we=l=>{c.value=l,I.value=!0,p.value=!0,w.value="",document.body.style.overflow="hidden"},oe=()=>{I.value=!1,p.value=D(),document.body.style.overflow="auto"},F=n(!1),U=n(!1),P=n(""),ke=async()=>{if(!(!w.value.trim()||!c.value))try{P.value=w.value.trim();const l={timestamp:ee().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:P.value},t=c.value.logs?[...c.value.logs]:[];t.unshift(l),se.value=c.value.id;const u={...c.value,logs:t};await $fetch(M.value+"/api/registrar/"+se.value+"/edit/",{method:"PUT",headers:{"Content-Type":"application/json"},body:u}),c.value.logs=t,w.value="",await re(),F.value=!0}catch(l){console.error("Error adding log:",l)}},ae=()=>{F.value=!1,P.value=""},Ce=async()=>{if(c.value){U.value=!0;try{const l={id:c.value.id,latest_status:P.value};console.log("Sending email data:",l),await $fetch(M.value+"/api/registrar/confirmation/",{method:"POST",headers:{"Content-Type":"application/json"},body:l}),console.log("Email sent successfully"),F.value=!1,P.value=""}catch(l){console.error("Error sending confirmation email:",l)}finally{U.value=!1}}},R=n(""),je=n([{value:"Arts and Sciences, Engineering, Architecture, Computer Studies",label:"Arts and Sciences, Engineering, Architecture, Computer Studies"},{value:"Business-Related Courses, BSTM",label:"Business-Related Courses, BSTM"},{value:"Nursing, and Graduate Studies",label:"Nursing, and Graduate Studies"},{value:"Education Courses, BSHM",label:"Education Courses, BSHM"},{value:"Criminology",label:"Criminology"}]),ie=n(!1);ve(()=>{setTimeout(async()=>{const l=N.user.email,t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","cba.registrar@lsu.edu.ph":"Business-Related Courses, BSTM","onlinerequest@lsu.edu.ph":"Nursing, and Graduate Studies","cte.registrar@lsu.edu.ph":"Education Courses, BSHM","ccje.registra@lsu.edu.ph":"Criminology"},u=["jorenleeluna24@gmail.com","registrar@lsu.edu.ph"],s=[...u,...Object.keys(t)];N.user.isAuthenticated&&s.includes(l)?(u.includes(l)?ie.value=!0:R.value=t[l]||"",await W(),Q.push("/registrar/dashboard"),Se()):Q.push("/unauthorized")},5e3)});let A=null,p=n(!1);const D=()=>I.value||E.value||_.value||V.value,Se=()=>{A&&clearInterval(A),A=Ge(async()=>{p.value=D(),p.value||(await re(),await Me())},dl)},ne=()=>{A&&(clearInterval(A),A=null)},Me=async()=>{try{const l=b.value;if(!l||!Array.isArray(l)||l.length===0)return;const t={},u=[];l.forEach(s=>{if(s.tracking_id)if(t[s.tracking_id]){const $=t[s.tracking_id],r=new Date($.created_at)>new Date(s.created_at)?$.id:s.id;u.push(r)}else t[s.tracking_id]=s});for(const s of u)console.log(`Removing duplicate item with ID: ${s}`),await $fetch(M.value+"/api/registrar/"+s+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});u.length>0&&(console.log(`Removed ${u.length} duplicate entries`),await W())}catch(l){console.error("Error checking for duplicates:",l)}},re=async()=>{try{const l=await $fetch(M.value+"/api/registrar/list").catch(t=>t.data)||[];if(l.length>0&&(h.value.length>0?(h.value=l,Z()):b.value=l,c.value)){const t=l.find(u=>u.id===c.value.id);t&&(c.value=t)}}catch(l){console.error("Error fetching list items quietly:",l)}},W=async()=>{H.value=!0;try{b.value=await $fetch(M.value+"/api/registrar/list").catch(l=>l.data)||[],h.value=[],k.value=""}catch(l){console.error("Error fetching list items:",l)}finally{H.value=!1}};me(()=>{ne()});const Ee=()=>{Q.push("/registrar/login"),N.removeToken()},f=n([]),L=n(!1),de=j(()=>f.value.length===T.value.length&&T.value.length>0),Ie=()=>{de.value?f.value=[]:f.value=T.value.map(l=>l.id)},Ae=()=>{f.value.length!==0&&(_.value=!0,p.value=!0)},De=()=>{_.value=!1,p.value=D()},Le=async()=>{if(f.value.length!==0)try{L.value=!0;for(const l of f.value)await $fetch(M.value+"/api/registrar/"+l+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});console.log(`${f.value.length} items deleted successfully`),f.value=[],await W(),_.value=!1,p.value=D()}catch(l){console.error("Error deleting items:",l)}finally{L.value=!1}};let ue;const X=j(()=>(ue=b.value,ze.orderBy(ue,"created_at","asc"))),H=n(!0),x=n(1),ce=j(()=>Math.ceil(X.value.length/te)),T=j(()=>{const l=(x.value-1)*te,t=l+te;return X.value.slice(l,t)}),Te=j(()=>R.value?T.value.filter(l=>l.college===R.value):T.value),Ve=j(()=>{const l=[];let t=Math.max(1,x.value-Math.floor(K/2)),u=Math.min(ce.value,t+K-1);u-t+1<K&&(t=Math.max(1,u-K+1));for(let s=t;s<=u;s++)l.push(s);return l}),V=n(!1),fe=n(null),$e=l=>{fe.value=l,V.value=!0,p.value=!0,document.body.style.overflow="hidden"},ge=()=>{V.value=!1,p.value=D(),document.body.style.overflow="auto"};ve(()=>{window.addEventListener("keydown",l=>{l.key==="Escape"&&E.value&&G()})}),me(()=>{window.removeEventListener("keydown",l=>{l.key==="Escape"&&E.value&&G()}),ne()});const k=n(""),h=n([]),Z=()=>{if(x.value=1,!k.value.trim()){Be();return}h.value.length===0&&b.value.length>0&&(h.value=[...b.value]),k.value.toLowerCase().trim();const l=h.value.length>0?h.value:b.value;b.value=l.filter(t=>{if(!t)return!1;const u=k.value.toLowerCase().trim();return Object.keys(t).some(s=>typeof t[s]=="string"?t[s].toLowerCase().includes(u):!1)}),f.value=[]},Be=()=>{h.value.length>0&&(b.value=[...h.value],h.value=[]),k.value="",x.value=1,f.value=[]},Y=j(()=>!c.value?.logs||!Array.isArray(c.value.logs)?[]:[...c.value.logs].sort((l,t)=>{const u=ee(l.timestamp,"MMMM DD, YYYY h:mm:ss A"),s=ee(t.timestamp,"MMMM DD, YYYY h:mm:ss A");return u.valueOf()-s.valueOf()}));return(l,t)=>{const u=Ne;return a(),o("div",null,[e("div",Fe,[y(e("div",He,[e("div",Ke,[e("div",Qe,[e("div",Je,[t[11]||(t[11]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",We,i(d(N).user.email),1)]),e("div",{onClick:t[0]||(t[0]=s=>he(v)?v.value=!d(v):v=!d(v)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:m(["fa text-3xl text-white",d(v)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[12]||(t[12]=xe('<div class=""><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto"></div><div class="text-center"><h1 class="font-bold text-green-800 text-2xl">Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/registrar/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1))])],512),[[pe,d(v)]]),e("div",Xe,[e("div",Ze,[e("div",et,[e("div",{onClick:t[1]||(t[1]=s=>he(v)?v.value=!d(v):v=!d(v)),class:"w-auto flex items-center lg:px-1.5"},[e("i",{class:m(["fa text-3xl text-white",d(v)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),t[13]||(t[13]=e("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Registrar ",-1))]),e("button",{onClick:Ee,class:"flex hover:font-bold pt-1"},[...t[14]||(t[14]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)])])])]),e("div",tt,[e("div",st,[y(e("div",null,[t[52]||(t[52]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),e("div",lt,[e("div",ot,[e("div",at,[e("div",it,[e("button",{onClick:Ie,class:"whitespace-nowrap flex items-center px-2 bg-gray-200 hover:bg-gray-300 text-gray-700 lg:px-3 pr-2 py-1.5 rounded-md transition-colors duration-200 lg:text-sm text-xs"},i(d(de)?"Deselect All":"Select All"),1)]),e("div",{class:m(f.value.length===0?"hidden":"")},[e("button",{onClick:Ae,class:m(["flex items-center hover:bg-red-600 text-white px-3 lg:py-1 py-0.5 rounded-md transition-colors duration-200 disabled:opacity-50 whitespace-nowrap",f.value.length===0?"bg-pink-200":"bg-red-500"]),disabled:f.value.length===0},[t[15]||(t[15]=e("i",{class:"fa fa-trash mr-2"},null,-1)),S(" ("+i(f.value.length)+") ",1)],10,nt)],2)]),ie.value?(a(),o("div",rt,[y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>R.value=s),class:"lg:px-3 px-1 lg:py-1.5 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs"},[t[16]||(t[16]=e("option",{value:""},"All Colleges",-1)),(a(!0),o(q,null,O(je.value,s=>(a(),o("option",{key:s.value,value:s.value},i(s.label),9,dt))),128))],512),[[ye,R.value]])])):g("",!0),e("div",ut,[e("div",ct,[y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>k.value=s),type:"search",placeholder:"Search",class:"lg:px-3 px-2 lg:py-1.5 py-1 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs",onKeyup:Re(Z,["enter"])},null,544),[[z,k.value]]),e("button",{onClick:Z,class:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-green-600"},[...t[17]||(t[17]=[e("i",{class:"fa fa-search"},null,-1)])])])]),t[18]||(t[18]=e("div",null,[e("button",null,"Export CSV")],-1))])]),e("div",ft,[e("div",gt,[H.value?(a(),o("div",vt,[...t[19]||(t[19]=[xe('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)])])):(a(),o("div",mt,[d(T).length>0?(a(),o("div",pt,[(a(!0),o(q,null,O(d(Te),(s,$)=>(a(),o("div",{class:"flex items-center h-auto shadow lg:mb-0 mb-3 border-gray-200",key:$},[e("div",xt,[e("div",ht,[y(e("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":t[4]||(t[4]=r=>f.value=r),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"},null,8,yt),[[Ye,f.value]])])]),e("div",{class:m(["w-full px-2 py-1.5 border-l lg:flex items-center",$%2?"bg-gray-100":""])},[e("div",bt,[e("div",_t,[e("div",wt,[e("div",kt,[t[20]||(t[20]=e("span",{class:"mr-1"},"Tracking ID:",-1)),e("span",Ct,i(s.tracking_id),1)])])])]),e("div",jt,[e("div",St,[e("div",{class:"w-full cursor-pointer text-xs cursor font-bold uppercase text-green-800 bg-green-50 hover:bg-green-900 hover:text-white py-1 px-1 flex items-center",onClick:r=>$e(s)},[t[21]||(t[21]=e("i",{class:"fa fa-user mr-2.5"},null,-1)),S(" "+i(s.lastname)+", "+i(s.firstname)+" "+i(s.middlename),1)],8,Mt)]),V.value&&fe.value===s?(a(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:ge},[e("div",{class:m(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":V.value,"scale-95 opacity-0":!V.value}]),onClick:t[5]||(t[5]=B(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[23]||(t[23]=e("h3",{class:"text-lg font-medium text-gray-900"}," Personal Information ",-1)),e("button",{onClick:ge,class:"text-gray-400 hover:text-gray-500"},[...t[22]||(t[22]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",Et,[e("div",It,[t[24]||(t[24]=e("div",{class:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0"},[e("i",{class:"fa fa-user text-green-600"})],-1)),e("div",At,[e("p",Dt,i(s.firstname)+" "+i(s.middlename)+" "+i(s.lastname),1),e("p",Lt," Tracking ID: "+i(s.tracking_id),1)])]),e("div",Tt,[e("div",Vt,[e("div",$t,[t[26]||(t[26]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-envelope"})],-1)),e("div",Bt,[t[25]||(t[25]=e("p",{class:"font-medium text-gray-900"}," Email ",-1)),e("p",Nt,i(s.email),1)])]),e("div",Ut,[t[28]||(t[28]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-phone"})],-1)),e("div",Pt,[t[27]||(t[27]=e("p",{class:"font-medium text-gray-900"}," Contact Number ",-1)),e("p",Rt,i(s.contact_number),1)])]),e("div",Yt,[t[30]||(t[30]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-birthday-cake"})],-1)),e("div",qt,[t[29]||(t[29]=e("p",{class:"font-medium text-gray-900"}," Date of Birth ",-1)),e("p",Ot,i(s.birthdate),1)])]),e("div",zt,[t[32]||(t[32]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-female"})],-1)),e("div",Gt,[t[31]||(t[31]=e("p",{class:"font-medium text-gray-900"}," Mother's Maiden Name ",-1)),e("p",Ft,i(s.mother_maiden_name),1)])]),e("div",Ht,[t[34]||(t[34]=e("label",{for:"alumni",class:"font-bold text-gray-800 mr-1"},"ICC / LSU Graduate? :",-1)),e("div",Kt,[y(e("select",{class:"border-b w-full mx-auto text-xs px-1 shadow-sm","onUpdate:modelValue":r=>s.alumni=r},[...t[33]||(t[33]=[e("option",{value:"yes"},"Alumnus",-1),e("option",{value:"no"}," Non-Alumnus ",-1)])],8,Qt),[[ye,s.alumni]])])]),e("div",Jt,[t[35]||(t[35]=e("label",{for:"college",class:"font-bold text-gray-800 mr-1"},"College:",-1)),e("div",Wt,[y(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"College","onUpdate:modelValue":r=>s.college=r},null,8,Xt),[[z,s.college]])])]),e("div",Zt,[t[36]||(t[36]=e("label",{for:"course",class:"font-bold text-gray-800 mr-1"},"Course:",-1)),e("div",es,[y(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"Course","onUpdate:modelValue":r=>s.course=r},null,8,ts),[[z,s.course]])])]),e("div",ss,[t[37]||(t[37]=e("label",{for:"year_graduated_last_attended",class:"font-bold text-gray-800 whitespace-nowrap mr-1"}," A.Y. Graduated | Attended:",-1)),e("div",ls,[y(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"Year Graduated or Last Attended","onUpdate:modelValue":r=>s.year_graduated_last_attended=r},null,8,os),[[z,s.year_graduated_last_attended]])])])])])])],2)])):g("",!0),I.value&&c.value===s?(a(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:oe},[e("div",{class:m(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":I.value,"scale-95 opacity-0":!I.value}]),onClick:t[7]||(t[7]=B(()=>{},["stop"]))},[e("div",as,[e("h3",is," Status Logs - "+i(c.value?.tracking_id||"N/A"),1),e("button",{onClick:oe,class:"text-gray-400 hover:text-gray-500"},[...t[38]||(t[38]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",ns,[!c.value?.logs||c.value.logs.length===0?(a(),o("div",rs," No logs available ")):(a(),o("div",ds,[(a(!0),o(q,null,O(d(Y),(r,C)=>(a(),o("div",{key:C,class:m(["border-l-4 rounded-r text-[10px]",C===d(Y).length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[e("div",us,[e("div",{class:m(["font-medium",C===d(Y).length-1?"text-green-800 text-sm":"text-gray-500"])},[e("div",{class:m(["w-full bg-transparent border-b focus:outline-none px-1",C===d(Y).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},i(r.status_remarks),3)],2),e("div",cs,[e("div",{class:m(["bg-transparent border-b focus:outline-none px-1 text-right",C===d(Y).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},i(r.timestamp),3)])])],2))),128))]))]),e("div",fs,[e("div",gs,[e("div",null,[t[39]||(t[39]=e("label",{for:"status_remarks",class:"block text-sm font-medium text-gray-700 mb-1"},"Status / Remarks",-1)),y(e("textarea",{id:"status_remarks","onUpdate:modelValue":t[6]||(t[6]=r=>w.value=r),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Enter status update..."},null,512),[[z,w.value]])]),e("div",vs,[e("button",{onClick:ke,disabled:!w.value.trim(),class:"inline-flex justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[...t[40]||(t[40]=[e("i",{class:"fa fa-plus mr-2"},null,-1),S(" Add ",-1)])],8,ms)]),be(Oe,{appear:"",name:"fade"},{default:qe(()=>[F.value?(a(),o("div",ps,[e("div",xs,[e("div",{class:"fixed inset-0 bg-black bg-opacity-25",onClick:ae}),e("div",hs,[t[45]||(t[45]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900"}," Send Status Update Email ",-1)),e("div",ys,[t[44]||(t[44]=e("p",{class:"text-sm text-gray-500"}," Would you like to notify the applicant about this status update via email? ",-1)),e("div",bs,[e("div",_s,[t[43]||(t[43]=e("div",{class:"flex-shrink-0"},[e("i",{class:"fa fa-info-circle text-yellow-400"})],-1)),e("div",ws,[e("p",ks,[t[41]||(t[41]=S(" This will send an email to ",-1)),e("span",Cs,i(c.value?.email),1),t[42]||(t[42]=S(" with the latest status information. ",-1))])])])])]),e("div",js,[e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2",onClick:ae}," No, Skip Email "),e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:Ce,disabled:U.value},[U.value?(a(),o("i",Es)):(a(),o("i",Ms)),S(" "+i(U.value?"Sending...":"Yes, Send Email"),1)],8,Ss)])])])])):g("",!0)]),_:1})])])],2)])):g("",!0),e("div",Is,[e("div",As,[t[46]||(t[46]=e("div",{class:"font-bold text-[10px] mr-1 text-center"}," IDs and Documents: ",-1)),e("div",Ds,[s?(a(),o("span",Ls,[s.valid_id_front?.[0]?.url?.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(a(),o("a",{key:0,onClick:B(r=>J(s.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?.[0]),["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[e("img",{src:s.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?.[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Vs)],8,Ts)):g("",!0),s.valid_id_back?.[0]?.url?.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(a(),o("a",{key:1,onClick:B(r=>J(s.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?.[0]),["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[e("img",{src:s.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?.[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Bs)],8,$s)):g("",!0),s.credential_evaluation_requests?.[0]?.url?.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(a(),o("a",{key:2,onClick:B(r=>J(s.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?.[0]),["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[e("img",{src:s.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?.[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Us)],8,Ns)):g("",!0)])):g("",!0)])])])]),e("div",Ps,[e("div",Rs,[e("div",Ys,[t[47]||(t[47]=e("span",{class:"font-bold"},"Requested Documents:",-1)),e("ul",qs,[(a(!0),o(q,null,O(s.type_document_requests,(r,C)=>(a(),o("li",{class:"leading-[10px] text-[9px]",key:C},i(r),1))),128))])])])]),e("div",Os,[s.details?(a(),o("div",zs,[e("div",Gs,[t[48]||(t[48]=e("span",{class:"font-bold mr-1"},"Note:",-1)),e("span",Fs,i(s.details),1)])])):g("",!0),e("div",Hs,[e("button",{class:"w-full whitespace-nowrap text-green-700 cursor-pointer bg-white border shadow-lg border-green-500 hover:bg-green-800 px-5 pt-1 pb-1 hover:text-white font-bold rounded-full uppercase",onClick:r=>we(s)}," Status ("+i(s.logs?s.logs.length:0)+") ",9,Ks)])])],2)]))),128)),E.value?(a(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:G},[e("div",{class:"relative max-w-4xl max-h-[90vh] overflow-auto bg-white p-2 rounded-lg",onClick:t[8]||(t[8]=B(()=>{},["stop"]))},[e("button",{onClick:G,class:"absolute top-2 right-2 text-gray-700 hover:text-red-500 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-md"},[...t[49]||(t[49]=[e("i",{class:"fa fa-close"},null,-1)])]),e("img",{src:le.value,class:"max-w-full max-h-[85vh] object-contain"},null,8,Qs)])])):g("",!0),d(_)?(a(),o("div",Js,[e("div",{class:m(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":d(_),"scale-95 opacity-0":!d(_)}])},[e("div",Ws,[t[50]||(t[50]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[e("i",{class:"fa fa-exclamation-triangle text-red-600 text-xl"})],-1)),t[51]||(t[51]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Confirm Deletion ",-1)),e("p",Xs," Are you sure you want to delete "+i(f.value.length===1?"this record":"these "+f.value.length+" records")+"? This action cannot be undone. ",1)]),e("div",Zs,[e("button",{onClick:Le,class:"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:L.value},[L.value?(a(),o("i",tl)):g("",!0),S(" "+i(L.value?"Deleting...":"Delete"),1)],8,el),e("button",{onClick:De,class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:L.value}," Cancel ",8,sl)])],2)])):g("",!0)])):g("",!0),d(X).length>0?(a(),o("div",ll,[e("button",{disabled:x.value===1,onClick:t[9]||(t[9]=s=>x.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,ol),(a(!0),o(q,null,O(d(Ve),s=>(a(),o("button",{key:s,onClick:$=>x.value=s,class:m(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":x.value===s,"bg-gray-200":x.value!==s}])},i(s),11,al))),128)),e("button",{disabled:x.value===d(ce),onClick:t[10]||(t[10]=s=>x.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,il)])):H.value?g("",!0):(a(),o("div",nl," No items found! "))]))])])],512),[[pe,d(_e)]])])])])]),e("div",rl,[be(u)])])}}};export{pl as default};
