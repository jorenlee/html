import{_ as Xe}from"./MIYRIPZK.js";import{k as Je,l as Ze,r as n,p as et,K as Ae,m as E,D as te,c as i,a as e,f as x,i as De,h as u,e as Me,t as r,X as Ee,n as p,j as S,d as _,F,g as Y,y as xe,aa as tt,v as j,q as Ie,b as Le,o as d,s as st,w as lt,ab as ot}from"./D26-ogeZ.js";import{_ as at}from"./5JjjnmY2.js";import{h as se}from"./C5S46NFB.js";const nt={class:"h-screen flex"},rt={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},it={class:"w-full"},dt={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},ut={class:"flex items-center w-full px-2"},ct={class:"text-sm"},ft={class:"w-full overflow-y-scroll"},vt={class:"bg-green-800 fixed w-full z-10"},gt={class:"flex mx-auto justify-between py-2 px-3.5"},mt={key:0,class:"w-11/12 mx-auto shadow-lg border-2 border-green-600 rounded-lg mt-20"},pt={class:"flex border-b font-bold border-green-800 uppercase"},xt={class:"flex"},bt={class:"w-7/12 text-left px-36"},ht={class:"text-xs text-gray-500"},yt={class:"w-2/12 text-center"},wt={class:"w-2/12 text-center"},_t={class:"w-2/12 text-center"},kt={class:""},Ct={class:"w-full lg:p-5 px-2 py-2"},St={class:"w-full flex justify-between items-center mb-4 px-2 py-2 bg-white shadow rounded-md"},jt={class:"lg:flex justify-between w-full gap-x-3"},At={class:"flex justify-between gap-x-2"},Dt={class:""},Mt=["disabled"],Et={key:0,class:"flex items-center lg:my-0 my-2"},It=["value"],Lt={class:"flex gap-x-2"},Tt={class:"flex items-center w-full lg:mt-0 mt-2"},Pt={class:"relative w-full"},Rt={class:""},$t={class:"appointment-lists mx-auto text-xs"},Ut={key:0,class:"text-center"},Vt={key:1},Bt={key:0,class:"gap-4"},Nt={class:"w-fit flex px-2"},Ft={class:""},Yt=["value"],Ot={class:"w-full flex items-center"},zt={class:"w-full"},Gt={class:"w-full lg:px-3 lg:flex items-center"},qt={class:"text-[10px] font-light whitespace-nowrap"},Ht={class:"font-bold"},Kt={class:"w-full"},Qt={class:"w-full my-1"},Wt={class:"w-full text-xs font-bold uppercase text-green-800 py-1 px-1 flex items-center"},Xt={class:"flex justify-between items-center mb-4 border-b pb-3"},Jt={class:"text-lg font-medium text-gray-900"},Zt={class:"mb-6 max-h-[40vh] overflow-y-auto"},es={key:0,class:"text-center text-gray-500 py-4"},ts={key:1,class:"space-y-3"},ss={class:"flex items-center justify-between capitalize gap-x-3"},ls={class:"text-gray-500 w-3/12"},os={class:"border-t pt-4"},as={class:"space-y-3"},ns={class:"flex justify-end gap-2"},rs=["disabled"],is={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ds={class:"flex min-h-full items-center justify-center p-4 text-center"},us={class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},cs={class:"mt-2"},fs={class:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4"},vs={class:"flex"},gs={class:"ml-3"},ms={class:"text-sm text-yellow-700"},ps={class:"font-medium"},xs={class:"mt-4 flex justify-end gap-2"},bs=["disabled"],hs={key:0,class:"fa fa-paper-plane mr-2"},ys={key:1,class:"fa fa-spinner fa-spin mr-2"},ws={class:"bg-white rounded-lg w-full space-y-2"},_s={class:"flex items-center"},ks={class:"ml-3 text-sm w-full"},Cs={class:"text-xs shadow-md py-1 px-2"},Ss={class:"flex items-center"},js={class:"ml-3 text-sm w-full"},As={class:"text-xs shadow-md py-1 px-2"},Ds={class:"flex items-center"},Ms={class:"ml-3 text-sm w-full"},Es={class:"text-xs shadow-md py-1 px-2"},Is={class:"flex items-center"},Ls={class:"ml-3 text-sm w-full"},Ts={class:"text-xs shadow-md py-1 px-2"},Ps={class:"flex items-center"},Rs={class:"ml-3 text-sm w-full"},$s={class:"text-xs shadow-md py-1 px-2"},Us={class:"flex items-center"},Vs={class:"ml-3 text-sm w-full"},Bs={class:"text-xs shadow-md py-1 px-2"},Ns={class:"flex items-center"},Fs={class:"ml-3 text-sm w-full"},Ys=["onUpdate:modelValue"],Os={class:"flex items-center"},zs={class:"ml-3 text-sm w-full"},Gs=["onUpdate:modelValue"],qs={class:"flex items-center"},Hs={class:"ml-3 text-sm w-full"},Ks=["onUpdate:modelValue"],Qs={class:"flex items-center"},Ws={class:"ml-3 text-sm w-full"},Xs=["onUpdate:modelValue"],Js={class:"border-4 border-[#eeeeee] px-3 py-3 my-3 rounded-lg"},Zs={class:"flex w-full gap-x-3"},el={class:"flex items-center mb-2 w-full"},tl={class:"text-sm w-full"},sl={class:"flex items-center mb-2 w-full"},ll={class:"text-sm w-full"},ol={class:"flex items-center mb-2"},al={class:"text-sm w-full"},nl={class:"flex flex-col items-start w-fit mx-auto"},rl={class:"text-sm w-full"},il=["for"],dl=["id","onUpdate:modelValue"],ul=["for"],cl=["id","onUpdate:modelValue"],fl=["onClick"],vl={class:"w-full"},gl={key:0,class:"w-full lg:block flex items-center lg:py-0 py-2"},ml={class:"text-[10px] font-light whitespace-nowrap"},pl={class:""},xl={class:"lg:w-fit w-full flex items-center justify-center py-1 gap-x-3"},bl=["onClick"],hl=["src"],yl={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300"},wl={class:"text-center"},_l={class:"text-sm text-gray-500 mb-6"},kl={class:"flex justify-center gap-4"},Cl=["disabled"],Sl={key:0,class:"fa fa-spinner fa-spin mr-2"},jl=["disabled"],Al={key:1,class:"flex justify-center my-4 pb-10"},Dl=["disabled"],Ml=["onClick"],El=["disabled"],Il={key:2,class:"text-center my-5"},Ll={class:"fixed bottom-0 w-full"},Tl=1e3,be=500,le=4,Bl={__name:"index",setup(Pl){const oe=Je(),I=Ze(),k=n([]);let Te=n(!0),b=n(!1),L=n(!1);const T=n(I.mainDevServer);let he=n(null);const A=n("all"),O=n(!1),Pe=n(""),W=()=>{O.value=!1,U.value=V(),document.body.style.overflow="auto"},R=n(!1),f=n(null),D=n(""),ae=n(""),Re=l=>{f.value=l,R.value=!0,U.value=!0,D.value="",document.body.style.overflow="hidden",m.value.fullname=`${l.firstname} ${l.middlename} ${l.lastname}`,m.value.email=l.email,m.value.course=l.course;const t=l.type_document_requests||[],o=l.details||[];m.value.detail_fees=t.map((s,c)=>{var g;return{fee_name:s,amount:((g=o[c])==null?void 0:g.amount)||""}}),console.log("Mapped Detail Fees:",m.value.detail_fees)},ye=()=>{R.value=!1,U.value=V(),document.body.style.overflow="auto"},X=n(!1),z=n(!1),G=n(""),$e=async()=>{if(!(!D.value.trim()||!f.value))try{G.value=D.value.trim();const l={timestamp:se().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:G.value},t=f.value.logs?[...f.value.logs]:[];t.unshift(l),he.value=f.value.id;const o={...f.value,logs:t};await $fetch(T.value+"/api/registrar/"+he.value+"/edit/",{method:"PUT",headers:{"Content-Type":"application/json"},body:o}),f.value.logs=t,D.value="",await ke(),X.value=!0}catch(l){console.error("Error adding log:",l)}},we=()=>{X.value=!1,G.value=""},Ue=async()=>{if(f.value){z.value=!0;try{const l={id:f.value.id,latest_status:G.value};console.log("Sending email data:",l),await $fetch(T.value+"/api/registrar/confirmation/",{method:"POST",headers:{"Content-Type":"application/json"},body:l}),console.log("Email sent successfully"),X.value=!1,G.value=""}catch(l){console.error("Error sending confirmation email:",l)}finally{z.value=!1}}},M=n(""),ne=n([{value:"Arts and Sciences, Engineering, Architecture, Computer Studies",label:"Arts and Sciences, Engineering, Architecture, Computer Studies"},{value:"Business-Related Courses, BSTM",label:"Business-Related Courses, BSTM"},{value:"Nursing, and Graduate Studies",label:"Nursing, and Graduate Studies"},{value:"Education Courses, BSHM",label:"Education Courses, BSHM"},{value:"Criminology",label:"Criminology"}]),y=n(null),w=n("asc"),_e=n(!1);et(async()=>{const l=I.user.email,t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","cba.registrar@lsu.edu.ph":"Business-Related Courses, BSTM","onlinerequest@lsu.edu.ph":"Nursing, and Graduate Studies","cte.registrar@lsu.edu.ph":"Education Courses, BSHM","ccje.registra@lsu.edu.ph":"Criminology"},o=["jorenleeluna24@gmail.com","registrar@lsu.edu.ph","jason.yap@lsu.edu.ph"],s=[...o,...Object.keys(t)];window.addEventListener("keydown",c=>{c.key==="Escape"&&O.value&&W()}),I.user.isAuthenticated&&s.includes(l)?(o.includes(l)?_e.value=!0:M.value=t[l]||"",await de(),oe.push("/registrar/dashboard"),ie()):oe.push("/unauthorized")});let $=null,U=n(!1),re=n(!1);const V=()=>R.value||O.value||L.value||qe.value,ie=()=>{$&&clearInterval($),$=setInterval(async()=>{!V()&&!re.value&&(await ke(),await Ve())},Tl)},J=()=>{$&&(clearInterval($),$=null)},Ve=async()=>{J();try{const l=k.value;if(!l||!Array.isArray(l)||l.length===0)return;const t={},o=[];l.forEach(s=>{if(s.tracking_id)if(t[s.tracking_id]){const c=t[s.tracking_id],g=new Date(c.created_at)>new Date(s.created_at)?c.id:s.id;o.push(g)}else t[s.tracking_id]=s});for(const s of o)console.log(`Removing duplicate item with ID: ${s}`),await $fetch(T.value+"/api/registrar/"+s+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});o.length>0&&(console.log(`Removed ${o.length} duplicate entries`),await de())}catch(l){console.error("Error checking for duplicates:",l)}finally{ie()}},ke=async()=>{try{const l=await $fetch(T.value+"/api/registrar/list").catch(t=>t.data)||[];if(l.length>0&&(P.value.length>0?(P.value=l,me()):k.value=l),f.value){const t=l.find(o=>o.id===f.value.id);t&&(f.value=t)}}catch(l){console.error("Error fetching list items quietly:",l)}},de=async()=>{Z.value=!0;try{const l=await $fetch(T.value+"/api/registrar/list").catch(t=>(console.error("Fetch error:",t),[]));k.value=Array.isArray(l)?l:[],P.value=[],K.value=""}catch(l){console.error("Error fetching list items:",l),k.value=[]}finally{Z.value=!1}};Ae(()=>{J()});const Be=()=>{oe.push("/registrar/login"),I.removeToken()},v=n([]),B=n(!1),ue=E(()=>v.value.length===H.value.length&&H.value.length>0),Ne=()=>{console.log("selectAllItems called"),console.log("allSelected.value:",ue.value),J(),re.value=!0,ue.value?v.value=[]:(console.log("filteredByCollege.value:",H.value),v.value=H.value.map(l=>l.id)),console.log("selectedItems.value:",v.value),ie(),re.value=!1},Fe=()=>{v.value.length!==0&&(L.value=!0,U.value=!0)},Ye=()=>{L.value=!1,U.value=V()},Oe=async()=>{if(v.value.length!==0)try{B.value=!0;for(const l of v.value)await $fetch(T.value+"/api/registrar/"+l+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});console.log(`${v.value.length} items deleted successfully`),v.value=[],await de(),L.value=!1,U.value=V()}catch(l){console.error("Error deleting items:",l)}finally{B.value=!1}},N=E(()=>{let l=[...k.value];return A.value==="done"?l=l.filter(t=>{var o;return(o=t.logs)==null?void 0:o.some(s=>{var g;return(((g=s==null?void 0:s.status_remarks)==null?void 0:g.toLowerCase())||"").includes("transaction closed")})}):A.value==="pending"&&(l=l.filter(t=>{var o;return(o=t.logs)==null?void 0:o.every(s=>{var g;return!(((g=s==null?void 0:s.status_remarks)==null?void 0:g.toLowerCase())||"").includes("transaction closed")})})),at.orderBy(l,"created_at","asc")}),ce=l=>N.value.filter(t=>{var o;return t.college===l&&((o=t.logs)==null?void 0:o.some(s=>{var g;return(((g=s==null?void 0:s.status_remarks)==null?void 0:g.toLowerCase())||"").includes("transaction closed")}))}).length,fe=l=>N.value.filter(t=>{var o;return t.college===l&&((o=t.logs)==null?void 0:o.every(s=>{var g;return!(((g=s==null?void 0:s.status_remarks)==null?void 0:g.toLowerCase())||"").includes("transaction closed")}))}).length,ve=l=>N.value.filter(t=>t.college===l).length,ge=l=>{y.value===l?w.value=w.value==="asc"?"desc":"asc":(y.value=l,w.value="asc"),ne.value.sort((t,o)=>{let s,c;return l==="Pending"?(s=fe(t.value),c=fe(o.value)):l==="Done"?(s=ce(t.value),c=ce(o.value)):l==="Total"?(s=ve(t.value),c=ve(o.value)):(s=t.label,c=o.label),s<c?w.value==="asc"?-1:1:s>c?w.value==="asc"?1:-1:0})},ze=l=>{const t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","cba.registrar@lsu.edu.ph":"Business-Related Courses, BSTM","onlinerequest@lsu.edu.ph":"Nursing, and Graduate Studies","cte.registrar@lsu.edu.ph":"Education Courses, BSHM","ccje.registra@lsu.edu.ph":"Criminology"};return Object.keys(t).filter(o=>t[o]===l)},Z=n(!0),C=n(1),Ce=E(()=>Math.ceil(N.value.length/be)),q=E(()=>{const l=(C.value-1)*be,t=l+be;return N.value.slice(l,t)}),H=E(()=>{if(console.log("filteredByCollege computed"),console.log("selectedCollege.value:",M.value),console.log("paginatedListItems.value:",q.value),!M.value||!M.value)return q.value;const l=q.value.filter(t=>t.college===M.value);return console.log("filtered:",l),l}),Ge=E(()=>{const l=[];let t=Math.max(1,C.value-Math.floor(le/2)),o=Math.min(Ce.value,t+le-1);o-t+1<le&&(t=Math.max(1,o-le+1));for(let s=t;s<=o;s++)l.push(s);return l}),qe=n(!1);Ae(()=>{window.removeEventListener("keydown",l=>{l.key==="Escape"&&O.value&&W()}),J()});const K=n(""),P=n([]),me=()=>{C.value=1,P.value.length===0&&k.value.length>0&&(P.value=[...k.value]),K.value.toLowerCase().trim();const l=P.value.length>0?P.value:k.value;k.value=l.filter(t=>{if(!t)return!1;const o=K.value.toLowerCase().trim();return Object.keys(t).some(s=>typeof t[s]=="string"?t[s].toLowerCase().includes(o):!1)}),v.value=[]},Q=E(()=>{var l;return!((l=f.value)!=null&&l.logs)||!Array.isArray(f.value.logs)?[]:[...f.value.logs].sort((t,o)=>{const s=se(t.timestamp,"MMMM DD, YYYY h:mm:ss A"),c=se(o.timestamp,"MMMM DD, YYYY h:mm:ss A");return s.valueOf()-c.valueOf()})});te(k,l=>{console.log("listItems updated:",l)}),te(M,()=>{v.value=[]}),te(A,()=>{v.value=[]});const He=E(()=>I.user.email==="jorenleeluna24@gmail.com"||I.user.email==="registrar@lsu.edu.ph"),m=n({payment_id:"PID"+se().valueOf(),fullname:"",email:"",course:"",date_graduated_last_attended:"",total:"0",detail_fees:[]}),Ke=()=>{m.value.detail_fees.push({fee_name:"",amount:""}),pe()},Qe=l=>{m.value.detail_fees.splice(l,1),pe()},pe=()=>{let l=0;m.value.detail_fees.forEach(o=>{l+=Number((o.amount||0).toString())});const t=l.toFixed(2);m.value.total=t};te(()=>m.value.detail_fees,()=>pe(),{deep:!0});const We=async()=>{try{await $fetch(T.value+"/api/registrar/payment/fees/",{method:"POST",headers:{"Content-Type":"application/json"},body:m.value})}catch(l){console.error("Error sending email:",l)}};return(l,t)=>{const o=Xe;return d(),i("div",null,[e("div",nt,[x(e("div",rt,[e("div",it,[e("div",dt,[e("div",ut,[t[21]||(t[21]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",ct,r(u(I).user.email),1)]),e("div",{onClick:t[0]||(t[0]=s=>Ee(b)?b.value=!u(b):b=!u(b)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:p(["fa text-3xl text-white",u(b)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[22]||(t[22]=Me('<div class=""><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto"></div><div class="text-center"><h1 class="font-bold text-green-800 text-2xl">Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/registrar/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1))])],512),[[De,u(b)]]),e("div",ft,[e("div",vt,[e("div",gt,[e("div",{onClick:t[1]||(t[1]=s=>Ee(b)?b.value=!u(b):b=!u(b)),class:"w-auto flex items-center lg:px-1.5"},[e("i",{class:p(["fa text-3xl text-white",u(b)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),t[23]||(t[23]=e("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Registrar ",-1))]),e("button",{onClick:Be,class:"flex hover:font-bold pt-1"},t[24]||(t[24]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)]))])]),u(He)?(d(),i("div",mt,[e("div",null,[e("ul",pt,[t[28]||(t[28]=e("li",{class:"w-7/12 px-36 text-left"},"Department",-1)),e("li",{onClick:t[2]||(t[2]=s=>ge("Pending")),class:"w-2/12 text-center cursor-pointer"},[t[25]||(t[25]=_(" Pending ")),e("i",{class:p({"fa fa-sort-up":y.value==="Pending"&&w.value==="asc","fa fa-sort-down":y.value==="Pending"&&w.value==="desc","fa fa-sort":y.value!=="Pending"})},null,2)]),e("li",{onClick:t[3]||(t[3]=s=>ge("Done")),class:"w-2/12 text-center cursor-pointer"},[t[26]||(t[26]=_(" Done ")),e("i",{class:p({"fa fa-sort-up":y.value==="Done"&&w.value==="asc","fa fa-sort-down":y.value==="Done"&&w.value==="desc","fa fa-sort":y.value!=="Done"})},null,2)]),e("li",{onClick:t[4]||(t[4]=s=>ge("Total")),class:"w-2/12 text-center cursor-pointer"},[t[27]||(t[27]=_(" Total ")),e("i",{class:p({"fa fa-sort-up":y.value==="Total"&&w.value==="asc","fa fa-sort-down":y.value==="Total"&&w.value==="desc","fa fa-sort":y.value!=="Total"})},null,2)])])]),e("div",null,[e("ul",null,[(d(!0),i(F,null,Y(ne.value,s=>(d(),i("li",{class:"border-b",key:s.value},[e("ul",xt,[e("li",bt,[_(r(s.label)+" ",1),e("div",ht,r(ze(s.value).join(", ")),1)]),e("li",yt,r(fe(s.value)),1),e("li",wt,r(ce(s.value)),1),e("li",_t,r(ve(s.value)),1)])]))),128))])])])):S("",!0),e("div",kt,[e("div",Ct,[x(e("div",null,[t[81]||(t[81]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),e("div",St,[e("div",jt,[e("div",At,[e("div",Dt,[e("button",{onClick:Ne,class:"whitespace-nowrap flex items-center px-2 bg-gray-200 hover:bg-gray-300 text-gray-700 lg:px-3 pr-2 py-1.5 rounded-md transition-colors duration-200 lg:text-sm text-xs"},r(u(ue)?"Deselect All":"Select All"),1)]),e("div",{class:p(v.value.length===0?"hidden":"")},[e("button",{onClick:Fe,class:p(["flex items-center hover:bg-red-600 text-white px-3 lg:py-1 py-0.5 rounded-md transition-colors duration-200 disabled:opacity-50 whitespace-nowrap",v.value.length===0?"bg-pink-200":"bg-red-500"]),disabled:v.value.length===0},[t[29]||(t[29]=e("i",{class:"fa fa-trash mr-2"},null,-1)),_(" ("+r(v.value.length)+") ",1)],10,Mt)],2)]),_e.value?(d(),i("div",Et,[x(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>M.value=s),class:"lg:px-3 px-1 lg:py-1.5 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs"},[t[30]||(t[30]=e("option",{value:""},"All Colleges",-1)),(d(!0),i(F,null,Y(ne.value,s=>(d(),i("option",{key:s.value,value:s.value},r(s.label),9,It))),128))],512),[[xe,M.value]])])):S("",!0),e("div",Lt,[e("button",{onClick:t[6]||(t[6]=s=>A.value="all"),class:p(["px-2 py-1 rounded-xl border",A.value==="all"?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white"])}," All ",2),e("button",{onClick:t[7]||(t[7]=s=>A.value="pending"),class:p(["px-2 py-1 rounded-xl border",A.value==="pending"?"bg-red-600 text-white border-red-600":"bg-white text-red-600 border-red-600 hover:bg-red-600 hover:text-white"])}," Pending ",2),e("button",{onClick:t[8]||(t[8]=s=>A.value="done"),class:p(["px-2 py-1 rounded-xl border",A.value==="done"?"bg-green-600 text-white border-green-600":"bg-white text-green-600 border-green-600 hover:bg-green-600 hover:text-white"])}," Done ",2)]),e("div",Tt,[e("div",Pt,[x(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>K.value=s),type:"search",placeholder:"Search",class:"lg:px-3 px-2 lg:py-1.5 py-1 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs",onKeyup:tt(me,["enter"])},null,544),[[j,K.value]]),e("button",{onClick:me,class:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-green-600"},t[31]||(t[31]=[e("i",{class:"fa fa-search"},null,-1)]))])])])]),e("div",Rt,[e("div",$t,[Z.value?(d(),i("div",Ut,t[32]||(t[32]=[Me('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(d(),i("div",Vt,[u(q).length>0?(d(),i("div",Bt,[(d(!0),i(F,null,Y(u(H),(s,c)=>{var g,Se,je;return d(),i("div",{class:"flex items-center h-auto shadow lg:mb-0 mb-3 border-gray-200",key:c},[e("div",Nt,[e("div",Ft,[x(e("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":t[10]||(t[10]=a=>v.value=a),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"},null,8,Yt),[[st,v.value]])])]),e("div",{class:p(["w-full px-2 py-1.5 border-l lg:flex items-center",c%2?"bg-gray-100":""])},[e("div",Ot,[e("div",zt,[e("div",Gt,[e("div",qt,[t[33]||(t[33]=e("span",{class:"mr-1"},"Tracking ID:",-1)),e("span",Ht,r(s.tracking_id),1)])])])]),e("div",Kt,[e("div",Qt,[e("div",Wt,[t[34]||(t[34]=e("i",{class:"fa fa-user mr-2.5"},null,-1)),_(" "+r(s.lastname)+", "+r(s.firstname)+" "+r(s.middlename),1)])]),R.value&&f.value===s?(d(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:ye},[e("div",{class:p(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":R.value,"scale-95 opacity-0":!R.value}]),onClick:t[17]||(t[17]=Ie(()=>{},["stop"]))},[e("div",Xt,[e("h3",Jt," Status Logs - "+r(((g=f.value)==null?void 0:g.tracking_id)||"N/A"),1),e("button",{onClick:ye,class:"text-gray-400 hover:text-gray-500"},t[35]||(t[35]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",Zt,[!((Se=f.value)!=null&&Se.logs)||f.value.logs.length===0?(d(),i("div",es," No logs available ")):(d(),i("div",ts,[(d(!0),i(F,null,Y(u(Q),(a,h)=>(d(),i("div",{key:h,class:p(["border-l-4 rounded-r text-[10px]",h===u(Q).length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[e("div",ss,[e("div",{class:p(["font-medium w-9/12",h===u(Q).length-1?"text-green-800 text-sm":"text-gray-500"])},[e("div",{class:p(["w-full bg-transparent focus:outline-none px-1",h===u(Q).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},r(a.status_remarks),3)],2),e("div",ls,[e("div",{class:p(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",h===u(Q).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},r(a.timestamp),3)])])],2))),128))]))]),e("div",os,[e("div",as,[e("div",null,[t[37]||(t[37]=e("label",{for:"default_status",class:"block text-sm text-gray-700 mb-1"},"Default Status",-1)),x(e("select",{id:"default_status","onUpdate:modelValue":t[11]||(t[11]=a=>ae.value=a),onChange:t[12]||(t[12]=a=>D.value=ae.value),class:"w-full px-1 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500"},t[36]||(t[36]=[e("option",{value:"",selected:""}," Choose Default Option ",-1),e("option",null," Received. Now Processing ",-1),e("option",null,"Reviewed and Verified",-1),e("option",null,"Assessment Paid",-1),e("option",null,"For Pick Up or Sending",-1),e("option",null,"Transaction Closed",-1)]),544),[[xe,ae.value]])]),e("div",null,[t[38]||(t[38]=e("label",{for:"status_remarks",class:"block text-sm text-gray-700 mb-1"},"Status / Remarks",-1)),x(e("textarea",{id:"status_remarks","onUpdate:modelValue":t[13]||(t[13]=a=>D.value=a),rows:"1",class:"w-full px-2 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Enter status update..."},null,512),[[j,D.value]])]),e("div",ns,[e("button",{onClick:$e,disabled:!D.value.trim(),class:"flex items-center px-5 py-1.5 justify-center rounded-md border border-transparent bg-green-600 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},t[39]||(t[39]=[e("i",{class:"fa fa-plus mr-2 mt-0.5"},null,-1),_(" Add Status ")]),8,rs)]),Le(ot,{appear:"",name:"fade"},{default:lt(()=>{var a;return[X.value?(d(),i("div",is,[e("div",ds,[e("div",{class:"fixed inset-0 bg-black bg-opacity-25",onClick:we}),e("div",us,[t[44]||(t[44]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900"}," Send Status Update Email ",-1)),e("div",cs,[t[43]||(t[43]=e("p",{class:"text-sm text-gray-500"}," Would you like to notify the applicant about this status update via email? ",-1)),e("div",fs,[e("div",vs,[t[42]||(t[42]=e("div",{class:"flex-shrink-0"},[e("i",{class:"fa fa-info-circle text-yellow-400"})],-1)),e("div",gs,[e("p",ms,[t[40]||(t[40]=_(" This will send an email to ")),e("span",ps,r((a=f.value)==null?void 0:a.email),1),t[41]||(t[41]=_(" with the latest status information. "))])])])])]),e("div",xs,[e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2",onClick:we}," No, Skip Email "),e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:Ue,disabled:z.value},[z.value?(d(),i("i",ys)):(d(),i("i",hs)),_(" "+r(z.value?"Sending...":"Yes, Send Email"),1)],8,bs)])])])])):S("",!0)]}),_:1})])]),e("div",ws,[t[66]||(t[66]=e("div",{class:"flex justify-between items-center"},[e("h3",{class:"text-sm font-semibold uppercase mb-1"}," Personal Information ")],-1)),e("div",_s,[t[46]||(t[46]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-user text-green-600"})],-1)),e("div",ks,[t[45]||(t[45]=e("p",{class:"text-sm font-medium"}," Fullname ",-1)),e("p",Cs,r(s.firstname)+" "+r(s.middlename)+" "+r(s.lastname),1)])]),e("div",Ss,[t[48]||(t[48]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-bookmark text-green-600"})],-1)),e("div",js,[t[47]||(t[47]=e("p",{class:"text-sm font-medium"}," Tracking ID ",-1)),e("p",As,r(s.tracking_id),1)])]),e("div",Ds,[t[50]||(t[50]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-envelope text-green-600"})],-1)),e("div",Ms,[t[49]||(t[49]=e("p",{class:"font-medium text-gray-900"}," Email ",-1)),e("p",Es,r(s.email),1)])]),e("div",Is,[t[52]||(t[52]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-phone text-green-600"})],-1)),e("div",Ls,[t[51]||(t[51]=e("p",{class:"font-medium text-gray-900"}," Contact Number ",-1)),e("p",Ts,r(s.contact_number),1)])]),e("div",Ps,[t[54]||(t[54]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-birthday-cake text-green-500"})],-1)),e("div",Rs,[t[53]||(t[53]=e("p",{class:"font-medium text-gray-900"}," Date of Birth ",-1)),e("p",$s,r(s.birthdate),1)])]),e("div",Us,[t[56]||(t[56]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-female text-green-500"})],-1)),e("div",Vs,[t[55]||(t[55]=e("p",{class:"font-medium text-gray-900"}," Mother's Maiden Name ",-1)),e("p",Bs,r(s.mother_maiden_name),1)])]),e("div",Ns,[t[59]||(t[59]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-graduation-cap text-green-500"})],-1)),e("div",Fs,[t[58]||(t[58]=e("p",{class:"font-medium text-gray-900"}," ICC / LSU Graduate? ",-1)),x(e("select",{class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>s.alumni=a},t[57]||(t[57]=[e("option",{value:"yes"},"Alumnus",-1),e("option",{value:"no"},"Non-Alumnus",-1)]),8,Ys),[[xe,s.alumni]])])]),e("div",Os,[t[61]||(t[61]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-university text-green-500"})],-1)),e("div",zs,[t[60]||(t[60]=e("p",{class:"font-medium text-gray-900"}," College ",-1)),x(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>s.college=a},null,8,Gs),[[j,s.college]])])]),e("div",qs,[t[63]||(t[63]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-book text-green-500"})],-1)),e("div",Hs,[t[62]||(t[62]=e("p",{class:"font-medium text-gray-900"}," Course ",-1)),x(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>s.course=a},null,8,Ks),[[j,s.course]])])]),e("div",Qs,[t[65]||(t[65]=e("div",{class:"w-10 h-10 rounded-full border shadow-md flex items-center justify-center"},[e("i",{class:"fa fa-calendar text-green-500"})],-1)),e("div",Ws,[t[64]||(t[64]=e("p",{class:"font-medium text-gray-900"}," Academic Year Graduated or Attended ",-1)),x(e("input",{type:"text",class:"text-xs shadow-md py-1 px-2 w-full","onUpdate:modelValue":a=>s.year_graduated_last_attended=a},null,8,Xs),[[j,s.year_graduated_last_attended]])])])]),e("div",Js,[t[72]||(t[72]=e("p",{class:"text-center font-bold uppercase mb-3"}," Payment Information ",-1)),e("div",Zs,[e("div",el,[e("div",tl,[t[67]||(t[67]=e("label",{class:"text-xs text-gray-900"},"Course",-1)),x(e("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=a=>m.value.course=a),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[j,m.value.course]])])]),e("div",sl,[e("div",ll,[t[68]||(t[68]=e("label",{class:"text-xs text-gray-900"},"Date Graduated/Last Attended",-1)),x(e("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=a=>m.value.date_graduated_last_attended=a),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"Month Day Year"},null,512),[[j,m.value.date_graduated_last_attended]])])]),e("div",ol,[e("div",al,[t[69]||(t[69]=e("label",{class:"text-xs text-gray-900"},"Total",-1)),x(e("input",{type:"number","onUpdate:modelValue":t[16]||(t[16]=a=>m.value.total=a),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[j,m.value.total]])])])]),e("div",nl,[e("div",rl,[t[71]||(t[71]=e("p",{class:"font-medium text-gray-900 text-center py-2"}," Detail Fees ",-1)),(d(!0),i(F,null,Y((je=m.value)==null?void 0:je.detail_fees,(a,h)=>(d(),i("div",{key:h,class:"flex items-center space-x-2 mb-1"},[e("label",{for:"fee_name_"+h,class:"text-xs font-medium text-gray-700"},"Fee Name:",8,il),x(e("input",{type:"text",id:"fee_name_"+h,"onUpdate:modelValue":ee=>a.fee_name=ee,class:"text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},null,8,dl),[[j,a.fee_name]]),e("label",{for:"fee_amount_"+h,class:"text-xs font-medium text-gray-700"},"Amount:",8,ul),x(e("input",{type:"number",id:"fee_amount_"+h,"onUpdate:modelValue":ee=>a.amount=ee,class:"text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},null,8,cl),[[j,a.amount]]),e("button",{onClick:ee=>Qe(h),class:"px-3 py-1 text-xs bg-red-500 text-white rounded-md hover:bg-red-600"},t[70]||(t[70]=[e("i",{class:"fa fa-close"},null,-1)]),8,fl)]))),128))]),e("button",{onClick:Ke,class:"mx-auto px-3 py-1 text-sm bg-green-500 text-white rounded-md hover:bg-green-600 mt-5"}," Add Fee ")]),e("div",{class:"mt-4 mx-auto w-fit block"},[e("button",{onClick:We,class:"px-5 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-md"}," Send Payment ")])])],2)])):S("",!0)]),e("div",vl,[s.details?(d(),i("div",gl,[e("div",ml,[t[73]||(t[73]=e("span",{class:"font-bold mr-1"},"Note:",-1)),e("span",pl,r(s.details),1)])])):S("",!0),e("div",xl,[t[74]||(t[74]=e("button",{class:"w-full whitespace-nowrap text-green-700 cursor-pointer bg-white border shadow-lg border-green-500 hover:bg-green-800 px-5 pt-1 pb-1 hover:text-white font-bold rounded-full uppercase"}," Verify ",-1)),t[75]||(t[75]=e("button",{class:"w-full whitespace-nowrap text-green-700 cursor-pointer bg-white border shadow-lg border-green-500 hover:bg-green-800 px-5 pt-1 pb-1 hover:text-white font-bold rounded-full uppercase"}," Assess Payment ",-1)),t[76]||(t[76]=e("button",{class:"w-full whitespace-nowrap text-green-700 cursor-pointer bg-white border shadow-lg border-green-500 hover:bg-green-800 px-5 pt-1 pb-1 hover:text-white font-bold rounded-full uppercase"}," Check Payment ",-1)),t[77]||(t[77]=e("button",{class:"w-full whitespace-nowrap text-green-700 cursor-pointer bg-white border shadow-lg border-green-500 hover:bg-green-800 px-5 pt-1 pb-1 hover:text-white font-bold rounded-full uppercase"}," Release Document ",-1)),e("button",{class:"w-full whitespace-nowrap text-green-700 cursor-pointer bg-white border shadow-lg border-green-500 hover:bg-green-800 px-5 pt-1 pb-1 hover:text-white font-bold rounded-full uppercase",onClick:a=>{l.$nextTick(()=>{V()||Re(s)})}}," Status Logs ("+r(s.logs?s.logs.length:0)+") ",9,bl)])])],2)])}),128)),O.value?(d(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:W},[e("div",{class:"relative max-w-4xl max-h-[90vh] overflow-auto bg-white p-2 rounded-lg",onClick:t[18]||(t[18]=Ie(()=>{},["stop"]))},[e("button",{onClick:W,class:"absolute top-2 right-2 text-gray-700 hover:text-red-500 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-md"},t[78]||(t[78]=[e("i",{class:"fa fa-close"},null,-1)])),e("img",{src:Pe.value,class:"max-w-full max-h-[85vh] object-contain"},null,8,hl)])])):S("",!0),u(L)?(d(),i("div",yl,[e("div",{class:p(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":u(L),"scale-95 opacity-0":!u(L)}])},[e("div",wl,[t[79]||(t[79]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[e("i",{class:"fa fa-exclamation-triangle text-red-600 text-xl"})],-1)),t[80]||(t[80]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Confirm Deletion ",-1)),e("p",_l," Are you sure you want to delete "+r(v.value.length===1?"this record":"these "+v.value.length+" records")+"? This action cannot be undone. ",1)]),e("div",kl,[e("button",{onClick:Oe,class:"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:B.value},[B.value?(d(),i("i",Sl)):S("",!0),_(" "+r(B.value?"Deleting...":"Delete"),1)],8,Cl),e("button",{onClick:Ye,class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:B.value}," Cancel ",8,jl)])],2)])):S("",!0)])):S("",!0),u(N).length>0?(d(),i("div",Al,[e("button",{disabled:C.value===1,onClick:t[19]||(t[19]=s=>C.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,Dl),(d(!0),i(F,null,Y(u(Ge),s=>(d(),i("button",{key:s,onClick:c=>C.value=s,class:p(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":C.value===s,"bg-gray-200":C.value!==s}])},r(s),11,Ml))),128)),e("button",{disabled:C.value===u(Ce),onClick:t[20]||(t[20]=s=>C.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,El)])):Z.value?S("",!0):(d(),i("div",Il," No items found! "))]))])])],512),[[De,u(Te)]])])])])]),e("div",Ll,[Le(o)])])}}};export{Bl as default};
