import{_ as C}from"./SbSM7ReA.js";import{_ as T}from"./BbcMqS0V.js";import{A as S,B,Q as D,r as d,e as M,D as R,c as U,a as e,b as p,m as u,v as $,h as i,J as j,n as E,t as V,p as A,E as f,o as L}from"#entry";import"./CXohH4N5.js";import"./BLMuvzoS.js";const z={class:""},F={class:"flex"},N={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},O={class:"w-full lg:h-screen"},I={class:"bg-green-800"},J={class:"lg:flex mx-auto justify-between py-2 px-3.5"},P={class:"lg:flex lg:items-center text-white gap-5"},Q={class:"flex -mt-1"},q={class:"text-sm"},G={class:"text-xs mb-5"},H={class:"p-5"},K={class:"lg:flex"},W={class:"w-full md:w-1/2 mt-1"},X={class:"w-full md:w-1/2 mt-1 lg:ml-3"},le={__name:"[id]",async setup(Y){let n,m;const _=S(),a=B(),v=D(),c=d(a.mainDevServer);M(()=>{a.user.isAuthenticated&&(a.user.email==="jorenleeluna24@gmail.com"||a.user.email==="procurement@lsu.edu.ph")||_.push("/unauthorized")});const s=([n,m]=R(()=>$fetch(c.value+"/api/cits/"+v.params.id+"/").catch(o=>o.data)),n=await n,m(),n),b=d({firstname:s.value.firstname,middlename:s.value.middlename,lastname:s.value.lastname,lsu_email:a.user.email,admin_level_role:a.user.email,lsu_partner_category:s.value.lsu_partner_category,office:s.value.office,office_abbr:s.value.office_abbr,department:s.value.department,department_abbr:s.value.department_abbr,created_at:s.value.created_at});let l=d(!0);const g=()=>{a.removeToken()},x=()=>{},h=()=>{},w=async()=>{await $fetch(c.value+"/api/cits/"+id.value+"/edit/",{method:"PUT",headers:{"Content-Type":"application/json"},body:b.value}).then(o=>{})};return(o,t)=>{const y=C,k=T;return L(),U("div",z,[e("div",F,[u(e("div",N,[p(y,{goToList:x,goToCreate:h})],512),[[$,i(l)]]),e("div",O,[e("div",I,[e("div",J,[e("div",P,[e("div",{onClick:t[0]||(t[0]=r=>j(l)?l.value=!i(l):l=!i(l)),class:"w-10 px-1.5"},[e("i",{class:E(["fa text-3xl text-white",i(l)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",Q,[t[3]||(t[3]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",q,V(i(a).user.email),1)])]),e("button",{onClick:g,class:"flex hover:font-bold pt-1"},[...t[4]||(t[4]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)])])])]),e("div",G,[e("div",H,[t[8]||(t[8]=e("div",{class:"lg:mb-4 text-lg font-medium"},"Create CITS",-1)),e("form",{onSubmit:A(w,["prevent"])},[e("div",K,[e("div",W,[t[5]||(t[5]=e("label",{class:"block uppercase tracking-wide text-gray-700 text-medium font-semibold mb-2",for:"startdate-1"}," Email ",-1)),u(e("input",{class:"shadow-md p-2 rounded-sm w-full border",id:"field_1","onUpdate:modelValue":t[1]||(t[1]=r=>o.email=r),placeholder:"Email"},null,512),[[f,o.email]])]),e("div",X,[t[6]||(t[6]=e("label",{class:"block uppercase tracking-wide text-gray-700 text-medium font-semibold mb-2",for:"startdate-1"}," Role ",-1)),u(e("input",{class:"shadow-md p-2 rounded-sm w-full border",id:"field_2","onUpdate:modelValue":t[2]||(t[2]=r=>o.role=r),placeholder:"Role"},null,512),[[f,o.role]])])]),t[7]||(t[7]=e("div",{class:"w-1/2 justify-between flex mt-5"},[e("button",{class:"text-white lasalle-green rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"}," Update ")],-1))],32)])])])]),p(k)])}}};export{le as default};
