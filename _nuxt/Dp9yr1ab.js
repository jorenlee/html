import{k as j,l as A,r as d,p as B,Y as L,c,a as e,f as p,i as f,h as l,X as $,n as z,t as n,e as E,F as R,g as T,o as u}from"./Be-5_Spk.js";import"./5JjjnmY2.js";const N={class:""},F={class:"flex"},O={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},Y={class:"w-full h-screen"},I={class:"bg-green-700"},M={class:"lg:flex mx-auto justify-between py-2 px-3.5"},U={class:"lg:flex items-center text-white gap-5"},V={class:"flex -mt-1"},P={class:"text-sm"},X={class:"lg:w-full p-5"},q={class:"appointment-lists shadow mx-auto text-xs"},G={class:""},H={key:0,class:"w-full rows"},J={class:"px-2 lg:w-14"},K={class:"px-2 lg:w-2/12"},Q={class:"px-2 lg:w-2/12"},W={class:"px-2 lg:w-2/12"},Z={class:"px-2 lg:w-2/12"},ee={class:"flex px-2 font-bold justify-center lg:w-1/12"},te={class:"mx-auto flex justify-center"},se=["onClick"],le={class:"mx-auto flex justify-center"},oe=["onClick"],ie={class:"px-5 rounded-lg bg-white shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},ae={key:1,class:"itallic text-gray-400 text-center p-1"},ce={__name:"index",async setup(ne){let x,h;const g=j(),o=A(),_=d(o.mainDevServer);B(()=>{o.user.isAuthenticated&&o.user.email===o.user.email?g.push("/library/dashboard"):g.push("/unauthorized")});let y=d(!0),i=d(!0),r=d(!1),v=d();const w=([x,h]=L(()=>$fetch(_.value+"/api/library/booking/list/").catch(a=>a.data)),x=await x,h(),x),b=a=>{},m=a=>{r.value=!r.value,v.value=a};async function k(){await $fetch(_.value+"/api/library/booking/"+v.value+"/delete/",{method:"DELETE",headers:{Authorization:o.user.token,"Content-Type":"application/json"}}).then(async a=>{g.go(),r.value=!r.value}).catch(a=>{})}const C=()=>{g.push("/library/login"),o.removeToken()};return(a,t)=>(u(),c("div",N,[e("div",F,[p(e("div",O,null,512),[[f,l(i)]]),e("div",Y,[e("div",I,[e("div",M,[e("div",U,[e("div",{onClick:t[0]||(t[0]=s=>$(i)?i.value=!l(i):i=!l(i)),class:"w-10 px-1.5"},[e("i",{class:z(["fa text-3xl text-white",l(i)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",V,[t[2]||(t[2]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",P,n(l(o).user.email),1)])]),e("button",{onClick:t[1]||(t[1]=s=>C()),class:"flex hover:font-bold pt-1"},t[3]||(t[3]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",null,[e("div",X,[p(e("div",null,[e("div",q,[e("div",G,[t[7]||(t[7]=E('<div class="header w-full p-2 bg-green-800 text-white flex items-center"><ul class="lg:flex w-full justify-evenly text-center whitespace-nowrap"><li class="lg:w-20">No.</li><li class="lg:w-2/12">email</li><li class="lg:w-2/12">student_id</li><li class="lg:w-2/12">borrower_category</li><li class="lg:w-2/12">book_title</li><li class="lg:w-2/12">Action</li></ul></div>',1)),l(w).length>0?(u(),c("div",H,[(u(!0),c(R,null,T(l(w),(s,D)=>(u(),c("ul",{class:"lg:flex w-full justify-evenly text-center items-center h-auto border-b border-gray-100",key:D},[e("li",J,n(s.id),1),e("li",K,n(s.email),1),e("li",Q,n(s.student_id),1),e("li",W,n(s.borrower_category),1),e("li",Z,n(s.book_title),1),e("li",ee,[e("div",te,[e("button",{onClick:S=>b(s.id)},t[4]||(t[4]=[e("i",{class:"fa fa-edit text-yellow-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)]),8,se)]),e("div",le,[e("button",{onClick:S=>m(s.id)},t[5]||(t[5]=[e("i",{class:"fa fa-trash text-red-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)]),8,oe)])])]))),128)),p(e("div",ie,[t[6]||(t[6]=e("div",{class:"my-6"},"Are you sure you want to Delete?",-1)),e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg",onClick:k},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg",onClick:m},"Cancel")])],512),[[f,l(r)]])])):(u(),c("div",ae," Please Add LIBRARY, No Results Found! "))])])],512),[[f,l(y)]])])])])]),t[8]||(t[8]=e("div",{class:"bg-green-900 p-3"},[e("h1",{class:"text-center text-white text-xs"},[e("span",{class:"font-bold"},"Copyright Â© 2023 "),e("span",null,"La Salle University - Ozamiz")])],-1))]))}};export{ce as default};
