import{_ as F}from"./DsISQCEj.js";import{k as X,l as H,r as n,Y as P,p as q,c,a as e,b as j,f as m,i as w,h as s,e as G,t as _,X as y,n as L,q as I,s as E,F as J,g as K,o as p}from"./-TYtsfj2.js";import{s as Q}from"./BEx1_QdV.js";import{X as W}from"./CDWQhGSz.js";/* empty css        */import{h as v}from"./C5S46NFB.js";import"./5JjjnmY2.js";const Z={class:""},ee={class:"flex min-h-screen"},te={class:"pb-3 lg:w-3/12 bg-gray-100 z-10 w-full lg:block lg:static absolute"},se={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px]"},ae={class:"flex items-center w-full px-2"},le={class:"text-sm"},oe={class:"w-full"},ie={class:"bg-green-800"},ne={class:"flex mx-auto w-full justify-between py-2 px-3.5"},re={class:"flex items-center text-white gap-5"},de={class:""},ue={class:"lg:w-full p-5"},ce={class:"h-full shadow-lg"},me={class:""},pe={class:"w-full"},fe={class:"w-full"},he={class:"mr-5 flex items-center"},xe={key:0,class:"bg-green-700 text-xs text-white font-bold py-2 px-4 rounded-lg uppercase cursor-pointer"},ve={key:1,class:"bg-gray-300 text-xs text-white font-bold py-2 px-4 rounded-lg uppercase cursor-not-allowed"},be={class:"lg:flex w-full gap-x-5"},ge={class:"w-fit mx-auto mb-10 h-full"},we={class:""},_e={class:"text-center mt-5 text-red-700"},ye={class:"w-full mx-auto mb-5"},ke={class:"w-full px-3 py-2 shadow-sm border"},De={class:"flex lg:w-fit mx-auto gap-x-5"},Se={class:"flex justify-end items-center mb-2 pr-4"},Ae={class:"grid lg:grid-cols-3"},Ce=["value"],Te={__name:"create",async setup(je){let f,k;const u=X(),a=H(),D=n(a.mainDevServer),b=n(Q.timeSelection),h=n(!1),M=()=>{h.value?l.value.time=[...b.value[0].time]:l.value.time=[]},l=n({date:null,time:b._rawValue[0].time,updated_at:new Date});let S=n([]),d=n(!1),o=n(!0);const g=n(!1),x=n(!0),V=n(new Date),A=([f,k]=P(()=>$fetch(D.value+"/api/library/schedule/booking/list/").catch(i=>i.data)),f=await f,k(),f),Y=n(a.user.developerEmail),C=()=>{A.filter(function(i){l.value.date=i.date,S.value.push(i.date)})};q(()=>{a.user.isAuthenticated&&(a.user.email===Y.value||a.user.email==="monaliza.mugot@lsu.edu.ph"||a.user.email==="marilyn.bejec@lsu.edu.ph"||a.user.email==="applejane.ebarle@lsu.edu.ph"||a.user.email==="janekaren.gudmalin@lsu.edu.ph"||a.user.email==="macy.beniola@lsu.edu.ph"||a.user.email==="lynn.lumacad@lsu.edu.ph"||a.user.email==="zosette.salas@lsu.edu.ph")?(C(),u.push("/library/dashboard/appointment/set-schedules/create")):u.push("/unauthorized")});const B=()=>{A.filter(function(i){l.value.time=i.time,i.date===l.value.date&&(d.value=!1)})},z=i=>{l.value.date=v(i).format("MM-DD-YYYY");let t=v(v().toDate()).format("MM-DD-YYYY");g.value=!1,x.value=!0,d.value=!0,l.value.date===t?(d.value=!1,g.value=!0,x.value=!1):v(l.value.date).isBefore(t)?(d.value=!1,x.value=!1):B()},T=()=>{u.push("/library/dashboard/appointment/set-schedules")},U=()=>{u.push("/library/login"),a.removeToken()},$=async()=>{await $fetch(D.value+"/api/library/schedule/booking/create/",{method:"POST",headers:{Authorization:a.user.token,"Content-Type":"application/json"},body:l.value}).then(async i=>{C(),setTimeout(()=>{u.go()},1e3),d.value=!0})};return(i,t)=>{const O=F;return p(),c("div",Z,[e("div",ee,[m(e("div",te,[e("div",se,[e("div",ae,[t[6]||(t[6]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",le,_(s(a).user.email),1)]),e("div",{onClick:t[0]||(t[0]=r=>y(o)?o.value=!s(o):o=!s(o)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:L(["fa text-3xl text-white",s(o)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[7]||(t[7]=G('<div class="min-h-[570px]"><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSULRC.jpg" class="lg:w-24 w-20 mx-auto rounded-full"></div><div class="text-center"><h2 class="font-bold text-green-800 text-lg">Learning Resource Center</h2></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/library/dashboard/appointment" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> Appointment Lists </a><a href="/library/dashboard/appointment/reports/books" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-book mr-3" aria-hidden="true"></i> Available Books </a><a href="/library/dashboard/appointment/set-schedules" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-calendar mr-3.5" aria-hidden="true"></i> SET SCHEDULES </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1))],512),[[w,s(o)]]),e("div",oe,[e("div",ie,[e("div",ne,[e("div",re,[e("div",{onClick:t[1]||(t[1]=r=>y(o)?o.value=!s(o):o=!s(o)),class:"w-10 px-1.5"},[e("i",{class:L(["fa text-3xl text-white",s(o)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),e("button",{onClick:U,class:"flex hover:font-bold pt-1"},t[8]||(t[8]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",de,[e("div",ue,[e("div",ce,[e("div",me,[e("div",{class:"w-full shadow mb-10"},[e("div",{class:"px-3"},[e("button",{onClick:T,class:"shadow text-center capitalize my-3 px-4 py-1 bg-green-900 font-semibold text-sm text-white rounded-md whitespace-nowrap"}," BACK ")])]),e("div",pe,[e("div",fe,[e("form",{class:"flex mx-auto w-full px-4",onSubmit:I($,["prevent"])},[e("div",he,[s(d)?(p(),c("button",xe," ADD ")):(p(),c("div",ve," ADD "))]),e("div",be,[e("div",ge,[t[9]||(t[9]=e("h1",{class:"mb-3 font-bold lasalle-green-text text-xs text-center uppercase"}," Select Date to Add Schedule ",-1)),e("div",we,[j(s(W),{modelValue:s(l).date,"onUpdate:modelValue":[t[2]||(t[2]=r=>s(l).date=r),t[3]||(t[3]=r=>z(s(l).date))],inline:"","enable-time-picker":!1,id:"date",name:"date","auto-apply":"",highlight:s(S),"year-range":[2025,2025],"disabled-week-days":[0,7],"week-start":"0","hide-offset-dates":"","min-date":s(V)},null,8,["modelValue","highlight","min-date"])]),m(e("div",_e," Sorry! Can't Add Current Date ",512),[[w,s(g)]])]),m(e("div",ye,[e("div",ke,[e("div",De,[t[11]||(t[11]=e("h1",{class:"mb-3 font-bold lasalle-green-text text-xs text-center uppercase"},"Time",-1)),e("div",Se,[m(e("input",{id:"selectAll",type:"checkbox",class:"mr-2","onUpdate:modelValue":t[4]||(t[4]=r=>y(h)?h.value=r:null),onChange:M},null,544),[[E,s(h)]]),t[10]||(t[10]=e("label",{for:"selectAll",class:"text-xs font-semibold text-gray-700"},"Select All",-1))])]),e("ul",Ae,[(p(!0),c(J,null,K(s(b)[0].time,(r,N)=>(p(),c("li",{class:"my-2 lg:flex justify-center font-bold text-black mx-5 w-full text-xs",key:N},[m(e("input",{type:"checkbox",class:"mr-2 mt-0.5 available",value:r,"onUpdate:modelValue":t[5]||(t[5]=R=>s(l).time=R)},null,8,Ce),[[E,s(l).time]]),e("label",null,_(r._12_hour_format_from)+" - "+_(r._12_hour_format_to),1)]))),128))])])],512),[[w,s(x)]])])],32)])])])])])])])]),j(O)])}}};export{Te as default};
