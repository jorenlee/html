import{_ as A}from"./Ds_6SZc0.js";import{_ as E}from"./BAEJPrUa.js";import{k as L,l as N,r as d,p as F,Y as R,c,a as e,b as y,f,i as p,h as s,X as z,n as M,t as x,e as V,F as I,g as O,o as u}from"./__a6OEcJ.js";import"./5JjjnmY2.js";import"./C5S46NFB.js";const Y={class:""},P={class:"flex"},U={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},X={class:"w-full h-screen"},q={class:"bg-green-700"},G={class:"lg:flex mx-auto justify-between py-2 px-3.5"},H={class:"lg:flex items-center text-white gap-5"},J={class:"flex -mt-1"},K={class:"text-sm"},Q={class:"w-full p-5"},W={class:"appointment-lists shadow mx-auto text-xs"},Z={class:""},ee={key:0,class:"w-full rows"},te=["cits"],se={class:"lg:w-12"},le={class:"lg:w-2/12"},oe={class:"lg:w-2/12"},ie={class:"lg:flex px-2 font-bold justify-center lg:w-1/12"},ae={class:"mx-auto lg:flex justify-center"},ne=["onClick"],re={class:"mx-auto lg:flex justify-center"},de=["onClick"],ce={class:"px-5 rounded-lg bg-white shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},ue={key:1,class:"itallic text-gray-400 text-center p-1"},ve={__name:"index",async setup(he){let h,g;const i=L(),n=N(),_=d(n.mainDevServer);F(()=>{n.user.isAuthenticated&&n.user.email==="jorenleeluna24@gmail.com"?i.push("/cits/dashboard"):i.push("/unauthorized")});let b=d(!0),a=d(!0),r=d(!1),v=d();const m=([h,g]=R(()=>$fetch(_.value+"/api/cits/list").catch(l=>l.data)),h=await h,g(),h),C=()=>{i.push("/cits/dashboard")},k=()=>{i.push("/cits/dashboard/create")},T=l=>{i.push("/cits/dashboard/edit/"+l)},w=l=>{r.value=!r.value,v.value=l},D=async()=>{await $fetch(_.value+"/api/cits/"+v.value+"/delete/",{method:"DELETE",headers:{Authorization:n.user.token,"Content-Type":"application/json"}}).then(async l=>{i.go(),r.value=!r.value})},j=()=>{i.push("/cits/login"),n.removeToken()};return(l,t)=>{const S=A,$=E;return u(),c("div",Y,[e("div",P,[f(e("div",U,[y(S,{goToList:C,goToCreate:k})],512),[[p,s(a)]]),e("div",X,[e("div",q,[e("div",G,[e("div",H,[e("div",{onClick:t[0]||(t[0]=o=>z(a)?a.value=!s(a):a=!s(a)),class:"w-10 px-1.5"},[e("i",{class:M(["fa text-3xl text-white",s(a)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",J,[t[2]||(t[2]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",K,x(s(n).user.email),1)])]),e("button",{onClick:t[1]||(t[1]=o=>j()),class:"flex hover:font-bold pt-1"},t[3]||(t[3]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",null,[e("div",Q,[f(e("div",null,[e("div",W,[e("div",Z,[t[7]||(t[7]=V('<div class="header w-full p-2 bg-green-800 text-white flex items-center"><ul class="lg:flex w-full justify-evenly text-center whitespace-nowrap"><li class="lg:w-2/12">No.</li><li class="lg:w-2/12">Email</li><li class="lg:w-3/12">Role</li><li class="lg:w-2/12">Action</li></ul></div>',1)),s(m).length>0?(u(),c("div",ee,[(u(!0),c(I,null,O(s(m),o=>(u(),c("ul",{class:"lg:flex w-full justify-evenly text-center items-center h-auto border-b border-gray-100",key:o.id,cits:l.Cits},[e("li",se,x(o.id),1),e("li",le,x(o.email),1),e("li",oe,x(o.role),1),e("li",ie,[e("div",ae,[e("button",{onClick:B=>T(o.id)},t[4]||(t[4]=[e("i",{class:"fa fa-edit text-yellow-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)]),8,ne)]),e("div",re,[e("button",{onClick:B=>w(o.id)},t[5]||(t[5]=[e("i",{class:"fa fa-trash text-red-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)]),8,de)])])],8,te))),128)),f(e("div",ce,[t[6]||(t[6]=e("div",{class:"my-6"},"Are you sure you want to Delete?",-1)),e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg",onClick:D},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg",onClick:w},"Cancel")])],512),[[p,s(r)]])])):(u(),c("div",ue," Please Add CITS, No Results Found! "))])])],512),[[p,s(b)]])])])])]),y($)])}}};export{ve as default};
