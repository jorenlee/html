import{_ as S}from"./CZIOoNdy.js";import{m as j,u as A,r as a,p as L,c as d,a as e,q as f,v as p,n as l,t as B,s as h,x as v,y as E,F as M,z as N,A as R,b as $,o as c}from"./DshvmW_w.js";import"./C5S46NFB.js";import{_ as z}from"./5JjjnmY2.js";import{_ as I}from"./DlAUqK2U.js";const F={class:"lg:flex min-h-screen"},O={class:"pb-3 lg:w-3/12 bg-gray-100 z-10 w-full lg:block lg:static absolute lg:min-h-auto min-h-[700px] lg:h-auto h-screen"},T={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px]"},V={class:"flex items-center w-full px-2"},q={class:"text-sm"},P={class:"w-full"},U={class:"bg-green-800"},G={class:"flex mx-auto justify-between py-2 px-3.5"},H={class:"w-full lg:p-5 px-2 py-2"},W={class:"relative"},Y={class:"appointment-lists mx-auto text-xs"},J={class:""},K={key:0,class:"lg:border text-xs lg:rounded-none rounded-lg lg:shadow"},Q={class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#ffffff59] w-full h-screen flex items-center"},X={class:"w-fit mx-auto flex items-center shadow-2xl border-2 rounded-lg py-2 bg-white"},Z={class:"flex items-center"},ee={class:"flex gap-10 mr-10"},te={class:"px-5 rounded-lg bg-white shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},se={key:0,class:"italic text-gray-400 text-center p-1 h-screen"},ae={class:"static bottom-0 w-full"},le={__name:"index",setup(oe){const x=j(),i=A(),g=a(i.mainDevServer),r=a(0);let m=a();a();let b=a(!0),s=a(!1),u=a(!1);const w=a(!1);a(null),a(!1),a([]),L(()=>{setTimeout(async()=>{i.user.isAuthenticated&&(i.user.email==="jorenleeluna24@gmail.com"||i.user.email==="jorenlee.luna@lsu.edu.ph")?(r.value=await $fetch(g.value+"/api/cits/directory/list").catch(o=>o.data)||0,x.push("/drs/dashboard"),console.log(r.value)):x.push("/_/unauthorized")},5e3)});const y=o=>{u.value=!u.value,m.value=o},_=async()=>{await $fetch(g.value+"/api/campus-pass/"+m.value+"/delete/",{method:"DELETE",headers:{Authorization:i.user.token,"Content-Type":"application/json"}}).then(async o=>{console.log("response",o),r.value=await $fetch(g.value+"/api/campus-pass/list").catch(t=>t.data)||0,u.value=!u.value})},k=()=>{i.removeToken(),x.push("/_/campus-pass-admin")};return(o,t)=>{const C=S;return c(),d("div",null,[e("div",F,[f(e("div",O,[e("div",T,[e("div",V,[t[4]||(t[4]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",q,B(l(i).user.email),1)]),e("div",{onClick:t[0]||(t[0]=n=>h(s)?s.value=!l(s):s=!l(s)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:v(["fa text-3xl text-white",l(s)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[5]||(t[5]=E('<div class="" data-v-cc27f73f><div class="w-fit mx-auto mt-5 mb-3" data-v-cc27f73f><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto" data-v-cc27f73f></div><div class="text-center" data-v-cc27f73f><h1 class="font-bold text-green-800 text-2xl" data-v-cc27f73f>Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1 lg:tracking-tight font-bold" data-v-cc27f73f><a href="/cits/admin" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 text-left text-black hover:bg-black hover:text-white" data-v-cc27f73f><i class="fa fa-list mr-3" aria-hidden="true" data-v-cc27f73f></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 text-left hover:bg-black hover:text-white" data-v-cc27f73f><i class="fa fa-globe mr-3" aria-hidden="true" data-v-cc27f73f></i> LSU HOME PAGE </a></div></div>',1))],512),[[p,l(s)]]),e("div",P,[e("div",U,[e("div",G,[e("div",{onClick:t[1]||(t[1]=n=>h(s)?s.value=!l(s):s=!l(s)),class:"w-10 px-1.5"},[e("i",{class:v(["fa text-3xl text-white",l(s)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("button",{onClick:k,class:"flex hover:font-bold pt-1"},t[6]||(t[6]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",null,[e("div",H,[f(e("div",null,[t[10]||(t[10]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),e("div",W,[e("div",Y,[e("div",J,[t[9]||(t[9]=e("div",{class:"lg:flex hidden bg-green-800 text-white pb-2 pt-2.5 gap-x-7 px-3"},[e("div",{class:"w-full mx-auto text-center font-bold text-sm"}," Office ")],-1)),r.value.length>0?(c(),d("div",K,[(c(!0),d(M,null,N(l(z).orderBy(r.value,"id","asc"),(n,D)=>(c(),d("div",{class:"lg:flex justify-evenly text-left items-center h-auto px-3 gap-x-7 border-gray-200 lg:py-1 py-3 lg:mb-0 mb-5 lg:border-y border lg:shadow-none shadow-md lg:bg-gray-50 bg-gray-100",key:D}))),128)),f(e("div",Q,[e("div",X,[e("div",Z,[t[7]||(t[7]=e("div",{class:"font-bold pl-5 pr-10"},"Confirm Remarks: ",-1)),e("div",ee,[e("span",{class:"px-3 uppercase py-1 rounded-lg bg-green-900 border hover:border-green-900 hover:bg-white hover:text-green-900 text-white font-bold cursor-pointer",onClick:t[2]||(t[2]=(...n)=>o.btnConfirm&&o.btnConfirm(...n))},"yes"),e("span",{class:"px-3 uppercase py-1 rounded-lg bg-red-700 border hover:border-red-700 hover:bg-white hover:text-green-900 text-white font-bold cursor-pointer",onClick:t[3]||(t[3]=(...n)=>o.btnCloseModal&&o.btnCloseModal(...n))},"no")])])])],512),[[p,w.value]]),f(e("div",te,[t[8]||(t[8]=e("div",{class:"my-6"},"Are you sure you want to Delete?",-1)),e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:_},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:y},"Cancel")])],512),[[p,l(u)]])])):R("",!0)]),r.value.length===0?(c(),d("div",se," Please Wait ... ")):(c(),d("div",{key:1,class:v(["italic text-gray-400 text-center p-1 h-screen",r.value.length>0?"hidden":""])}," No Results Found! ",2))])])],512),[[p,l(b)]])])])])]),e("div",ae,[$(C)])])}}},ue=I(le,[["__scopeId","data-v-cc27f73f"]]);export{ue as default};
