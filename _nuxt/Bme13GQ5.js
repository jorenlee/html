import{_ as E}from"./DbJM5MhW.js";import{m as L,u as $,r as d,p as B,c as n,a as e,q as p,v as m,n as o,t as f,s as b,x as g,y as w,F as M,z as N,A as R,b as T,o as u}from"./CHOFwWJE.js";import"./C5S46NFB.js";import{_ as z}from"./5JjjnmY2.js";import{_ as I}from"./DlAUqK2U.js";const V={class:"lg:flex min-h-screen"},F={class:"pb-3 lg:w-3/12 bg-gray-100 z-10 w-full lg:block lg:static absolute lg:min-h-auto min-h-[700px] lg:h-auto h-screen"},O={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px]"},q={class:"flex items-center w-full px-2"},P={class:"text-sm"},U={class:"w-full"},G={class:"bg-green-800"},H={class:"flex mx-auto justify-between py-2 px-3.5"},W={class:"w-full lg:p-5 px-2 py-2"},Y={class:"relative"},J={class:"appointment-lists mx-auto text-xs"},K={class:""},Q={key:0,class:"lg:border text-xs lg:rounded-none rounded-lg lg:shadow"},X={class:"w-full mx-auto text-center font-bold text-sm"},Z={class:"w-full mx-auto text-center font-bold text-sm"},ee={class:"w-full mx-auto text-center font-bold text-sm"},te={class:"w-full mx-auto text-center font-bold text-sm"},se=["onClick"],ae={class:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#ffffff59] w-full h-screen flex items-center"},le={class:"w-fit mx-auto flex items-center shadow-2xl border-2 rounded-lg py-2 bg-white"},oe={class:"flex items-center"},ie={class:"flex gap-10 mr-10"},re={class:"px-5 rounded-lg bg-white shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},de={key:0,class:"italic text-gray-400 text-center p-1 h-screen"},ne={class:"static bottom-0 w-full"},ue={__name:"index",setup(ce){const x=L(),s=$(),v=d(s.mainDevServer),r=d(0);let h=d(),y=d(!0),a=d(!1),c=d(!1);const _=d(!1);B(()=>{setTimeout(async()=>{s.user.isAuthenticated&&(s.user.email==="jorenleeluna24@gmail.com"||s.user.email==="michaeljohn.puertogalera@lsu.edu.ph"||s.user.email==="jorenlee.luna@lsu.edu.ph"||s.user.email==="president@lsu.edu.ph"||s.user.email==="rey.mejias@lsu.edu.ph"||s.user.email==="meredith.embuscado@lsu.edu.ph"||s.user.email==="macristina.llauder@lsu.edu.ph"||s.user.email==="wenny.caseros@lsu.edu.ph")?(r.value=await $fetch(v.value+"/api/drs/list").catch(l=>l.data)||0,x.push("/drs/dashboard"),console.log(r.value)):x.push("/_/unauthorized")},5e3)});const k=l=>{c.value=!c.value,h.value=l},C=async()=>{await $fetch(v.value+"/api/drs/delete/"+h.value,{method:"DELETE",headers:{Authorization:s.user.token,"Content-Type":"application/json"}}).then(async l=>{console.log("response",l),r.value=await $fetch(v.value+"/api/campus-pass/list").catch(t=>t.data)||0,c.value=!c.value})},D=()=>{s.removeToken(),x.push("/_/campus-pass-admin")},S=l=>{x.push("/drs/dashboard/edit/"+l)};return(l,t)=>{const j=E;return u(),n("div",null,[e("div",V,[p(e("div",F,[e("div",O,[e("div",q,[t[4]||(t[4]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",P,f(o(s).user.email),1)]),e("div",{onClick:t[0]||(t[0]=i=>b(a)?a.value=!o(a):a=!o(a)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:g(["fa text-3xl text-white",o(a)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[5]||(t[5]=w('<div class="" data-v-d42ce895><div class="w-fit mx-auto mt-5 mb-3" data-v-d42ce895><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto" data-v-d42ce895></div><div class="text-center" data-v-d42ce895><h1 class="font-bold text-green-800 text-2xl" data-v-d42ce895>Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1 lg:tracking-tight font-bold" data-v-d42ce895><a href="/drs/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 text-left text-black hover:bg-black hover:text-white" data-v-d42ce895><i class="fa fa-list mr-3" aria-hidden="true" data-v-d42ce895></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 text-left hover:bg-black hover:text-white" data-v-d42ce895><i class="fa fa-globe mr-3" aria-hidden="true" data-v-d42ce895></i> LSU HOME PAGE </a></div></div>',1))],512),[[m,o(a)]]),e("div",U,[e("div",G,[e("div",H,[e("div",{onClick:t[1]||(t[1]=i=>b(a)?a.value=!o(a):a=!o(a)),class:"w-10 px-1.5"},[e("i",{class:g(["fa text-3xl text-white",o(a)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("button",{onClick:D,class:"flex hover:font-bold pt-1"},t[6]||(t[6]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",null,[e("div",W,[p(e("div",null,[t[10]||(t[10]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),e("div",Y,[e("div",J,[e("div",K,[t[9]||(t[9]=w('<div class="lg:flex hidden bg-green-800 text-white pb-2 pt-2.5 gap-x-7 px-3" data-v-d42ce895><div class="w-full mx-auto text-center font-bold text-sm" data-v-d42ce895> Office </div><div class="w-full mx-auto text-center font-bold text-sm" data-v-d42ce895> Status </div><div class="w-full mx-auto text-center font-bold text-sm" data-v-d42ce895> Document Title </div><div class="w-full mx-auto text-center font-bold text-sm" data-v-d42ce895> Action </div></div>',1)),r.value.length>0?(u(),n("div",Q,[(u(!0),n(M,null,N(o(z).orderBy(r.value,"id","asc"),(i,A)=>(u(),n("div",{class:"lg:flex justify-evenly text-left items-center h-auto px-3 gap-x-7 border-gray-200 lg:py-1 py-3 lg:mb-0 mb-5 lg:border-y border lg:shadow-none shadow-md lg:bg-gray-50 bg-gray-100",key:A},[e("div",X,f(i.originating_office),1),e("div",Z,f(i.status),1),e("div",ee,f(i.originating_office),1),e("div",te,[e("div",null,[e("div",{class:"text-gray-800 hover:bg-white bg-yellow-500 border border-yellow-500 px-3 py-1 rounded-md w-fit mx-auto cursor-pointer",onClick:xe=>S(i.id)}," View Details ",8,se)])])]))),128)),p(e("div",ae,[e("div",le,[e("div",oe,[t[7]||(t[7]=e("div",{class:"font-bold pl-5 pr-10"},"Confirm Remarks: ",-1)),e("div",ie,[e("span",{class:"px-3 uppercase py-1 rounded-lg bg-green-900 border hover:border-green-900 hover:bg-white hover:text-green-900 text-white font-bold cursor-pointer",onClick:t[2]||(t[2]=(...i)=>l.btnConfirm&&l.btnConfirm(...i))},"yes"),e("span",{class:"px-3 uppercase py-1 rounded-lg bg-red-700 border hover:border-red-700 hover:bg-white hover:text-green-900 text-white font-bold cursor-pointer",onClick:t[3]||(t[3]=(...i)=>l.btnCloseModal&&l.btnCloseModal(...i))},"no")])])])],512),[[m,_.value]]),p(e("div",re,[t[8]||(t[8]=e("div",{class:"my-6"},"Are you sure you want to Delete?",-1)),e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:C},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:k},"Cancel")])],512),[[m,o(c)]])])):R("",!0)]),r.value.length===0?(u(),n("div",de," Please Wait ... ")):(u(),n("div",{key:1,class:g(["px-2 py-2 text-gray-400 text-center h-screen",r.value.length>0?"hidden":""])}," No Results Found! ",2))])])],512),[[m,o(y)]])])])])]),e("div",ne,[T(j)])])}}},he=I(ue,[["__scopeId","data-v-d42ce895"]]);export{he as default};
