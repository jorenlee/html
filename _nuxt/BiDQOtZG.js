import{_ as Lt}from"./BbcMqS0V.js";import{x as Rt,j as Ft,r as i,e as Yt,m as le,y as We,I as R,c as o,a as e,q as y,v as Xe,h as D,f as Ue,t as c,O as Ze,n as g,i as f,F as S,g as E,d as p,A as Ve,ag as Je,z as C,s as M,b as Bt,o as r,ak as Nt}from"#entry";import{_ as zt}from"./CXohH4N5.js";import{h as U}from"./BLMuvzoS.js";import{s as Ot}from"./BzLCLO6P.js";import{_ as qt}from"./DlAUqK2U.js";const Gt={class:"min-h-screen flex"},Ht={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},Kt={class:"w-full"},Qt={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},Wt={class:"flex items-center w-full px-2"},Xt={class:"text-sm"},Zt={class:"w-full"},Jt={class:"bg-green-800 w-full z-10"},es={class:"flex mx-auto justify-between py-2 px-3.5"},ts={key:0,class:"lg:mx-2 mx-2 shadow-lg rounded-lg p-1"},ss={class:"lg:flex gap-2"},as={class:"font-semibold text-[10px] text-gray-800 whitespace-nowrap text-center lg:tracking-normal tracking-tighter"},ls={class:"text-[10px] text-gray-500 text-center"},os={class:"flex flex-wrap mx-auto w-fit gap-1 mt-1 text-[11px]"},rs={class:"border border-500 text-red-800 px-2 py-0.5 rounded-full font-semibold"},ns={class:"border border-700 text-green-800 px-2 py-0.5 rounded-full font-semibold"},is={class:"border border-600 text-blue-800 px-2 py-0.5 rounded-full font-semibold"},ds={class:"w-full px-2"},us={class:"relative"},cs={key:0,class:"fixed inset-0 z-[1000] bg-gray-800 bg-opacity-90 flex items-center justify-center"},fs={class:"text-white text-lg font-semibold text-center px-6"},gs={key:1,class:"fixed inset-0 z-[1000] bg-red-900 bg-opacity-90 flex items-center justify-center"},vs={class:"text-white text-lg font-semibold text-center px-6"},ps={class:"w-full lg:flex flex-wrap items-center gap-3 mb-1 px-3 py-1 bg-white border rounded-md shadow-sm"},ms={class:"w-full lg:flex items-center gap-3"},xs={key:0,class:"lg:mb-0 mb-3 flex items-center gap-2 lg:w-3/12 w-full"},ys=["disabled"],hs={key:1,class:"lg:mb-0 mb-3 w-full"},bs=["value"],ws={class:"lg:mb-0 mb-3 relative w-full"},_s={class:"w-fit mx-auto flex items-center gap-1"},ks={class:""},Cs={class:"appointment-lists mx-auto text-xs"},As={key:0,class:"text-center"},Ms={key:1},js={key:0,class:"gap-4"},Ss={key:0,class:"w-fit flex px-2"},Ds={class:""},Ts=["value"],$s={class:"lg:w-5/12 w-full flex items-center"},Is={class:"w-full"},Ps={class:"w-full lg:px-3 px-2 lg:flex items-center"},Es={class:"text-[10px] font-light whitespace-nowrap"},Us={class:"font-bold"},Vs={class:"lg:w-6/12 w-full"},Ls={class:"w-full my-1"},Rs={class:"w-full text-xs uppercase text-black py-1 px-1 flex items-center font-montserrat"},Fs={class:"flex justify-between items-center mb-4 border-b pb-3"},Ys={class:"text-lg font-medium text-gray-900"},Bs={class:"mb-6 max-h-[40vh] overflow-y-auto"},Ns={key:0,class:"text-center text-gray-500 py-4"},zs={key:1,class:"space-y-3"},Os={class:"flex items-center justify-between capitalize gap-x-3"},qs={class:"text-gray-500 w-3/12"},Gs={class:"flex gap-6 w-full"},Hs={class:"w-full bg-white rounded-xl p-2 shadow-md border border-gray-200 h-fit"},Ks={class:"mb-2"},Qs={class:"bg-gray-50 border border-gray-300 rounded-lg px-4 py-1 text-sm text-gray-900"},Ws={class:"mb-2"},Xs=["onUpdate:modelValue"],Zs={class:"mb-2"},Js=["onUpdate:modelValue"],ea={class:"mb-2"},ta=["onUpdate:modelValue"],sa=["onUpdate:modelValue"],aa={class:"w-full h-fit"},la={class:"bg-white rounded-xl p-2 shadow-md border border-gray-200"},oa={class:"mb-2"},ra=["onUpdate:modelValue"],na={class:"mb-2"},ia=["onUpdate:modelValue"],da={class:"mb-2"},ua=["onUpdate:modelValue"],ca={class:"mb-2"},fa=["onUpdate:modelValue"],ga={class:"w-full h-fit"},va={class:"bg-white rounded-xl p-5 shadow-md border border-gray-200"},pa={class:"space-y-3"},ma={class:"flex items-center gap-3 flex-wrap"},xa={key:0,class:"flex items-center w-fit lg:ml-5 gap-x-3"},ya=["onClick"],ha=["src"],ba=["href"],wa=["href"],_a=["onClick"],ka=["src"],Ca=["href"],Aa=["href"],Ma=["onClick"],ja=["src"],Sa=["href"],Da=["href"],Ta={key:0,class:"mt-4 p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg"},$a={class:"text-sm text-gray-700"},Ia={class:"mt-4"},Pa={class:"flex flex-wrap w-fit ml-5 gap-2"},Ea={class:"w-fit ml-5 bg-gradient-to-r from-green-50 to-blue-50 border-2 border-green-300 rounded-lg px-4 py-2.5 text-sm font-mono font-bold text-green-800"},Ua={class:"w-full"},Va={class:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden"},La={class:"p-5 space-y-4 max-h-96 overflow-y-auto bg-gray-50"},Ra={key:0,class:"flex gap-3 flex-row-reverse animate-fade-in"},Fa={class:"flex-1 text-right"},Ya={class:"bg-gradient-to-r from-green-500 to-green-600 rounded-2xl rounded-tr-none px-4 py-3 shadow-md inline-block text-left"},Ba={class:"text-sm text-white"},Na={key:1,class:"flex gap-3 animate-fade-in"},za={class:"flex-shrink-0"},Oa={class:"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold shadow-md"},qa={class:"flex-1"},Ga={class:"flex items-center gap-2 mb-1"},Ha={class:"text-sm font-bold text-gray-900"},Ka={class:"bg-white border border-blue-200 rounded-2xl rounded-tl-none px-4 py-3 shadow-sm"},Qa={class:"text-sm text-gray-800"},Wa={key:2,class:"text-center py-8"},Xa={class:"p-4 bg-white border-t border-gray-200"},Za={class:"relative"},Ja=["onKeydown"],el=["onClick","disabled"],tl={class:"mt-2 pt-2 border-t-2 border-gray-200"},sl={class:"flex gap-3"},al=["onClick","disabled"],ll={key:0,class:"fa fa-spinner fa-spin"},ol={key:1,class:"fa fa-paper-plane"},rl={key:2},nl={key:3},il={class:"border-4 border-[#eeeeee] px-3 py-3 my-3 rounded-lg"},dl={class:"flex w-full gap-x-2"},ul={class:"flex items-center mb-2 w-full lg:w-6/12"},cl={class:"text-sm w-full"},fl={class:"flex items-center mb-2 w-full"},gl={class:"text-sm w-full"},vl={class:"flex items-center mb-2 lg:w-fit w-full"},pl={class:"text-sm w-full"},ml={class:"flex items-center mb-2"},xl={class:"text-sm w-full"},yl={class:""},hl={class:"text-sm w-full"},bl={class:"w-full"},wl=["for"],_l=["id","onUpdate:modelValue"],kl={class:"w-full"},Cl=["for"],Al=["id","onUpdate:modelValue"],Ml=["onClick"],jl={class:"mt-2 hidden"},Sl=["onUpdate:modelValue"],Dl={class:"mt-4 w-full block"},Tl=["onClick","disabled"],$l={key:0,class:"mt-3 text-center text-sm bg-green-100 text-green-800 border border-green-400 px-4 py-2 rounded w-full"},Il={class:"flex justify-between items-center mb-4 border-b pb-3"},Pl={class:"text-lg font-medium text-gray-900"},El={class:"mb-6 max-h-[40vh] overflow-y-auto"},Ul={key:0,class:"text-center text-gray-500 py-4"},Vl={key:1,class:"space-y-3"},Ll={class:"flex items-center justify-between capitalize gap-x-3"},Rl={class:"text-gray-500 w-3/12"},Fl={class:"space-y-6 mb-6"},Yl={key:0},Bl={class:"flex flex-wrap gap-2"},Nl=["onClick"],zl=["src"],Ol={key:1},ql={class:"flex flex-wrap gap-2"},Gl=["onClick"],Hl=["src"],Kl=["onUpdate:modelValue"],Ql={key:2,class:"mt-2"},Wl={class:"border-2 border-black rounded-md py-1 px-2"},Xl={class:"pt-4 border-t border-gray-200 dark:border-gray-700"},Zl=["onClick","disabled"],Jl={key:0,class:"flex items-center gap-2"},eo={key:1},to={class:"mt-2 mb-14"},so=["onUpdate:modelValue"],ao={key:0,class:"mt-2"},lo={class:"border-2 border-black rounded-md py-1 px-2"},oo=["onClick"],ro={key:0},no={key:1},io=["onClick"],uo={key:0},co={key:1},fo={class:"w-full text-[10px]"},go={class:"w-fit mx-auto"},vo={class:"lg:w-fit mx-auto w-full py-1 lg:gap-x-3 lg:flex lg:whitespace-nowrap text-left"},po=["onClick"],mo=["onClick"],xo=["onClick"],yo=["onClick"],ho=["onClick"],bo=["onClick"],wo=["src"],_o={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-emerald-900/60 backdrop-blur-sm transition-opacity duration-300"},ko={class:"text-center"},Co={class:"text-sm text-gray-500 mb-6"},Ao={class:"flex justify-center gap-4"},Mo=["disabled"],jo={key:0,class:"fa fa-spinner fa-spin mr-2"},So=["disabled"],Do={key:2,class:"flex justify-center my-4 pb-10"},To=["disabled"],$o=["onClick"],Io=["disabled"],Po={key:3,class:"text-center my-5"},Eo={class:"w-full"},Uo=1e3,Le=500,he=4,Vo={__name:"index",setup(Lo){const be=Rt(),q=Ft(),u=i([]);let et=i(!0),j=i(!1),G=i(!1);const _=i(q.mainDevServer);let F=i(null);const V=i("all"),W=i(!1),Re=i(""),H=i(!1),re=i(null),T=i(!1),K=i(!1),Y=i(!1),B=i(!1),N=i(!1),v=i(null),tt=i(""),L=i(""),X=i(null),st=async s=>{try{X.value=await $fetch(`${_.value}/api/registrar/payment/by-tracking/?tracking_id=${encodeURIComponent(s)}`).catch(()=>null)}catch(t){console.error("Failed to load payment by tracking id",t),X.value=null}},h=i(""),m=i(""),z=i(!1),A=i(!1),oe=s=>{Re.value=s,W.value=!0,w.value=!0},ne=()=>{W.value=!1,w.value=$()},at=async s=>{const t="Reviewed and Verified";if(m.value="",h.value="",s.latest_status===t)return!1;try{const n={timestamp:U().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},a=s.logs?[...s.logs]:[];a.unshift(n);const b={...s,logs:a,latest_status:t};await $fetch(`${_.value}/api/registrar/${s.id}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:b}),s.logs=a,s.latest_status=t;const l=u.value.findIndex(d=>d.id===s.id);return l!==-1&&(u.value[l].logs=a,u.value[l].latest_status=t),h.value="✅ Status updated successfully!",setTimeout(()=>h.value="",3e3),!0}catch(n){return console.error("Error updating status:",n),m.value="❌ Failed to update record.",setTimeout(()=>m.value="",3e3),!1}},lt=async s=>{const t="Reviewed and Verified";if(s.latest_status!==t){m.value="⚠️ Please update the status first before notifying.";return}if(s.notified){m.value="⚠️ Email has already been sent for this verified status.";return}m.value="",h.value="",z.value=!0;try{await $fetch(`${_.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),s.notified=!0,await ee(),h.value="✅ Email notification sent successfully!",setTimeout(()=>h.value="",3e3)}catch(n){console.error("Error sending email notification:",n),m.value="❌ Failed to send email notification.",setTimeout(()=>m.value="",3e3)}finally{z.value=!1}},ot=async s=>{(await at(s)||s.latest_status==="Reviewed and Verified")&&await lt(s)},Fe=async s=>{if(L.value.trim())try{const t={...s,follow_up_remarks:L.value.trim()};await $fetch(`${_.value}/api/registrar/${s.id}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:t}),s.follow_up_remarks=L.value.trim();const n=u.value.findIndex(a=>a.id===s.id);n!==-1&&(u.value[n].follow_up_remarks=L.value.trim()),L.value="",h.value="✅ Follow-up message sent successfully!",setTimeout(()=>h.value="",3e3)}catch(t){console.error("Error sending follow-up message:",t),m.value="❌ Failed to send follow-up message.",setTimeout(()=>m.value="",3e3)}},rt=async s=>{h.value="",m.value="",A.value=!0;const t="Preparing Documents";try{const n={timestamp:U().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},a=s.logs?[...s.logs]:[];a.unshift(n),F.value=s.id;const b={...s,logs:a};await $fetch(`${_.value}/api/registrar/${F.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:b}),s.logs=a;const l=u.value.findIndex(d=>d.id===s.id);l!==-1&&(u.value[l].logs=a),Ce.value[s.id]=!0,await $fetch(`${_.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await ee(),h.value="✅ Confirm and email sent successfully!",setTimeout(()=>{h.value=""},3e3)}catch(n){console.error("Error verifying and sending email:",n),m.value="❌ Failed to verify and send email.",setTimeout(()=>{m.value=""},3e3)}finally{A.value=!1,Y.value=!1}},nt=async s=>{h.value="",m.value="",A.value=!0;const t="Releasing Documents";try{const n={timestamp:U().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},a=s.logs?[...s.logs]:[];a.unshift(n),F.value=s.id;const b={...s,logs:a};await $fetch(`${_.value}/api/registrar/${F.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:b}),s.logs=a;const l=u.value.findIndex(d=>d.id===s.id);l!==-1&&(u.value[l].logs=a),Ae.value[s.id]=!0,await $fetch(`${_.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await ee(),h.value="✅ Confirm and email sent successfully!",setTimeout(()=>{h.value=""},3e3)}catch(n){console.error("Error verifying and sending email:",n),m.value="❌ Failed to verify and send email.",setTimeout(()=>{m.value=""},3e3)}finally{A.value=!1,B.value=!1}},it=async s=>{h.value="",m.value="",A.value=!0;const t="Transaction Closed";try{const n={timestamp:U().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},a=s.logs?[...s.logs]:[];a.unshift(n),F.value=s.id;const b={...s,logs:a};await $fetch(`${_.value}/api/registrar/${F.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:b}),s.logs=a;const l=u.value.findIndex(d=>d.id===s.id);l!==-1&&(u.value[l].logs=a),Me.value[s.id]=!0,await $fetch(`${_.value}/api/registrar/status/transaction-closed/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await ee(),h.value="✅ Confirm and email sent successfully!",setTimeout(()=>{h.value=""},3e3)}catch(n){console.error("Error verifying and sending email:",n),m.value="❌ Failed to verify and send email.",setTimeout(()=>{m.value=""},3e3)}finally{A.value=!1,N.value=!1}},dt=async s=>{ve.value=!0,s.follow_up_remarks="Kindly upload the receipt to this page: https://lsu.edu.ph/registrar/track";const t={...x.value,date_graduated_last_attended:U(x.value.date_graduated_last_attended).format("LL")};try{await $fetch(_.value+"/api/registrar/payment/fees/",{method:"POST",headers:{"Content-Type":"application/json"},body:t}),Pe.value=!0,setTimeout(()=>{Pe.value=!1},3e3)}catch(n){console.error("Error sending email:",n)}finally{ve.value=!1,ut(s)}},ut=async s=>{h.value="",m.value="",z.value=!0;const t="Assessment";try{const n={timestamp:U().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:t},a=s.logs?[...s.logs]:[];a.unshift(n),F.value=s.id;const b={...s,logs:a};await $fetch(`${_.value}/api/registrar/${F.value}/edit/`,{method:"PUT",headers:{"Content-Type":"application/json"},body:b}),s.logs=a;const l=u.value.findIndex(d=>d.id===s.id);l!==-1&&(u.value[l].logs=a),ke.value[s.id]=!0,await $fetch(`${_.value}/api/registrar/status/update/`,{method:"POST",headers:{"Content-Type":"application/json"},body:{id:s.id,latest_status:t}}),await ee(),h.value="✅ Confirm and email sent successfully!",setTimeout(()=>{h.value=""},3e3)}catch(n){console.error("Error verifying and sending email:",n),m.value="❌ Failed to verify and send email.",setTimeout(()=>{m.value=""},3e3)}finally{z.value=!1}},Z=()=>{H.value=!1,K.value=!1,Y.value=!1,B.value=!1,N.value=!1,T.value=!1,v.value=null,re.value=null},ct=s=>{Z(),v.value=s,T.value=!0,w.value=!0,tt.value=""},ie=()=>{T.value=!1,w.value=$()},ft=s=>{Z(),v.value=s,K.value=!0,w.value=!0,x.value.fullname=`${s.firstname} ${s.middlename} ${s.lastname}`,x.value.email=s.email,x.value.course=s.course,x.value.tracking_id=s.tracking_id,x.value.college=s.college,x.value.date_graduated_last_attended=U(s.date_graduated_last_attended).format("YYYY-MM-DD");const t=s.type_document_requests||[];x.value.detail_fees=t.map(n=>Qe.value[n]?{fee_name:n,amount:Qe.value[n]}:{fee_name:n,amount:0}),xe()},Ye=()=>{K.value=!1,v.value=null,w.value=$()},gt=s=>{Z(),re.value=s,H.value=!0,w.value=!0,L.value=""},Be=()=>{H.value=!1,re.value=null,w.value=$()},vt=async s=>{Z(),v.value=s,Y.value=!0,w.value=!0,await st(s.tracking_id)},Ne=()=>{Y.value=!1,v.value=null,w.value=$()},pt=s=>{Z(),v.value=s,B.value=!0,w.value=!0},ze=()=>{B.value=!1,v.value=null,w.value=$()},mt=s=>{Z(),v.value=s,N.value=!0,w.value=!0},Oe=()=>{N.value=!1,v.value=null,w.value=$()},$=()=>K.value||Y.value||B.value||N.value||T.value||W.value||H.value||G.value,Q=i(""),qe=i([{value:"Arts and Sciences, Engineering, Architecture, Computer Studies",label:"Arts and Sciences, Engineering, Architecture, Computer Studies"},{value:"Business, Commerce, Accountancy",label:"Business, Commerce, Accountancy"},{value:"Education / Graduate Studies",label:"Education / Graduate Studies"},{value:"Nursing / Tourism and Hospitality Management",label:"Nursing / Tourism and Hospitality Management"},{value:"Criminology / BS Psychology",label:"Criminology / BS Psychology"}]);i(null),i("asc");const de=i(!1);Yt(async()=>{const s=q.user.email,t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Business, Commerce, Accountancy","cba.registrar@lsu.edu.ph":"Business, Commerce, Accountancy","cte.registrar@lsu.edu.ph":"Education / Graduate Studies","onlinerequest@lsu.edu.ph":"Nursing / Tourism and Hospitality Management","ccje.registrar@lsu.edu.ph":"Criminology / BS Psychology"},n=["jorenleeluna24@gmail.com","registrar@lsu.edu.ph","jason.yap@lsu.edu.ph"],a=[...n,...Object.keys(t)];window.addEventListener("keydown",b=>{b.key==="Escape"&&W.value&&ne()}),q.user.isAuthenticated&&a.includes(s)?(n.includes(s)?de.value=!0:Q.value=t[s]||"",await Ie(),be.push("/registrar/dashboard"),_e()):be.push("/registrar/dashboard")});let J=null,w=i(!1),we=i(!1);const ue=i(!1),_e=()=>{J&&clearInterval(J),J=Ot(async()=>{!$()&&!we.value&&!A.value&&!z.value&&!ue.value&&(await ee(),await xt())},Uo)};le(()=>w.value,s=>{if(typeof window<"u"){const t=document.documentElement.classList;s?t.add("overflow-hidden"):t.remove("overflow-hidden")}});const ce=()=>{J&&(clearInterval(J),J=null)},xt=async()=>{ce();try{const s=u.value;if(!s||!Array.isArray(s)||s.length===0)return;const t={},n=[];s.forEach(a=>{if(a.tracking_id)if(t[a.tracking_id]){const b=t[a.tracking_id],l=new Date(b.created_at)>new Date(a.created_at)?b.id:a.id;n.push(l)}else t[a.tracking_id]=a});for(const a of n)await $fetch(_.value+"/api/registrar/"+a+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});n.length>0&&await Ie()}catch(s){console.error("Error checking for duplicates:",s)}finally{_e()}},Ge=i({}),ke=i({}),Ce=i({}),Ae=i({}),Me=i({}),je=()=>{!u.value||!Array.isArray(u.value)||u.value.forEach(s=>{s&&s.id&&(Ge.value[s.id]=yt(s))})},Se=()=>{!u.value||!Array.isArray(u.value)||u.value.forEach(s=>{s&&s.id&&(ke.value[s.id]=ht(s))})},De=()=>{!u.value||!Array.isArray(u.value)||u.value.forEach(s=>{s&&s.id&&(Ce.value[s.id]=bt(s))})},Te=()=>{!u.value||!Array.isArray(u.value)||u.value.forEach(s=>{s&&s.id&&(Ae.value[s.id]=wt(s))})},$e=()=>{!u.value||!Array.isArray(u.value)||u.value.forEach(s=>{s&&s.id&&(Me.value[s.id]=_t(s))})},yt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Reviewed and Verified")),ht=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Assessment")),bt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Preparing Documents")),wt=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Releasing Documents")),_t=s=>!s||!s.logs||!Array.isArray(s.logs)||s.logs.length===0?!1:s.logs.some(t=>t.status_remarks&&t.status_remarks.includes("Transaction Closed"));le(()=>u.value,()=>{je(),Se(),De(),Te(),$e()},{deep:!0});const ee=async()=>{if(!ue.value){ue.value=!0;try{const s=await $fetch(_.value+"/api/registrar/list").catch(()=>[])||[],t=(n,a)=>{const b=new Map((n||[]).map(d=>[d.id,d])),l=[];for(const d of a||[])d&&b.has(d.id)?(Object.assign(b.get(d.id),d),l.push(b.get(d.id))):d&&l.push(d);return l};if(Array.isArray(s)&&(O.value.length>0?(O.value=t(O.value,s),Ee()):u.value.length===0?u.value=s:u.value=t(u.value,s),je(),Se(),De(),Te(),$e(),v.value)){const n=s.find(a=>a.id===v.value.id);n&&Object.assign(v.value,n)}}catch(s){console.error("Error fetching list items quietly:",s)}finally{ue.value=!1}}},Ie=async()=>{fe.value=!0;try{const s=await $fetch(_.value+"/api/registrar/list").catch(t=>(console.error("Fetch error:",t),[]));u.value=Array.isArray(s)?s:[],O.value=[],ge.value="",je(),Se(),De(),Te(),$e()}catch(s){console.error("Error fetching list items:",s),u.value=[]}finally{fe.value=!1}};We(()=>{ce()});const kt=()=>{be.push("/registrar/login"),q.removeToken()},k=i([]),te=i(!1),He=R(()=>k.value.length===me.value.length&&me.value.length>0),Ct=()=>{ce(),we.value=!0,He.value?k.value=[]:k.value=me.value.map(s=>s.id),_e(),we.value=!1},At=()=>{k.value.length!==0&&(G.value=!0,w.value=!0)},Mt=()=>{G.value=!1,w.value=$()},jt=async()=>{if(k.value.length!==0)try{te.value=!0;for(const s of k.value)await $fetch(_.value+"/api/registrar/"+s+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});k.value=[],await Ie(),G.value=!1,w.value=$()}catch(s){console.error("Error deleting items:",s)}finally{te.value=!1}},se=R(()=>{let s=[...u.value];return V.value==="done"?s=s.filter(t=>t.logs?.some(n=>(n?.status_remarks?.toLowerCase()||"").includes("transaction closed"))):V.value==="pending"&&(s=s.filter(t=>t.logs?.every(n=>!(n?.status_remarks?.toLowerCase()||"").includes("transaction closed")))),zt.orderBy(s,"created_at","asc")}),St=s=>se.value.filter(t=>t.college===s&&t.logs?.some(n=>(n?.status_remarks?.toLowerCase()||"").includes("transaction closed"))).length,Dt=s=>se.value.filter(t=>t.college===s&&t.logs?.every(n=>!(n?.status_remarks?.toLowerCase()||"").includes("transaction closed"))).length,Tt=s=>se.value.filter(t=>t.college===s).length,$t=s=>{const t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Business, Commerce, Accountancy","cba.registrar@lsu.edu.ph":"Business, Commerce, Accountancy","cte.registrar@lsu.edu.ph":"Education / Graduate Studies","onlinerequest@lsu.edu.ph":"Nursing / Tourism and Hospitality Management","ccje.registrar@lsu.edu.ph":"Criminology / BS Psychology"};return Object.keys(t).filter(n=>t[n]===s)},fe=i(!0),I=i(1),ge=i(""),O=i([]),Pe=i(!1),ve=i(!1),Ke=R(()=>Math.ceil(se.value.length/Le)),pe=R(()=>{const s=(I.value-1)*Le,t=s+Le;return se.value.slice(s,t)}),me=R(()=>!Q.value||!Q.value?pe.value:pe.value.filter(t=>t.college===Q.value)),It=R(()=>{const s=[];let t=Math.max(1,I.value-Math.floor(he/2)),n=Math.min(Ke.value,t+he-1);n-t+1<he&&(t=Math.max(1,n-he+1));for(let a=t;a<=n;a++)s.push(a);return s});We(()=>{window.removeEventListener("keydown",s=>{s.key==="Escape"&&W.value&&ne()}),ce()});const Ee=()=>{I.value=1,O.value.length===0&&u.value.length>0&&(O.value=[...u.value]);const s=ge.value.toLowerCase().trim(),t=O.value.length>0?O.value:u.value;u.value=t.filter(n=>n?Object.keys(n).some(a=>typeof n[a]=="string"?n[a].toLowerCase().includes(s):!1):!1),k.value=[]},P=R(()=>!v.value?.logs||!Array.isArray(v.value.logs)?[]:[...v.value.logs].sort((s,t)=>{const n=U(s.timestamp,"MMMM DD, YYYY h:mm:ss A"),a=U(t.timestamp,"MMMM DD, YYYY h:mm:ss A");return n.valueOf()-a.valueOf()}));le(u,s=>{}),le(Q,()=>{k.value=[]}),le(V,()=>{k.value=[]});const Pt=R(()=>q.user.email==="jorenleeluna24@gmail.com"||q.user.email==="registrar@lsu.edu.ph"),x=i({payment_id:"PID"+U().valueOf(),fullname:"",email:"",course:"",college:"",date_graduated_last_attended:"",total:"0",tracking_id:"",receipt_image_url:[],detail_fees:[]}),Qe=i({"Transcript of Records":85,"Transfer of Credentials (Honorable Dismissal)":0,"CAV (Certification, Authentication, Verification)":0,"Credential Evaluations (WES, CGFNS, NCLEX, SpanTran, IES, etc.)":0}),Et=()=>{x.value.detail_fees.push({fee_name:"",amount:0}),xe()},Ut=s=>{x.value.detail_fees.splice(s,1),xe()},xe=()=>{let s=0;x.value.detail_fees.forEach(n=>{s+=Number((n.amount||0).toString())});const t=s.toFixed(2);x.value.total=t},ye=s=>{try{const t=typeof s=="string"?s:s?.url||s?.href||"";if(!t)return"";const n=t.match(/^(.*?\.(?:png|jpe?g))(?:[?#].*)?$/i);return n?n[1]:t}catch{return""}};le(()=>x.value.detail_fees,()=>xe(),{deep:!0});const Vt=R(()=>x.value?.detail_fees?.some(s=>!s.fee_name||s.fee_name.trim()===""));return(s,t)=>{const n=Lt;return r(),o(S,null,[e("div",null,[e("div",Gt,[y(e("div",Ht,[e("div",Kt,[e("div",Qt,[e("div",Wt,[t[23]||(t[23]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",Xt,c(D(q).user.email),1)]),e("div",{onClick:t[0]||(t[0]=a=>Ze(j)?j.value=!D(j):j=!D(j)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:g(["fa text-3xl text-white",D(j)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[24]||(t[24]=Ue('<div class="" data-v-181b6ef8><div class="w-fit mx-auto mt-5 mb-3" data-v-181b6ef8><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto" data-v-181b6ef8></div><div class="text-center" data-v-181b6ef8><h1 class="font-bold text-green-800 text-2xl" data-v-181b6ef8>Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1" data-v-181b6ef8><a href="/registrar/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white" data-v-181b6ef8><i class="fa fa-list mr-3" aria-hidden="true" data-v-181b6ef8></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white" data-v-181b6ef8><i class="fa fa-globe mr-3" aria-hidden="true" data-v-181b6ef8></i> LSU HOME PAGE </a></div></div>',1))])],512),[[Xe,D(j)]]),e("div",Zt,[e("div",Jt,[e("div",es,[e("div",{onClick:t[1]||(t[1]=a=>Ze(j)?j.value=!D(j):j=!D(j)),class:"w-auto flex items-center lg:px-1.5"},[e("i",{class:g(["fa text-3xl text-white",D(j)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),t[25]||(t[25]=e("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Registrar ",-1))]),e("button",{onClick:kt,class:"flex hover:font-bold pt-1"},[...t[26]||(t[26]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)])])])]),Pt.value?(r(),o("div",ts,[e("div",ss,[(r(!0),o(S,null,E(qe.value,a=>(r(),o("div",{key:a.value,class:"border border-gray-300 rounded-lg px-2 py-1 shadow-sm w-full lg:mb-0 mb-2"},[e("div",as,c(a.label),1),e("div",ls,c($t(a.value).join(", ")),1),e("div",os,[e("span",rs," Pending: "+c(Dt(a.value)),1),e("span",ns," Done: "+c(St(a.value)),1),e("span",is," Total: "+c(Tt(a.value)),1)])]))),128))])])):f("",!0),e("div",null,[e("div",ds,[y(e("div",us,[t[100]||(t[100]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-1 py-1 text-xs uppercase"}," All Request Lists ",-1)),h.value?(r(),o("div",cs,[e("p",fs,c(h.value),1)])):f("",!0),m.value?(r(),o("div",gs,[e("p",vs,c(m.value),1)])):f("",!0),e("div",ps,[e("div",ms,[de.value?(r(),o("div",xs,[e("button",{onClick:Ct,class:"flex items-center text-xs px-2 py-1 rounded-md bg-gray-100 hover:bg-gray-200 text-gray-700 transition whitespace-nowrap"},c(He.value?"Deselect All":"Select All"),1),e("button",{onClick:At,disabled:k.value.length===0,class:g([k.value.length===0?"bg-pink-100 text-red-300 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700","flex items-center text-xs px-2 py-1 rounded-md transition whitespace-nowrap"])},[t[27]||(t[27]=e("i",{class:"fa fa-trash mr-1"},null,-1)),p(" ("+c(k.value.length)+") ",1)],10,ys)])):f("",!0),de.value?(r(),o("div",hs,[y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>Q.value=a),class:"w-full text-xs px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},[t[28]||(t[28]=e("option",{value:""},"All Colleges",-1)),(r(!0),o(S,null,E(qe.value,a=>(r(),o("option",{key:a.value,value:a.value},c(a.label),9,bs))),128))],512),[[Ve,Q.value]])])):f("",!0),e("div",ws,[y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=a=>ge.value=a),type:"search",placeholder:"Search",class:"text-xs w-full border border-gray-300 rounded-md px-2 py-1 pr-8 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",onKeyup:Je(Ee,["enter"])},null,544),[[C,ge.value]]),e("button",{onClick:Ee,class:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-green-600"},[...t[29]||(t[29]=[e("i",{class:"fa fa-search"},null,-1)])])]),e("div",_s,[e("button",{onClick:t[4]||(t[4]=a=>V.value="all"),class:g([V.value==="all"?"bg-gray-900 text-white":"bg-white text-gray-900 border hover:bg-gray-900 hover:text-white","text-xs border border-gray-900 px-2 py-1 rounded-full transition"])}," All ",2),e("button",{onClick:t[5]||(t[5]=a=>V.value="pending"),class:g([V.value==="pending"?"bg-red-500 text-white":"bg-white text-red-600 border hover:bg-red-500 hover:text-white","text-xs border border-red-600 px-2 py-1 rounded-full transition"])}," Pending ",2),e("button",{onClick:t[6]||(t[6]=a=>V.value="done"),class:g([V.value==="done"?"bg-green-600 text-white":"bg-white text-green-600 border hover:bg-green-600 hover:text-white","text-xs border border-green-600 px-2 py-1 rounded-full transition"])}," Done ",2)])])]),e("div",ks,[e("div",Cs,[fe.value?(r(),o("div",As,[...t[30]||(t[30]=[Ue('<div class="" data-v-181b6ef8><div class="flex animate-pulse space-x-4" data-v-181b6ef8><div class="flex-1" data-v-181b6ef8><div class="h-10 bg-gray-300" data-v-181b6ef8></div><div class="h-0.5 bg-gray-100" data-v-181b6ef8></div><div class="h-10 bg-gray-200" data-v-181b6ef8></div><div class="h-0.5 bg-gray-100" data-v-181b6ef8></div><div class="h-10 bg-gray-300" data-v-181b6ef8></div><div class="h-0.5 bg-gray-100" data-v-181b6ef8></div><div class="h-10 bg-gray-200" data-v-181b6ef8></div><div class="h-0.5 bg-gray-100" data-v-181b6ef8></div><div class="h-10 bg-gray-300" data-v-181b6ef8></div><div class="h-0.5 bg-gray-100" data-v-181b6ef8></div><div class="h-10 bg-gray-100" data-v-181b6ef8></div><div class="h-0.5 bg-gray-100" data-v-181b6ef8></div></div></div></div>',1)])])):(r(),o("div",Ms,[pe.value.length>0?(r(),o("div",js,[(r(!0),o(S,null,E(me.value,(a,b)=>(r(),o("div",{class:"flex items-center h-auto shadow lg:mb-0 mb-3 border-gray-200",key:b},[de.value?(r(),o("div",Ss,[e("div",Ds,[y(e("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":t[7]||(t[7]=l=>k.value=l),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"},null,8,Ts),[[Nt,k.value]])])])):f("",!0),e("div",{class:g(["w-full border-l lg:flex items-center",b%2?"bg-gray-100":""])},[e("div",$s,[e("div",null,[e("div",Is,[e("div",Ps,[e("div",Es,[t[31]||(t[31]=e("span",{class:"mr-1"},"Tracking ID:",-1)),e("span",Us,c(a.tracking_id),1)])])])])]),e("div",Vs,[e("div",Ls,[e("div",Rs,[t[32]||(t[32]=e("i",{class:"fa fa-user mr-2.5"},null,-1)),p(" "+c(a.lastname)+", "+c(a.firstname)+" "+c(a.middlename),1)])]),T.value&&v.value===a?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-xs transition-opacity duration-300",onClick:ie},[e("div",{class:g(["rounded-lg p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":T.value,"scale-95 opacity-0":!T.value}]),onClick:t[8]||(t[8]=M(()=>{},["stop"]))},[e("div",Fs,[e("h3",Ys," Status Logs - "+c(v.value?.tracking_id||"N/A"),1),e("button",{onClick:ie,class:"text-gray-400 hover:text-gray-500"},[...t[33]||(t[33]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",Bs,[!v.value?.logs||v.value.logs.length===0?(r(),o("div",Ns," No logs available ")):(r(),o("div",zs,[(r(!0),o(S,null,E(P.value,(l,d)=>(r(),o("div",{key:d,class:g(["border-l-4 rounded-r text-[10px]",d===P.value.length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[e("div",Os,[e("div",{class:g(["font-medium w-9/12",d===P.value.length-1?"text-green-800 text-sm":"text-gray-500"])},[e("div",{class:g(["w-full bg-transparent focus:outline-none px-1",d===P.value.length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},c(l.status_remarks),3)],2),e("div",qs,[e("div",{class:g(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",d===P.value.length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},c(l.timestamp),3)])])],2))),128))]))])],2)])):f("",!0),H.value&&re.value===a?(r(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md transition-opacity duration-300",onClick:Be},[e("div",{class:g(["bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-2xl px-5 py-2 w-11/12 mx-auto transform transition-transform duration-300 max-h-[95vh] overflow-y-auto",{"scale-100 opacity-100":H.value,"scale-95 opacity-0":!H.value}]),onClick:t[10]||(t[10]=M(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-2 pb-2 border-b-2 border-green-200"},[t[35]||(t[35]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-700 rounded-full flex items-center justify-center shadow-lg"},[e("i",{class:"fa fa-user text-white text-xl"})]),e("div",null,[e("h3",{class:"text-lg font-bold text-gray-900"}," Personal Information ")])],-1)),e("button",{onClick:Be,class:"w-10 h-10 flex items-center justify-center rounded-full bg-red-100 text-red-600 hover:bg-red-600 hover:text-white transition-all duration-200 shadow-md"},[...t[34]||(t[34]=[e("i",{class:"fa fa-times text-lg"},null,-1)])])]),e("div",Gs,[e("div",Hs,[t[41]||(t[41]=e("h4",{class:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2"},[e("i",{class:"fa fa-id-card text-green-600"}),p(" Personal Details ")],-1)),e("div",Ks,[t[36]||(t[36]=e("label",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-user text-green-600 mr-2"}),p(" Fullname ")],-1)),e("div",Qs,c(a.firstname)+" "+c(a.middlename)+" "+c(a.lastname),1)]),e("div",Ws,[t[37]||(t[37]=e("label",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-birthday-cake text-green-500 mr-2"}),p(" Date of Birth ")],-1)),y(e("input",{type:"text",class:"w-full bg-white border border-gray-300 rounded-lg px-4 py-1 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all","onUpdate:modelValue":l=>a.birthdate=l},null,8,Xs),[[C,a.birthdate]])]),e("div",Zs,[t[38]||(t[38]=e("label",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-female text-green-500 mr-2"}),p(" Mother's Maiden Name ")],-1)),y(e("input",{type:"text",class:"w-full bg-white border border-gray-300 rounded-lg px-4 py-1 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all","onUpdate:modelValue":l=>a.mother_maiden_name=l},null,8,Js),[[C,a.mother_maiden_name]])]),e("div",ea,[t[39]||(t[39]=e("label",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-envelope text-green-600 mr-2"}),p(" Email ")],-1)),y(e("input",{type:"text",class:"w-full bg-white border border-gray-300 rounded-lg px-4 py-1 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all","onUpdate:modelValue":l=>a.email=l},null,8,ta),[[C,a.email]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-phone text-green-600 mr-2"}),p(" Contact Number ")],-1)),y(e("input",{type:"text",class:"w-full bg-white border border-gray-300 rounded-lg px-4 py-1 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all","onUpdate:modelValue":l=>a.contact_number=l},null,8,sa),[[C,a.contact_number]])])]),e("div",aa,[e("div",la,[t[48]||(t[48]=e("h4",{class:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2"},[e("i",{class:"fa fa-graduation-cap text-green-600"}),p(" Academic Information ")],-1)),e("div",oa,[t[43]||(t[43]=e("label",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-graduation-cap text-green-500 mr-2"}),p(" ICC / LSU Graduate? ")],-1)),y(e("select",{class:"w-full bg-white border border-gray-300 rounded-lg px-4 py-1 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all","onUpdate:modelValue":l=>a.alumni=l},[...t[42]||(t[42]=[e("option",{value:"yes"},"Alumnus",-1),e("option",{value:"no"}," Non-Alumnus ",-1)])],8,ra),[[Ve,a.alumni]])]),e("div",na,[t[44]||(t[44]=e("label",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-calendar text-green-500 mr-2"}),p(" Academic Year Graduated or Attended ")],-1)),y(e("input",{type:"text",class:"w-full bg-white border border-gray-300 rounded-lg px-4 py-1 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all","onUpdate:modelValue":l=>a.year_graduated_last_attended=l},null,8,ia),[[C,a.year_graduated_last_attended]])]),e("div",da,[t[46]||(t[46]=e("label",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-university text-green-500 mr-2"}),p(" College ")],-1)),y(e("select",{class:"w-full bg-white border border-gray-300 rounded-lg px-4 py-1 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all","onUpdate:modelValue":l=>a.college=l},[...t[45]||(t[45]=[Ue('<option value="" data-v-181b6ef8>Choose</option><option value="Arts and Sciences, Engineering, Architecture, Computer Studies" data-v-181b6ef8> Arts and Sciences, Engineering, Architecture, Computer Studies </option><option value="Business, Commerce, Accountancy" data-v-181b6ef8> Business, Commerce, Accountancy </option><option value="Education / Graduate Studies" data-v-181b6ef8> Education / Graduate Studies </option><option value="Nursing / Tourism and Hospitality Management" data-v-181b6ef8> Nursing / Tourism and Hospitality Management </option><option value="Criminology / BS Psychology" data-v-181b6ef8> Criminology / BS Psychology </option>',6)])],8,ua),[[Ve,a.college]])]),e("div",ca,[t[47]||(t[47]=e("label",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-book text-green-500 mr-2"}),p(" Course ")],-1)),y(e("input",{type:"text",class:"w-full bg-white border border-gray-300 rounded-lg px-4 py-1 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all","onUpdate:modelValue":l=>a.course=l},null,8,fa),[[C,a.course]])])])]),e("div",ga,[e("div",va,[t[58]||(t[58]=e("p",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-file-text text-green-600 mr-2"}),p(" Documents & Attachments ")],-1)),e("div",pa,[e("div",ma,[a?(r(),o("span",xa,[e("a",{onClick:M(l=>oe(a.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0]),["prevent"])},[a.valid_id_front?.[0]?.url?.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?(r(),o("img",{key:0,src:a.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0],class:"cursor-pointer rounded-lg border-2 border-green-800 w-auto h-[50px] hover:opacity-80 transition-opacity"},null,8,ha)):f("",!0)],8,ya),a.valid_id_front?.[0]?.url?.match(/https:\/\/.*?\.(pdf)/i)?(r(),o("a",{key:0,href:a.valid_id_front?.[0]?.url.match(/https:\/\/.*?\.(pdf)/i)?.[0],target:"_blank",download:""},[...t[49]||(t[49]=[e("i",{class:"fa fa-file-pdf text-red-700 text-2xl","aria-hidden":"true"},null,-1)])],8,ba)):f("",!0),a.valid_id_front?.[0]?.url?.match(/https:\/\/.*?\.(docx)/i)?(r(),o("a",{key:1,href:a.valid_id_front?.[0]?.url.match(/https:\/\/.*?\.(docx)/i)?.[0],target:"_blank",download:""},[...t[50]||(t[50]=[e("i",{class:"fa fa-file text-blue-800 text-2xl","aria-hidden":"true"},null,-1)])],8,wa)):f("",!0),e("a",{onClick:M(l=>oe(a.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0]),["prevent"])},[a.valid_id_back?.[0]?.url?.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?(r(),o("img",{key:0,src:a.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0],class:"cursor-pointer rounded-lg border-2 border-green-800 w-auto h-[50px] hover:opacity-80 transition-opacity"},null,8,ka)):f("",!0)],8,_a),a.valid_id_back?.[0]?.url?.match(/https:\/\/.*?\.(pdf)/i)?(r(),o("a",{key:2,href:a.valid_id_back?.[0]?.url.match(/https:\/\/.*?\.(pdf)/i)?.[0],target:"_blank",download:""},[...t[51]||(t[51]=[e("i",{class:"fa fa-file-pdf text-red-700 text-2xl","aria-hidden":"true"},null,-1)])],8,Ca)):f("",!0),a.valid_id_back?.[0]?.url?.match(/https:\/\/.*?\.(docx)/i)?(r(),o("a",{key:3,href:a.valid_id_back?.[0]?.url.match(/https:\/\/.*?\.(docx)/i)?.[0],target:"_blank",download:""},[...t[52]||(t[52]=[e("i",{class:"fa fa-file text-blue-800 text-2xl","aria-hidden":"true"},null,-1)])],8,Aa)):f("",!0),e("a",{onClick:M(l=>oe(a.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0]),["prevent"])},[a.credential_evaluation_requests?.[0]?.url?.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?(r(),o("img",{key:0,src:a.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif)/i)?.[0],class:"cursor-pointer rounded-lg border-2 border-green-800 w-auto h-[50px] hover:opacity-80 transition-opacity"},null,8,ja)):f("",!0)],8,Ma),a.credential_evaluation_requests?.[0]?.url?.match(/https:\/\/.*?\.(pdf)/i)?(r(),o("a",{key:4,href:a.credential_evaluation_requests?.[0]?.url.match(/https:\/\/.*?\.(pdf)/i)?.[0],target:"_blank",download:""},[...t[53]||(t[53]=[e("i",{class:"fa fa-file-pdf text-red-700 text-2xl","aria-hidden":"true"},null,-1)])],8,Sa)):f("",!0),a.credential_evaluation_requests?.[0]?.url?.match(/https:\/\/.*?\.(docx)/i)?(r(),o("a",{key:5,href:a.credential_evaluation_requests?.[0]?.url.match(/https:\/\/.*?\.(docx)/i)?.[0],target:"_blank",download:""},[...t[54]||(t[54]=[e("i",{class:"fa fa-file text-blue-800 text-2xl","aria-hidden":"true"},null,-1)])],8,Da)):f("",!0)])):f("",!0)]),a.details?(r(),o("div",Ta,[t[55]||(t[55]=e("p",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-info-circle text-green-600 mr-2"}),p(" Purpose and Details: ")],-1)),e("p",$a,c(a.details),1)])):f("",!0),e("div",Ia,[t[56]||(t[56]=e("p",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-list-alt text-green-600 mr-2"}),p(" Type of Document Request ")],-1)),e("div",Pa,[(r(!0),o(S,null,E(a?.type_document_requests||[],(l,d)=>(r(),o("span",{key:d,class:"px-3 py-1.5 text-xs font-semibold rounded-full bg-gradient-to-r from-green-100 to-green-200 text-green-800 border border-green-400 shadow-sm"},c(l),1))),128))])]),e("div",null,[t[57]||(t[57]=e("label",{class:"flex items-center text-sm font-semibold text-gray-700 mb-2"},[e("i",{class:"fa fa-bookmark text-green-600 mr-2"}),p(" Tracking ID ")],-1)),e("div",Ea,c(a.tracking_id),1)])])])]),e("div",Ua,[e("div",Va,[t[66]||(t[66]=e("div",{class:"bg-gradient-to-r from-green-600 to-green-700 px-5 py-2"},[e("p",{class:"text-sm font-bold text-white flex items-center gap-2"},[e("i",{class:"fa fa-comments"}),p(" Follow-up remarks and responses ")])],-1)),e("div",La,[a.follow_up_remarks?(r(),o("div",Ra,[t[60]||(t[60]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-10 h-10 rounded-full bg-green-600 flex items-center justify-center text-white shadow-md"},[e("i",{class:"fa fa-user-tie"})])],-1)),e("div",Fa,[t[59]||(t[59]=e("div",{class:"flex items-center gap-2 mb-1 justify-end"},[e("span",{class:"text-xs text-gray-500"},"Registrar"),e("span",{class:"text-sm font-bold text-gray-900"},"You")],-1)),e("div",Ya,[e("p",Ba,c(a.follow_up_remarks),1)])])])):f("",!0),a.additional_response_details?(r(),o("div",Na,[e("div",za,[e("div",Oa,c(a.firstname?.charAt(0))+c(a.lastname?.charAt(0)),1)]),e("div",qa,[e("div",Ga,[e("span",Ha,c(a.firstname)+" "+c(a.lastname),1),t[61]||(t[61]=e("span",{class:"text-xs text-gray-500"},"Applicant",-1))]),e("div",Ka,[e("p",Qa,c(a.additional_response_details),1)])])])):f("",!0),!a.additional_response_details&&!a.follow_up_remarks?(r(),o("div",Wa,[...t[62]||(t[62]=[e("i",{class:"fa fa-comment-slash text-gray-300 text-4xl mb-3"},null,-1),e("p",{class:"text-sm text-gray-500"}," No messages yet ",-1)])])):f("",!0)]),e("div",Xa,[t[65]||(t[65]=e("label",{class:"text-xs font-semibold text-gray-700 mb-2 flex items-center gap-2"},[e("i",{class:"fa fa-pencil text-green-600"}),p(" Send Follow-up Message ")],-1)),e("div",Za,[y(e("textarea",{class:"w-full bg-gray-50 border-2 border-gray-300 rounded-xl px-4 py-3 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all resize-none",placeholder:"Type your follow-up remarks here...","onUpdate:modelValue":t[9]||(t[9]=l=>L.value=l),rows:"2",onKeydown:Je(M(l=>Fe(a),["prevent"]),["enter"])},null,40,Ja),[[C,L.value]]),t[63]||(t[63]=e("div",{class:"absolute bottom-3 right-3 text-xs text-gray-400"},[e("i",{class:"fa fa-keyboard-o mr-1"}),p(" Press Enter to send ")],-1))]),e("button",{onClick:l=>Fe(a),disabled:!L.value.trim(),class:"mt-3 w-full flex items-center justify-center gap-2 px-4 py-2.5 font-semibold text-white bg-gradient-to-r from-green-600 to-green-700 rounded-lg shadow-md hover:shadow-lg hover:from-green-700 hover:to-green-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[...t[64]||(t[64]=[e("i",{class:"fa fa-paper-plane"},null,-1),e("span",null,"Send Message",-1)])],8,el)])])])]),e("div",tl,[e("div",sl,[e("button",{onClick:l=>ot(a),disabled:z.value,class:"flex-1 flex items-center justify-center gap-2 px-6 py-3 font-bold text-white bg-gradient-to-r from-green-600 to-green-700 rounded-xl shadow-lg hover:shadow-xl hover:from-green-700 hover:to-green-800 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},[z.value?(r(),o("i",ll)):(r(),o("i",ol)),z.value?(r(),o("span",rl,"Verifying...")):(r(),o("span",nl,"Very Information"))],8,al)])])],2)])):f("",!0)]),K.value&&v.value===a?(r(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:Ye},[e("div",{class:g(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-3xl mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":K.value,"scale-95 opacity-0":!K.value}]),onClick:t[15]||(t[15]=M(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[68]||(t[68]=e("h3",{class:"text-lg font-medium text-gray-900"}," Payment Information ",-1)),e("button",{onClick:Ye,class:"text-gray-400 hover:text-gray-500"},[...t[67]||(t[67]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",il,[e("div",dl,[e("div",ul,[e("div",cl,[t[69]||(t[69]=e("label",{class:"text-xs text-gray-900 whitespace-nowrap"},"Department / College",-1)),y(e("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=l=>x.value.college=l),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[C,x.value.college]])])]),e("div",fl,[e("div",gl,[t[70]||(t[70]=e("label",{class:"text-xs text-gray-900"},"Course",-1)),y(e("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=l=>x.value.course=l),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[C,x.value.course]])])]),e("div",vl,[e("div",pl,[t[71]||(t[71]=e("label",{class:"text-xs text-gray-900 whitespace-nowrap"},"Date Graduated/Last Attended",-1)),y(e("input",{type:"date","onUpdate:modelValue":t[13]||(t[13]=l=>x.value.date_graduated_last_attended=l),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500",placeholder:"Month Day Year"},null,512),[[C,x.value.date_graduated_last_attended]])])]),e("div",ml,[e("div",xl,[t[72]||(t[72]=e("label",{class:"text-xs text-gray-900"},"Total",-1)),y(e("input",{type:"number","onUpdate:modelValue":t[14]||(t[14]=l=>x.value.total=l),class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500"},null,512),[[C,x.value.total]])])])]),e("div",yl,[e("div",hl,[t[74]||(t[74]=e("p",{class:"font-medium text-gray-900 text-center py-2"}," Detail Fees ",-1)),(r(!0),o(S,null,E(x.value?.detail_fees,(l,d)=>(r(),o("div",{key:d,class:"flex w-full gap-x-3"},[e("div",bl,[e("label",{for:"fee_name_"+d,class:"w-full text-xs font-medium text-gray-700"}," Fee Name: ",8,wl),y(e("input",{type:"text",id:"fee_name_"+d,"onUpdate:modelValue":ae=>l.fee_name=ae,class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},null,8,_l),[[C,l.fee_name]])]),e("div",kl,[e("label",{for:"fee_amount_"+d,class:"w-full text-xs font-medium text-gray-700"}," Amount: ",8,Cl),y(e("input",{type:"number",id:"fee_amount_"+d,"onUpdate:modelValue":ae=>l.amount=ae,class:"w-full text-xs shadow-md py-1 px-2 rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"},null,8,Al),[[C,l.amount]])]),e("button",{onClick:ae=>Ut(d),class:"px-1.5 py-1 text-red-500 hover:text-white text-xs bg-white border border-red-600 rounded-md hover:bg-red-600"},[...t[73]||(t[73]=[e("i",{class:"fa fa-close"},null,-1)])],8,Ml)]))),128))]),e("button",{onClick:Et,class:"mx-auto px-3 py-1 text-sm bg-green-500 text-white rounded-md hover:bg-green-600 mt-5"}," Add Fee ")]),e("div",jl,[t[75]||(t[75]=e("label",{class:"text-xs text-gray-900 mb-2"}," Follow Up Remarks: ",-1)),y(e("textarea",{class:"text-xs shadow-md py-1 px-2 w-full border-2 border-black",placeholder:"Follow Up Remarks","onUpdate:modelValue":l=>a.follow_up_remarks=l,rows:"3"},null,8,Sl),[[C,a.follow_up_remarks]])]),e("div",Dl,[e("button",{onClick:l=>dt(a),disabled:Vt.value||ve.value,class:"w-full text-center px-2 py-1 font-bold bg-green-600 text-white rounded-md mt-2 cursor-pointer hover:bg-white hover:text-green-600 border hover:border-green-600"},[ve.value?(r(),o(S,{key:0},[t[76]||(t[76]=e("svg",{class:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})],-1)),t[77]||(t[77]=p(" Sending... ",-1))],64)):(r(),o(S,{key:1},[p(" Send Payment ")],64))],8,Tl)]),Pe.value?(r(),o("div",$l," ✅ Payment details sent successfully! ")):f("",!0)])],2)])):f("",!0),T.value&&v.value===a?(r(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:ie},[e("div",{class:g(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-2xl mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":T.value,"scale-95 opacity-0":!T.value}]),onClick:t[16]||(t[16]=M(()=>{},["stop"]))},[e("div",Il,[e("h3",Pl," Status Logs - "+c(v.value?.tracking_id||"N/A"),1),e("button",{onClick:ie,class:"text-gray-400 hover:text-gray-500"},[...t[78]||(t[78]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",El,[!v.value?.logs||v.value.logs.length===0?(r(),o("div",Ul," No logs available ")):(r(),o("div",Vl,[(r(!0),o(S,null,E(P.value,(l,d)=>(r(),o("div",{key:d,class:g(["border-l-4 rounded-r text-[10px]",d===P.value.length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[e("div",Ll,[e("div",{class:g(["font-medium w-9/12",d===P.value.length-1?"text-green-800 text-sm":"text-gray-500"])},[e("div",{class:g(["w-full bg-transparent focus:outline-none px-1",d===P.value.length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},c(l.status_remarks),3)],2),e("div",Rl,[e("div",{class:g(["whitespace-nowrap bg-transparent text-center -mb-0.5 focus:outline-none px-1 pb-0.5",d===P.value.length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},c(l.timestamp),3)])])],2))),128))]))])],2)])):f("",!0)],2),Y.value&&v.value===a?(r(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:Ne},[e("div",{class:g(["bg-white dark:bg-gray-800 rounded-xl shadow-3xl p-6 w-full max-w-sm mx-4 transform transition-all duration-300 ease-out",{"scale-100 opacity-100":Y.value,"scale-95 opacity-0":!Y.value}]),onClick:t[17]||(t[17]=M(()=>{},["stop"]))},[e("div",{class:"flex items-center justify-between pb-4 mb-4 border-b border-gray-200 dark:border-gray-700"},[t[80]||(t[80]=e("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-100"}," Verify & Prepare Documents ",-1)),e("button",{onClick:Ne,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors duration-200 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700"},[...t[79]||(t[79]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})],-1)])])]),e("div",Fl,[X.value?.receipt_image_url?.length?(r(),o("div",Yl,[t[82]||(t[82]=e("p",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"}," Uploaded Receipts: ",-1)),e("div",Bl,[(r(!0),o(S,null,E(X.value.receipt_image_url,(l,d)=>(r(),o("div",{key:d,class:"group relative"},[e("a",{href:"#",onClick:M(ae=>oe(ye(l)),["prevent"]),class:"block"},[e("img",{src:ye(l),alt:"Uploaded Receipt",class:"w-16 h-16 object-cover rounded-md border border-gray-200 dark:border-gray-700 transition-all duration-200 group-hover:scale-105 group-hover:shadow-md"},null,8,zl),t[81]||(t[81]=e("span",{class:"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-md text-white text-xs font-semibold"},"View",-1))],8,Nl)]))),128))])])):f("",!0),X.value?.additional_docs_image_url?.length?(r(),o("div",Ol,[t[84]||(t[84]=e("p",{class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2"}," Uploaded Additional Documents: ",-1)),e("div",ql,[(r(!0),o(S,null,E(X.value.additional_docs_image_url,(l,d)=>(r(),o("div",{key:d,class:"group relative"},[e("a",{href:"#",onClick:M(ae=>oe(ye(l)),["prevent"]),class:"block"},[e("img",{src:ye(l),alt:"Uploaded Receipt",class:"w-16 h-16 object-cover rounded-md border border-gray-200 dark:border-gray-700 transition-all duration-200 group-hover:scale-105 group-hover:shadow-md"},null,8,Hl),t[83]||(t[83]=e("span",{class:"absolute inset-0 flex items-center justify-center bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-md text-white text-xs font-semibold"},"View",-1))],8,Gl)]))),128))])])):f("",!0),e("div",null,[t[85]||(t[85]=e("label",{for:"follow-up-remarks",class:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 block"},"Follow-up Remarks:",-1)),y(e("textarea",{id:"follow-up-remarks",class:"block w-full text-sm rounded-lg border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-100 p-3 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-200 placeholder:text-gray-400 dark:placeholder:text-gray-500",placeholder:"Add any necessary follow-up remarks here...","onUpdate:modelValue":l=>a.follow_up_remarks=l,rows:"3"},null,8,Kl),[[C,a.follow_up_remarks]])]),a.additional_response_details?(r(),o("div",Ql,[t[86]||(t[86]=e("label",{class:"text-sm font-bold text-gray-900 mb-2"},"Additional Response Details:",-1)),e("div",Wl,c(a.additional_response_details),1)])):f("",!0)]),e("div",Xl,[e("button",{onClick:l=>rt(a),class:g(["w-full flex items-center justify-center gap-2 px-4 py-0.5 text-base font-semibold rounded-lg transition-all duration-250 ease-in-out",{"bg-green-600 hover:bg-white hover:text-green-600 text-white hover:border hover:border-green-600  shadow-md hover:shadow-lg":!A.value,"bg-gray-400 text-white cursor-not-allowed":A.value}]),disabled:A.value},[A.value?(r(),o("span",Jl,[...t[87]||(t[87]=[e("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 0 1 4 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),p(" Notifying... ",-1)])])):(r(),o("span",eo,"Notify"))],10,Zl)])],2)])):f("",!0),B.value&&v.value===a?(r(),o("div",{key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:ze},[e("div",{class:g(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-md mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":B.value,"scale-95 opacity-0":!B.value}]),onClick:t[18]||(t[18]=M(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[89]||(t[89]=e("h3",{class:"text-lg font-medium text-gray-900"}," Releasing Documents ",-1)),e("button",{onClick:ze,class:"text-gray-400 hover:text-gray-500"},[...t[88]||(t[88]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",to,[t[90]||(t[90]=e("label",{class:"text-xs text-gray-900 font-bold mb-2"},"Follow Up Remarks:",-1)),y(e("textarea",{class:"text-xs shadow-md py-1 px-2 w-full border-2 border-black",placeholder:"Follow Up Remarks","onUpdate:modelValue":l=>a.follow_up_remarks=l,rows:"5"},null,8,so),[[C,a.follow_up_remarks]])]),a.additional_response_details?(r(),o("div",ao,[t[91]||(t[91]=e("label",{class:"text-sm font-bold text-gray-900 mb-2"},"Additional Response Details:",-1)),e("div",lo,c(a.additional_response_details),1)])):f("",!0),e("div",{onClick:l=>nt(a),class:g(["w-full text-center px-2 py-1 font-bold bg-green-600 text-white rounded-md mt-2 cursor-pointer hover:bg-white hover:text-green-600 border hover:border-green-600",{"opacity-75 cursor-not-allowed":A.value}])},[A.value?(r(),o("span",ro,[...t[92]||(t[92]=[e("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),p(" Confirming... ",-1)])])):(r(),o("span",no,"Confirm"))],10,oo)],2)])):f("",!0),N.value&&v.value===a?(r(),o("div",{key:3,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm transition-opacity duration-300",onClick:Oe},[e("div",{class:g(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-md mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":N.value,"scale-95 opacity-0":!N.value}]),onClick:t[19]||(t[19]=M(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[94]||(t[94]=e("h3",{class:"text-lg font-medium text-gray-900"}," Transaction Closed ",-1)),e("button",{onClick:Oe,class:"text-gray-400 hover:text-gray-500"},[...t[93]||(t[93]=[e("i",{class:"fa fa-times"},null,-1)])])]),e("div",{onClick:l=>it(a),class:g(["w-full text-center px-2 py-1 font-bold bg-green-600 text-white rounded-md mt-2 cursor-pointer hover:bg-white hover:text-green-600 border hover:border-green-600",{"opacity-75 cursor-not-allowed":A.value}])},[A.value?(r(),o("span",uo,[...t[95]||(t[95]=[e("i",{class:"fa fa-spinner fa-spin mr-1"},null,-1),p(" Confirming... ",-1)])])):(r(),o("span",co,"Confirm"))],10,io)],2)])):f("",!0),e("div",fo,[e("div",go,[e("div",vo,[e("button",{onClick:l=>gt(a),class:g(["w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",Ge.value[a.id]?"bg-green-800 text-white":"bg-white text-green-700"])}," 1. Verify Info ",10,po),e("button",{class:g(["w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",ke.value[a.id]?"bg-green-800 text-white":"bg-white text-green-700"]),onClick:l=>ft(a)}," 2. Assessment ",10,mo),e("button",{onClick:l=>vt(a),class:g([Ce.value[a.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 3. Preparing Documents ",10,xo),e("button",{onClick:l=>pt(a),class:g([Ae.value[a.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 4. Releasing Documents ",10,yo),e("button",{onClick:l=>mt(a),class:g([Me.value[a.id]?"bg-green-800 text-white":"bg-white text-green-700","w-full lg:text-center text-left px-1.5 py-1 cursor-pointer border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white"])}," 5. Transaction Closed ",10,ho),e("button",{class:"lg:w-fit w-full px-2 py-1 text-green-700 cursor-pointer bg-white border-b shadow-lg border-green-500 hover:bg-green-800 hover:text-white",onClick:l=>ct(a)},[...t[96]||(t[96]=[e("i",{class:"fa fa-ellipsis-h"},null,-1)])],8,bo)])])])]))),128))])):f("",!0),W.value?(r(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-emerald-900/70 backdrop-blur-md",onClick:ne},[e("div",{class:"relative max-w-4xl max-h-[90vh] overflow-auto bg-white p-2 rounded-lg",onClick:t[20]||(t[20]=M(()=>{},["stop"]))},[e("button",{onClick:ne,class:"absolute top-2 right-2 text-gray-700 hover:text-red-500 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-md"},[...t[97]||(t[97]=[e("i",{class:"fa fa-close"},null,-1)])]),e("img",{src:Re.value,class:"max-w-full max-h-[85vh] object-contain"},null,8,wo)])])):f("",!0),D(G)?(r(),o("div",_o,[e("div",{class:g(["bg-white rounded-xl shadow-2xl p-6 w-full max-w-md mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":D(G),"scale-95 opacity-0":!D(G)}])},[e("div",ko,[t[98]||(t[98]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[e("i",{class:"fa fa-exclamation-triangle text-red-600 text-xl"})],-1)),t[99]||(t[99]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Confirm Deletion ",-1)),e("p",Co," Are you sure you want to delete "+c(k.value.length===1?"this record":"these "+k.value.length+" records")+"? This action cannot be undone. ",1)]),e("div",Ao,[e("button",{onClick:jt,class:"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:te.value},[te.value?(r(),o("i",jo)):f("",!0),p(" "+c(te.value?"Deleting...":"Delete"),1)],8,Mo),e("button",{onClick:Mt,class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:te.value}," Cancel ",8,So)])],2)])):f("",!0)])),se.value.length>0?(r(),o("div",Do,[e("button",{disabled:I.value===1,onClick:t[21]||(t[21]=a=>I.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,To),(r(!0),o(S,null,E(It.value,a=>(r(),o("button",{key:a,onClick:b=>I.value=a,class:g(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":I.value===a,"bg-gray-200":I.value!==a}])},c(a),11,$o))),128)),e("button",{disabled:I.value===Ke.value,onClick:t[22]||(t[22]=a=>I.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,Io)])):fe.value?f("",!0):(r(),o("div",Po," No items found! "))])])],512),[[Xe,D(et)]])])])])])]),e("div",Eo,[Bt(n)])],64)}}},Oo=qt(Vo,[["__scopeId","data-v-181b6ef8"]]);export{Oo as default};
