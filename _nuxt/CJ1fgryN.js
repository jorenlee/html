import{_ as N}from"./C7Ah5uPe.js";import{_ as z}from"./CCncX2MM.js";import{u as E,g as A,r as s,m as F,h as P,c as r,a as e,i as m,v as g,f as o,b as k,j as R,n as v,t as _,F as V,s as M,z as O,x as U,o as d,p as W,e as Y}from"./CWj33f9v.js";import{_ as q}from"./vUEbHlag.js";import"./C5S46NFB.js";import{_ as G}from"./DlAUqK2U.js";import"./Cpj98o6Y.js";const u=h=>(W("data-v-a721f034"),h=h(),Y(),h),H={class:"flex"},J={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},K={class:"w-full min-h-screen"},Q={class:"bg-green-800"},X={class:"lg:flex mx-auto justify-between py-2 px-3.5"},Z={class:"lg:flex items-center text-white gap-5"},ee={class:"flex -mt-1"},te=u(()=>e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),se={class:"text-sm"},ae=u(()=>e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1)),oe=u(()=>e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)),le=[ae,oe],ie={class:"w-full p-5"},ne={class:""},ce={class:"appointment-lists shadow mx-auto text-xs"},re={class:""},de=U('<div class="header w-full p-2 bg-green-800 text-white flex items-center" data-v-a721f034><ul class="lg:flex w-full justify-evenly text-center whitespace-nowrap" data-v-a721f034><li class="lg:w-1/12" data-v-a721f034>No.</li><li class="lg:w-5/12" data-v-a721f034>Title</li><li class="lg:w-1/12" data-v-a721f034>Bid Status</li><li class="lg:w-3/12" data-v-a721f034>Deadline of Submission</li><li class="lg:w-2/12" data-v-a721f034>Action</li></ul></div>',1),ue={key:0,class:"w-full rows"},pe={class:"px-2 lg:w-1/12"},_e={class:"px-2 lg:w-5/12 capitalize"},he={class:"px-2 lg:w-1/12 uppercase"},xe={class:"px-2 lg:w-3/12"},fe={class:"flex px-2 font-bold justify-center lg:w-2/12"},me={class:"mx-auto lg:flex justify-center"},ge=["onClick"],ve=u(()=>e("i",{class:"fa fa-edit text-yellow-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)),we=[ve],ye={class:"mx-auto lg:flex justify-center"},be=["onClick"],ke=u(()=>e("i",{class:"fa fa-trash text-red-500 rounded-lg uppercase text-xl hover:text-3xl","aria-hidden":"true"},null,-1)),Ce=[ke],Se={class:"px-5 rounded-lg bg-white shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"},De=u(()=>e("div",{class:"my-6"},"Are you sure you want to Delete?",-1)),je={key:1,class:"itallic text-gray-400 text-center p-1"},Te={__name:"index",setup(h){const n=E(),a=A(),f=s(a.mainDevServer);F();const c=s(0);s(new Date),s(!1);let w=s(),C=s(!0),l=s(!0),p=s(!1);P(()=>{setTimeout(async()=>{a.user.isAuthenticated&&(a.user.email==="jorenleeluna24@gmail.com"||a.user.email==="procurement@lsu.edu.ph"||a.user.email==="jason.yap@lsu.edu.ph")?(c.value=await $fetch(f.value+"/api/procurements/list").catch(i=>i.data)||0,n.push("/_/panels/procurement")):n.push("/_/unauthorized")},3e3)});const y=i=>{p.value=!p.value,w.value=i},S=async()=>{await $fetch(f.value+"/api/procurements/"+w.value+"/delete/",{method:"DELETE",headers:{Authorization:a.user.token,"Content-Type":"application/json"}}).then(async i=>{c.value=await $fetch(f.value+"/api/procurements/list").catch(x=>x.data)||0,p.value=!p.value})},D=()=>{n.push("/_/proc-admin"),a.removeToken()};s(!0);const j=()=>{n.push("/_/panels/procurement")},T=i=>{n.push("/_/panels/procurement/edit/"+i)},B=()=>{n.push("/_/panels/procurement/create")};return(i,x)=>{const $=N,I=z;return d(),r("div",null,[e("div",H,[m(e("div",J,[k($,{goToList:j,goToCreate:B})],512),[[g,o(l)]]),e("div",K,[e("div",Q,[e("div",X,[e("div",Z,[e("div",{onClick:x[0]||(x[0]=t=>R(l)?l.value=!o(l):l=!o(l)),class:"w-10 px-1.5"},[e("i",{class:v(["fa text-3xl text-white",o(l)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",ee,[te,e("h1",se,_(o(a).user.email),1)])]),e("button",{onClick:D,class:"flex hover:font-bold pt-1"},le)])]),e("div",null,[e("div",ie,[m(e("div",null,[e("div",ne,[e("div",ce,[e("div",re,[de,c.value.length>0?(d(),r("div",ue,[(d(!0),r(V,null,M(o(q).orderBy(c.value,"id","asc"),(t,b)=>(d(),r("ul",{class:"lg:flex w-full justify-evenly py-3 text-center items-center h-auto border-b border-gray-100",key:b},[e("li",pe,_(b+1),1),e("li",_e,_(t.title.toLowerCase()),1),e("li",he,[e("span",{class:v({"border-green-900 px-2 py-1 text-white bg-green-900":t.bid_status==="completed","border-green-900 px-2 py-1 text-white bg-red-500":t.bid_status==="on hold","border-green-900 px-2 py-1 text-white bg-yellow-500":t.bid_status==="ongoing"})},_(t.bid_status),3)]),e("li",xe,_(t.deadline),1),e("li",fe,[e("div",me,[e("button",{onClick:L=>T(t.id)},we,8,ge)]),e("div",ye,[e("button",{onClick:L=>y(t.id)},Ce,8,be)])])]))),128)),m(e("div",Se,[De,e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:S},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:y},"Cancel")])],512),[[g,o(p)]])])):O("",!0),c.value.length===0?(d(),r("div",je," No Results Found! ")):(d(),r("div",{key:2,class:v(["itallic text-gray-400 text-center p-1",c.value.length>0?"hidden":""])}," Please Wait ... ",2))])])])],512),[[g,o(C)]])])])])]),k(I)])}}},Ae=G(Te,[["__scopeId","data-v-a721f034"]]);export{Ae as default};
