import{_ as ke}from"./BZMilKCd.js";import{m as Se,u as Ve,g as Ce,r as o,q as K,h as Ue,c as d,a as e,i as r,v as De,f as l,b as se,j as n,n as Q,t as f,k as le,y as Oe,F as J,s as G,l as _,d as ae,C as Y,z as oe,o as u,A as Ae,p as Te,e as Me,x as Ne}from"./bsZlVJ6X.js";import{u as Re}from"./C4Zbj3hO.js";import{s as ze}from"./DvXpqoDu.js";import{X as Fe}from"./CqrXFCdY.js";/* empty css        */import{h as Pe}from"./C5S46NFB.js";import{_ as E}from"./vUEbHlag.js";import{_ as qe}from"./DlAUqK2U.js";import"./Cpj98o6Y.js";const c=L=>(Te("data-v-459000da"),L=L(),Me(),L),Ee={class:""},Le={class:"flex"},je={class:"pt-7 pb-24 w-3/12 px-1 bg-gray-100 lg:block hidden"},Ie={class:"w-full min-h-screen"},Be={class:"bg-green-800"},Je={class:"flex mx-auto justify-between py-2 px-3.5"},Ge={class:"flex items-center text-white gap-5"},Ye={class:"flex -mt-1"},He=c(()=>e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),Xe={class:"text-sm"},Ze=c(()=>e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1)),Ke=c(()=>e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)),Qe=[Ze,Ke],We={class:""},$e={class:"w-full p-5"},et={class:"shadow-lg"},tt={class:"w-full mx-auto"},st={class:""},lt={class:"lg:grid grid-cols-4 lg:ml-3 ml-8 mt-3"},at={class:"my-5"},ot=c(()=>e("label",{class:"block mb-2 text-xs font-bold text-gray-900 uppercase"},"Service",-1)),it=Ne('<option value="" disabled data-v-459000da> Please select the type of service. </option><optgroup label="University Registrar" data-v-459000da><option value="CAV" data-v-459000da>CAV Application</option><option value="Good Moral" data-v-459000da> Certificate of Good Moral Character </option><option value="Honorable" data-v-459000da>Honorable Dismissal</option><option value="TOR" data-v-459000da>Transcipt of Records Application</option><option value="OTHERS" data-v-459000da>Other Certificates Application</option></optgroup><optgroup label="SAO Office" data-v-459000da><option value="Good Moral SAO" data-v-459000da> Certificate of Good Moral Character </option></optgroup>',3),nt=[it],dt={class:"pb-3"},rt=c(()=>e("h1",{class:"text-center mb-3 font-bold lasalle-green-text"}," Calendar ",-1)),ut={class:"w-fit mx-auto"},ct={class:"pb-3"},mt=c(()=>e("h1",{class:"text-center mt-5 mb-3 font-bold lasalle-green-text lg:whitespace-nowrap"}," Available Time ",-1)),pt={class:"w-full"},vt={class:""},_t={class:""},ht={class:"h-60 w-10/12 mx-auto px-5 py-2 mt-1 rounded-md"},gt={class:""},ft=["value"],bt=["value"],xt={key:2,class:"font-bold"},wt={class:"lg:flex mx-auto gap-20 px-8 w-full pb-3 text-xs"},yt={class:"mx-auto gap-20 w-full"},kt={class:"w-full"},St={class:"mb-5"},Vt=c(()=>e("h1",{class:"mb-3 font-bold lasalle-green-text"}," Primary Information ",-1)),Ct={class:"lg:grid lg:grid-cols-2 grid-cols-1 gap-3"},Ut={class:"mt-3"},Dt=c(()=>e("h1",{class:"lg:mb-3 mb-2 lg:mt-0 mt-3 font-bold lasalle-green-text"}," Contact Address ",-1)),Ot={class:"gap-5"},At={class:"lg:grid lg:grid-cols-2 grid-cols-1 gap-3"},Tt={class:"w-full mt-3"},Mt={class:"mt-3"},Nt={class:"flex w-full mb-3"},Rt={class:"flex h-fit"},zt={class:"w-fit lg:mx-0 mx-auto"},Ft={class:"w-56 shadow"},Pt=["src"],qt=["src"],Et={class:"mt-3"},Lt={class:"mt-3"},jt={class:"border-gray-200 pt-2"},It={class:"flex text-xs mb-2"},Bt=c(()=>e("label",{class:"pr-2"}," Status",-1)),Jt={class:"flex font-bold text-green-800 text-xs"},Gt={class:"lg:flex"},Yt={class:"flex items-center"},Ht=c(()=>e("label",{class:""},"Checking",-1)),Xt={class:"flex items-center"},Zt=c(()=>e("label",{class:""},"Confirmed",-1)),Kt={class:"flex items-center"},Qt=c(()=>e("label",{class:""},"Payment",-1)),Wt={class:"flex items-center"},$t=c(()=>e("label",{class:""},"Delivered",-1)),es={key:0,class:"mb-6 py-4 px-6 bg-rose-400 text-white rounded-xl"},ts=c(()=>e("div",{class:"lg:w-full mx-auto justify-between flex"},[e("button",{class:"lasalle-green text-xs hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg mt-6 uppercase"}," Update ")],-1)),ss={class:"w-10/12 mx-auto"},ls=c(()=>e("button",{class:"lasalle-green text-xs hover:bg-green-700 text-white py-1.5 px-1.5 whitespace-nowrap rounded-lg uppercase ml-5 font-bold"}," Add Track Status ",-1)),as={key:0,class:"mb-6 py-4 px-6 bg-rose-400 text-white rounded-xl"},os={class:"mx-auto w-fit mb-10 mt-3"},is={class:"pt-10 ml-4"},ns=c(()=>e("div",{class:"absolute w-3 h-3 bg-gray-200 rounded-full mt-1.5 -left-1.5 border border-white dark:border-gray-900 dark:bg-gray-700"},null,-1)),ds={class:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},rs={class:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},us={class:"pb-2 text-base font-normal w-10/12 text-gray-500 dark:text-gray-400"},cs=c(()=>e("div",{class:"bg-green-900 p-3"},[e("h1",{class:"text-center text-white text-xs"},[e("span",{class:"font-bold"},"Copyright Â© 2023 "),e("span",null,"La Salle University - Ozamiz")])],-1)),ms={__name:"[id]",async setup(L){let m,y;const H=Se(),V=Ve(),v=Ce(),ie=o(ze.timeSelection),k=o(v.mainServer),{data:i}=([m,y]=K(()=>Re(k.value+"/api/appointments/"+H.params.id+"/","$qIDc8FEmww")),m=await m,y(),m),ne=([m,y]=K(()=>$fetch(k.value+"/api/appointments/tracking/list/").catch(a=>a.data)),m=await m,y(),m),j=([m,y]=K(()=>$fetch(k.value+"/api/schedules/list/").catch(a=>a.data)),m=await m,y(),m);let C=o(i.value.service),b=o(i.value.referencecode),h=o(i.value.date),I=o(i.value.time),x=o(i.value.time),U=o(i.value.firstname),D=o(i.value.lastname),O=o(i.value.email),A=o(i.value.contactnumber),T=o(i.value.address),M=o(i.value.city),N=o(i.value.zipcode),R=o(i.value.notes);o("");const de=o("");o("");let X=o(i.value.banner_image),z=o(i.value.successful_request),F=o(i.value.appointment_confirm),P=o(i.value.payment),q=o(i.value.request_delivered),re=o(new Date().toDateString()),ue=o("Registrars Admin"),ce=o(v.user.email),me=o("https://upload.wikimedia.org/wikipedia/en/b/b0/LSU-Ozamiz_Seal.png"),p=o([]),B=o();o();let g=o(),W=o(new Date().toDateString()),$=o(new Date().toLocaleTimeString()),S=o(),ee=o([]),w=o(!0);const pe=o(v.user.registrarEmail),ve=o(v.user.developerEmail),_e=o(v.user.testEmail);Ue(()=>{v.user.isAuthenticated&&(v.user.email===pe.value||v.user.email===ve.value||v.user.email===_e.value)?(he(),V.push("/_/panels/registrar/appointment/edit/"+H.params.id),j.filter(function(a){a.date===i.value.date&&(B.value=a.id,g.value=a.time,g.value.push(I.value))})):V.push("/_/unauthorized")});let he=()=>{for(let a=0;a<j.length;a++)ee.value.push(j[a].date)};const ge=()=>{V.push("/_/reg-admin"),v.removeToken()},fe=a=>{x.value=I.value,h.value=Pe(a).format("MM-DD-YYYY"),j.filter(function(s){s.date===h.value&&(B.value=s.id,g.value=s.time,g.value.push(I.value))}),console.log(B.value)},be=async()=>{console.log("updated"),g.value.length>1&&(E.pull(g.value,x.value),await $fetch(k.value+"/api/schedules/"+B.value+"/edit/",{method:"PUT",body:{date:h.value,time:g.value}}).then(a=>{console.log("response",a)}).catch(a=>{if(a.response){for(const s in a.response._data)p.value.push(`${s}: ${a.response._data[s]}`);console.log(JSON.stringify(a.response))}else a.message&&(p.value.push("Something went wrong. Please try again"),console.log(JSON.stringify(a)))}))},xe=async()=>{console.log("submitTracking"),p.value=[],b.value==""&&W.value==""&&$.value==""&&S.value==""&&p.value.push("Please enter all Fields."),p.value.length==0&&await $fetch(k.value+"/api/appointments/tracking/create/",{method:"POST",headers:{"Content-Type":"application/json"},body:{referencecode:b.value,date:W.value,time:$.value,description:S.value}}).then(a=>{console.log("response",a),V.go()}).catch(a=>{if(a.response){for(const s in a.response._data)p.value.push(`${s}: ${a.response._data[s]}`);console.log(JSON.stringify(a.response))}else a.message&&(p.value.push("Something went wrong. Please try again"),console.log(JSON.stringify(a)))})},we=async()=>{console.log("submitForm"),p.value=[],be(),console.log("submitForm edited"),await $fetch(k.value+"/api/appointments/"+H.params.id+"/edit/",{method:"PUT",body:{service:C.value,referencecode:b.value,date:h.value,time:x.value,firstname:U.value,lastname:D.value,email:O.value,contactnumber:A.value,address:T.value,city:M.value,zipcode:N.value,notes:R.value,banner_image:X.value,successful_request:z.value,appointment_confirm:F.value,payment:P.value,request_delivered:q.value,updated_at:re.value,created_by_name:ue.value,created_by_email:ce.value}}).then(a=>{console.log("response",a),V.push({path:"/_/panels/registrar/appointment"})}).catch(a=>{console.log(a)})};return(a,s)=>{const ye=ke;return u(),d("div",Ee,[e("div",Le,[r(e("div",je,[se(ye)],512),[[De,l(w)]]),e("div",Ie,[e("div",Be,[e("div",Je,[e("div",Ge,[e("div",{onClick:s[0]||(s[0]=t=>n(w)?w.value=!l(w):w=!l(w)),class:"w-10 px-1.5"},[e("i",{class:Q(["fa text-3xl text-white",l(w)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",Ye,[He,e("h1",Xe,f(l(v).user.email),1)])]),e("button",{onClick:ge,class:"flex hover:font-bold pt-1"},Qe)])]),e("div",We,[e("div",$e,[e("form",{onSubmit:le(we,["prevent"])},[e("div",et,[e("div",tt,[e("div",st,[e("div",lt,[e("div",at,[ot,r(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>n(C)?C.value=t:C=t),id:"service",name:"service",class:"shadow-md p-2 rounded-sm mb-2 w-full"},nt,512),[[Oe,l(C)]])]),e("div",dt,[rt,e("div",ut,[se(l(Fe),{modelValue:l(h),"onUpdate:modelValue":[s[2]||(s[2]=t=>n(h)?h.value=t:h=t),s[3]||(s[3]=t=>fe(l(h)))],inline:"","enable-time-picker":!1,id:"date",name:"date","auto-apply":"",highlight:l(ee),"year-range":[2023,2024],"disabled-week-days":[6,7,0],"week-start":"0","hide-offset-dates":"","min-date":a.minDate},null,8,["modelValue","highlight","min-date"])])]),e("div",ct,[mt,e("div",pt,[e("div",vt,[e("div",_t,[e("div",ht,[e("ul",gt,[(u(!0),d(J,null,G(l(ie)[0].time,(t,Z)=>(u(),d("li",{class:"mb-3 lg:flex justify-center font-bold",key:Z},[l(E).includes(l(g),t)?r((u(),d("input",{key:0,id:"time",type:"radio",name:"time",value:t,class:"mr-2 mt-0.5","onUpdate:modelValue":s[4]||(s[4]=te=>n(x)?x.value=te:x=te)},null,8,ft)),[[Ae,l(x)]]):(u(),d("input",{key:1,id:"time",type:"checkbox",name:"time",value:t,class:"mr-2 mt-0.5",disabled:"",checked:""},null,8,bt)),l(E).includes(l(I),t)?(u(),d("label",xt,f(t),1)):(u(),d("label",{key:3,class:Q(l(E).includes(l(g),t)?"text-green-500":"text-red-500")},f(t),3))]))),128))])])])])])])])]),e("div",wt,[e("div",yt,[e("div",kt,[e("div",St,[e("div",null,[Vt,e("div",Ct,[r(e("input",{id:"firstname",name:"firstname",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"First Name","onUpdate:modelValue":s[5]||(s[5]=t=>n(U)?U.value=t:U=t)},null,512),[[_,l(U)]]),r(e("input",{id:"lastname",name:"lastname",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Last Name","onUpdate:modelValue":s[6]||(s[6]=t=>n(D)?D.value=t:D=t)},null,512),[[_,l(D)]]),r(e("input",{id:"email",name:"email",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Email","onUpdate:modelValue":s[7]||(s[7]=t=>n(O)?O.value=t:O=t)},null,512),[[_,l(O)]]),r(e("input",{id:"contactnumber",name:"contactnumber",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Contact Number","onUpdate:modelValue":s[8]||(s[8]=t=>n(A)?A.value=t:A=t)},null,512),[[_,l(A)]])])]),e("div",Ut,[Dt,e("div",Ot,[r(e("input",{id:"address",name:"address",class:"shadow-md p-2 rounded-sm mb-3 w-full border",placeholder:"Address","onUpdate:modelValue":s[9]||(s[9]=t=>n(T)?T.value=t:T=t)},null,512),[[_,l(T)]]),e("div",At,[r(e("input",{id:"city",name:"city",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"City","onUpdate:modelValue":s[10]||(s[10]=t=>n(M)?M.value=t:M=t)},null,512),[[_,l(M)]]),r(e("input",{id:"zipcode",name:"zipcode",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Zip Code","onUpdate:modelValue":s[11]||(s[11]=t=>n(N)?N.value=t:N=t)},null,512),[[_,l(N)]])])])])]),e("div",Tt,[r(e("input",{name:"notes",placeholder:"Notes",class:"shadow-md border rounded-sm p-2 w-full","onUpdate:modelValue":s[12]||(s[12]=t=>n(R)?R.value=t:R=t)},null,512),[[_,l(R)]])]),e("div",Mt,[e("div",Nt,[e("div",Rt,[e("input",{type:"file",onChange:s[13]||(s[13]=(...t)=>a.uploadedFile&&a.uploadedFile(...t)),accept:"image/*"},null,32)])]),e("div",zt,[e("div",Ft,[l(de)===""?(u(),d("img",{key:0,class:"lg:w-full h-56 object-contain",src:l(me)},null,8,Pt)):(u(),d("img",{key:1,class:"lg:w-full h-56 object-contain",src:l(X)},null,8,qt)),ae(" "+f(l(X)),1)])])]),e("div",Et,[r(e("input",{id:"referencecode",name:"referencecode",class:"shadow-md p-2 rounded-sm w-full border",placeholder:"Reference Code","onUpdate:modelValue":s[14]||(s[14]=t=>n(b)?b.value=t:b=t),disabled:""},null,512),[[_,l(b)]])])]),e("div",Lt,[e("ul",jt,[e("li",It,[Bt,e("h1",Jt,[ae(" : "),e("ul",Gt,[e("li",Yt,[r(e("input",{type:"checkbox",id:"checking",name:"checking",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":s[15]||(s[15]=t=>n(z)?z.value=t:z=t)},null,512),[[Y,l(z)]]),Ht]),e("li",Xt,[r(e("input",{type:"checkbox",id:"appointment_confirm",name:"appointment_confirm",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":s[16]||(s[16]=t=>n(F)?F.value=t:F=t)},null,512),[[Y,l(F)]]),Zt]),e("li",Kt,[r(e("input",{type:"checkbox",id:"payment",name:"payment",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":s[17]||(s[17]=t=>n(P)?P.value=t:P=t)},null,512),[[Y,l(P)]]),Qt]),e("li",Wt,[r(e("input",{type:"checkbox",id:"request_delivered",name:"request_delivered",value:"",class:"mt-0.5 mr-1 ml-2","onUpdate:modelValue":s[18]||(s[18]=t=>n(q)?q.value=t:q=t)},null,512),[[Y,l(q)]]),$t])])])])])]),l(p).length?(u(),d("div",es,[(u(!0),d(J,null,G(l(p),t=>(u(),d("p",{key:t},f(t),1))),128))])):oe("",!0),ts])])])])],32)]),e("div",ss,[e("form",{onSubmit:le(xe,["prevent"]),class:"lg:flex items-center"},[r(e("input",{id:"tracking_description",name:"tracking_description",class:"shadow-md p-2 rounded-sm border text-xs w-full",placeholder:"Remark Status","onUpdate:modelValue":s[19]||(s[19]=t=>n(S)?S.value=t:S=t)},null,512),[[_,l(S)]]),ls,l(p).length?(u(),d("div",as,[(u(!0),d(J,null,G(l(p),t=>(u(),d("p",{key:t},f(t),1))),128))])):oe("",!0)],32)]),e("div",os,[(u(!0),d(J,null,G(l(E).orderBy(l(ne),"date","time","asc"),(t,Z)=>(u(),d("ol",{class:Q(["relative border-l border-gray-200 dark:border-gray-700",t.referencecode===l(b)?"block":"hidden"]),key:Z},[e("li",is,[ns,e("p",ds,f(t.date),1),e("p",rs,f(t.time),1),e("p",us,f(t.description),1)])],2))),128))])])])]),cs])}}},ks=qe(ms,[["__scopeId","data-v-459000da"]]);export{ks as default};
