import{_ as Y}from"./CUC9w-nc.js";import{_ as Z}from"./Cnn-Moj2.js";import{_ as j}from"./DOjW1NW_.js";import{g as ee,r as a,m as te,u as se,c as o,b as R,a as t,i as U,l as V,f as i,j as $,d as v,z as u,F as le,s as ae,x as oe,o as n,n as d,t as _}from"./Bir4801W.js";import{a as ne}from"./B6xwUs71.js";import"./DlAUqK2U.js";import"./C5S46NFB.js";const re={class:""},ie={class:""},ue={class:"relative"},ce=oe('<img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/banners/green-tones-gradient-background_23-2148374436.png" class="align-top w-full h-36 object-none lg:hidden block"><div class="pt-10 absolute top-1/2 transform -translate-y-1/2 w-full"><h1 class="font-bold uppercase text-white lg:text-2xl text-lg w-11/12 mx-auto"> Enrollment Tracking </h1></div><div class="pt-2.5 pb-3 shadow-lg"><ul class="flex lasalle-green-text capitalize w-11/12 mx-auto text-xs"><li><a href="/" class="mr-1"> Home </a></li><li><i class="fas fa-caret-right mr-1"></i><a href="/enrollment" class="mr-1"> Enrollment </a></li><li><i class="fas fa-caret-right mr-1"></i><a href="/enrollment/tracking" class="mr-1">Tracking </a></li></ul></div>',3),de={class:"overflow-hidden min-h-screen"},ge=t("p",{class:"text-center mt-10 text-green-900 text-sm px-4 lg:w-6/12 w-11/12 mx-auto"},[v("Due to several power interruptions, some tracking IDs have been transferred to new lists. "),t("span",{class:"text-gray-600"},[v("(Servers are Under Maintenance). If you need any further assistance or have any more questions, feel free to email at "),t("span",{class:"font-bold"},"dev@lsu.edu.ph"),v(". Thank you!")])],-1),me={class:"lg:flex w-11/12 mx-auto"},pe={class:"flex lg:w-5/12 w-fit shadow mx-auto mt-10 text-center rounded-lg"},fe=t("i",{class:"fa fa-search"},null,-1),he={class:"flex lg:w-5/12 w-fit shadow mx-auto mt-10 text-center rounded-lg"},ve=t("i",{class:"fa fa-search"},null,-1),xe={key:0,class:"font-bold text-center w-11/12 mx-auto my-10"},be={key:1,class:"mx-auto w-fit my-20"},_e=t("p",{class:"text-base text-green-900 font-bold mb-4"},"Please wait ... ",-1),we=t("i",{class:"fa fa-spinner fa-spin text-8xl text-green-800 animate-spin"},null,-1),ye=[_e,we],ke={key:2,class:"lg:flex lg:w-10/12 w-full mx-auto pt-10 h-screen mb-5"},Te={class:"flex lg:items-center w-full lg:ml-20"},Se={class:"lg:absolute top-8 lg:left-20 right-0 bottom-0"},Fe={class:"font-bold capitalize underline lg:w-[200px] w-[200px]"},De={key:0,class:"font-bold text-lg text-green-900 uppercase lg:-ml-4 -ml-16 lg:mt-3 mt-4"},Ce={key:0,class:"lg:mb-10"},Re={key:0,class:"absolute lg:left-[50%] lg:top-[130px] top-[340px] w-full shadow mt-5 py-5 px-5"},Ee=t("p",{class:"text-sm pb-2 text-center"},"Please Submit Proof of Payment:",-1),Ne={key:0,src:"https://lsu-media-styles.sgp1.digitaloceanspaces.com/storage-bucket-name/folder-location/files/admissions/sample.jpg",class:"w-[100px] h-[100px] mx-auto"},Be=["src"],Pe={key:1},Ue={key:0,class:"absolute lg:left-[50%] lg:top-[100px] top-[340px] w-full shadow lg:mt-10 py-5 px-3"},Ve=t("img",{src:"https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/icons/check-mark-icon-isolated-on-white-background-vector-26464923.jpg",class:"w-[100px] mx-auto lg:mt-0 mt-14"},null,-1),$e=t("p",{class:"text-center mt-5 leading-tight"},"Please check later while the accounting officer verify your receipt, Thank you!",-1),ze=[Ve,$e],Ie={key:3},Ae={key:0,class:"font-bold text-center w-11/12 mx-auto my-10"},Le={key:1,class:"font-bold text-center w-11/12 mx-auto my-10"},Xe={__name:"index",setup(qe){const E=ee(),z=a(E.mainDevServer),N=a(E.mainServer),I=te(),A=se(),g=a(""),m=a(""),w=a();let L=a("");const y=a(null),c=a(!1);a(!1);const x=a(!1),p=a(!1),f=a(!1),h=a(!1),q=a("https://lsu-media-styles.sgp1.digitaloceanspaces.com/storage-bucket-name/folder-location/files/admissions/files/"),b=a("");let k=a(""),T=a(),S=a(!1),F=a(!1),D=a();const O=async()=>{p.value=!1,f.value=!1,h.value=!1,g.value.length===16?(c.value=!0,T.value=await $fetch(z.value+"/api/admissions/list/",{method:"GET"}).then(l=>{console.log("response",l),console.log(l.length),l.filter(function(s){g.value===s.tracking_id?(w.value=s.enrollment_tracking_status,S.value=s.receipt.submitted,F.value=s.evaluation.submitted,y.value=s.id,f.value=!1,h.value=!1,p.value=!0):(f.value=!0,setTimeout(()=>{f.value=!1},3e3),c.value=!1)})}).catch(l=>{l.data,console.log(l.data),c.value=!1,p.value=!1})):(g.value.length<15||g.value.length>0)&&(x.value=!0,setTimeout(()=>{x.value=!1,c.value=!1},3e3))},G=async()=>{p.value=!1,f.value=!1,h.value=!1,m.value.length===16?(c.value=!0,T.value=await $fetch(N.value+"/api/admissions/list/",{method:"GET"}).then(l=>{console.log("response",l),console.log(l.length),l.filter(function(s){m.value===s.tracking_id?(w.value=s.enrollment_tracking_status,S.value=s.receipt.submitted,F.value=s.evaluation.submitted,y.value=s.id,f.value=!1,h.value=!1,p.value=!0,D.value=s,console.log(T.value)):(h.value=!0,setTimeout(()=>{h.value=!1},3e3),c.value=!1)})}).catch(l=>{l.data,console.log(l.data),c.value=!1,p.value=!1})):(m.value.length<15||m.value.length>0)&&(x.value=!0,setTimeout(()=>{x.value=!1,c.value=!1},3e3))},B=a(!0),P=a(!1),H=l=>{b.value=l.target.files[0],k.value=URL.createObjectURL(b.value),L.value=q.value+""+l.target.files[0].name},M=async()=>{let l=new FormData;l.append("image",b.value);let s={headers:{"Content-Type":"multipart/form-data"}};ne.post("https://api.lsu.edu.ph/api/admissions/file/list/files/",l,s).then(C=>{console.log(C)})},J=async()=>{K(),b.value!==null&&(M(),B.value=!1,P.value=!0)},K=async()=>{D.value.receipt.submitted=!0,console.log("submitForm"),await $fetch(N.value+"/api/admissions/"+I.params.id+"/edit/",{method:"PUT",body:D.value}).then(l=>{console.log("response",l)})},Q=()=>{A.push("/enrollment/evaluation/")};return(l,s)=>{const C=Y,W=Z,X=j;return n(),o("div",null,[R(C),t("div",re,[t("div",ie,[t("div",ue,[R(W),ce])]),t("div",de,[ge,t("div",me,[t("div",pe,[U(t("input",{class:"py-1 pl-2 pr-2 uppercase w-full border-2 border-green-700 rounded-tl-lg rounded-bl-lg",placeholder:"Tracking ID",maxlength:"16","onUpdate:modelValue":s[0]||(s[0]=e=>$(g)?g.value=e:null),required:""},null,512),[[V,i(g)]]),t("button",{onClick:s[1]||(s[1]=e=>O()),class:"px-5 bg-green-900 text-white cursor-pointer hover:bg-white hover:text-green-900 border-4 border-green-900 whitespace-nowrap rounded-tr-lg rounded-br-lg"},[fe,v(" Track A ")])]),t("div",he,[U(t("input",{class:"py-1 pl-2 pr-2 uppercase w-full border-2 border-green-700 rounded-tl-lg rounded-bl-lg",placeholder:"Tracking ID",maxlength:"16","onUpdate:modelValue":s[2]||(s[2]=e=>$(m)?m.value=e:null),required:""},null,512),[[V,i(m)]]),t("button",{onClick:s[3]||(s[3]=e=>G()),class:"px-5 bg-green-900 text-white cursor-pointer hover:bg-white hover:text-green-900 border-4 border-green-900 whitespace-nowrap rounded-tr-lg rounded-br-lg"},[ve,v(" Track B ")])])]),i(x)?(n(),o("div",xe," Please Add Correct Tracking ID ")):u("",!0),i(c)?(n(),o("div",be,ye)):u("",!0),i(p)?(n(),o("div",ke,[(n(!0),o(le,null,ae(i(w),(e,r)=>(n(),o("div",{class:"w-full relative lg:h-auto h-[120px]",key:r},[t("div",Te,[t("p",{class:d(["text-white lg:px-3 px-4 py-2 lg:mx-0 ml-10 h-fit w-fit lg:rounded-lg rounded-lg mt-1 lg:mt-0 font-bold",[e.status==="yes"?"text-white bg-green-900":""],[e.status==="no"?"text-white bg-red-700":""],[e.status===""?"text-white bg-gray-300":""],[e.status==="ongoing"?"text-white bg-blue-800":""]])},_(r+1),3),t("div",{class:d(["lg:rotate-0 rotate-90 lg:h-[10px] h-[10px] lg:my-auto lg:mx-auto lg:mt-[16px] mt-[79px] lg:ml-0 -ml-[60px] w-[100px]",[e.status==="yes"?"bg-green-900":""],[e.status==="no"?"bg-red-700":""],[e.status===""?"bg-gray-300":""],[e.status==="ongoing"?"bg-blue-800":""],[r===3?"hidden h-0 w-0":"lg:w-full w-[80px]"]])},null,2)]),t("div",Se,[t("p",{class:d(["uppercase font-bold lg:mt-4",[e.status==="yes"?"text-green-900":""],[e.status==="no"?"text-red-700":""],[e.status===""?"text-gray-300":""],[e.status==="ongoing"?"text-blue-800":""],[r===0?"lg:ml-0 lg:static absolute left-28 top-0":""],[r===1?"lg:ml-0 lg:static absolute left-28 top-0":""],[r===2?"lg:ml-0 lg:static absolute left-28 top-0":""],[r===3?"lg:ml-0 lg:static absolute left-28 top-0":""]])},_(e.track_name),3),t("span",{class:d(["text-xs capitalize block",[e.status==="yes"?"text-green-900":""],[e.status==="no"?"text-red-700":""],[e.status===""?"text-gray-300":""],[e.status==="ongoing"?"text-blue-800":""],[r===0?"lg:ml-0 lg:static absolute left-28 top-6":""],[r===1?"lg:ml-0 lg:static absolute left-28 top-6":""],[r===2?"lg:ml-0 lg:static absolute left-28 top-6":""],[r===3?"lg:ml-0 lg:static absolute left-28 top-6":""]])},_(e.details),3),t("div",{class:d(["text-xs capitalize block w-[130px] left-28 leading-tight",[e.status==="yes"?"text-green-900":""],[e.status==="no"?"text-red-700":""],[e.status===""?"text-gray-300":""],[e.status==="ongoing"?"text-blue-800":""],[r===0?"lg:ml-0 lg:static absolute left-28 top-10":""],[r===1?"lg:ml-0 lg:static absolute left-28 top-10":""],[r===2?"lg:ml-0 lg:static absolute left-28 top-10":""],[r===3?"lg:ml-0 lg:static absolute left-28 top-10":""],[e.remarks===""?"hidden":""]])},[v(" Remarks: "),t("div",Fe,_(e.remarks),1)],2),t("div",{class:d(i(F)?"hidden":"")},[e.status==="yes"&&e.track_name==="accounting"?(n(),o("div",{key:0,class:d([[e.status==="yes"?"text-green-900":"text-gray-300"],"text-center lg:mt-1 mt-[150px] font-bold cursor-pointer bg-green-800 text-white hover:bg-white hover:text-green-900 block border-2 border-green-800 leading-[15px] lg:text-sm text-xs px-3 py-2 rounded-lg"]),onClick:s[4]||(s[4]=Oe=>Q(i(y)))},"Fill out Evaluation Form",2)):u("",!0)],2),e.status==="yes"&&e.track_name==="verification"?(n(),o("div",De," Enrolled! ")):u("",!0)]),t("div",{class:d(i(S)?"hidden":"")},[i(B)?(n(),o("div",Ce,[e.status==="yes"&&e.track_name==="advising"?(n(),o("div",Re,[Ee,i(k)===""?(n(),o("img",Ne)):(n(),o("img",{key:1,src:i(k),class:"w-[100px] h-[100px] mx-auto"},null,8,Be)),t("input",{type:"file",onChange:H,accept:"image/png, image/jpeg",class:"my-5 w-full border"},null,32),t("div",{onClick:J,class:"py-1 px-10 border-2 border-green-900 w-fit mx-auto rounded-md my-2 hover:bg-green-900 hover:text-white cursor-pointer"}," Submit")])):u("",!0)])):u("",!0),i(P)?(n(),o("div",Pe,[e.status==="yes"&&e.track_name==="advising"?(n(),o("div",Ue,ze)):u("",!0)])):u("",!0)],2)]))),128))])):(n(),o("div",Ie,[i(f)?(n(),o("div",Ae," Sorry, No results Found! Check the other Tracking Search. ")):u("",!0),i(h)?(n(),o("div",Le," Sorry, No results Found! Check the other Tracking Search. ")):u("",!0)]))])]),R(X)])}}};export{Xe as default};
