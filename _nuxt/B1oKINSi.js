import{_ as P}from"./g63OBN0w.js";import{_ as j}from"./CQMrh9rC.js";import{r as i,u as $,G as z,c as d,b as O,i as b,k as w,a as e,x as E,d as r,h as o,p as T,F,l as U,m as u,N as V,n as C,o as n,t as _}from"./lWYbRhUB.js";import"./5JjjnmY2.js";import"./CepWMwG7.js";/* empty css        */import{h}from"./C5S46NFB.js";import{h as G}from"./2ESOzBEC.js";import{_ as H}from"./DlAUqK2U.js";const W={class:"bg-gray-50"},Y={key:0,class:""},J={class:"header bg-gradient-to-b from-[#fefefe] via-[#fefefe] to-[#bce3c2] pt-5"},K={class:"lg:w-7/12 mx-auto bg-white"},Q={class:"border-2 border-green-700 shadow-lg my-3"},X={class:""},Z={class:"lg:p-5 px-2 pt-3 pb-2 gap-3"},ee={class:"w-full lg:mb-0 mb-5"},te={class:"w-full gap-3"},ae={class:"gap-3 w-full"},se={class:"gap-3 lg:mb-2 shadow py-5 px-5"},le={class:"lg:gap-x-2 gap-x-1 w-full"},ie={class:"flex items-center w-full mb-2"},oe={class:"w-full"},de=["value"],ne={class:"flex items-center w-full mb-2"},re={class:"w-full"},ue={class:"flex items-center w-full mb-2"},pe={class:"w-full"},me={class:"flex items-center w-full mb-2"},ve={class:"w-full"},fe=["value"],ce={class:"flex items-center w-full mb-2"},xe={class:"w-full"},ge={class:"lg:flex gap-x-3 w-fit px-3 lg:px-0 lg:shadow lg:pt-[2px] pt-3 bg-white border-green-700 border-b-2"},be={class:"lg:shadow-lg px-2 lg:pt-[8px] lg:pb-[9px] pb-2.5 text-black text-xs items-center flex"},we={class:"flex items-center text-xs whitespace-nowrap lg:shadow-lg lg:mt-0 mt-2 px-2"},_e={class:"ml-2 flex item w-full text-black text-xs items-center",for:"ForRevision"},he={class:"mr-2"},ye={class:"flex items-center w-full mb-2"},ke={class:"w-full flex items-center gap-x-1 bg-white border-b-2 border-green-700 shadow-lg rounded-sm h-fit"},De={class:"w-fit mx-auto my-5"},Se={class:"text-center flex"},Ne={key:0,class:"my-10 text-white bg-red-800 font-bold text-center py-0.5 px-5 block lg:text-sm text-xs"},Re={key:1,class:""},Oe={__name:"index",setup(Te){const y=i(G),M=i(!1),q=$(),f=i(q.mainDevServer),k=i(!0),D=i(!1),c=i(1),p=h().format("LL"),S=i(0);i(null);const A=i(["Manual","Procedure","Policy","Form or Template","Work Instructions","MOA or MOU"]),a=i({originating_firstname:"",originating_middlename:"-",originating_lastname:"",originating_office:"Originating Office",originating_email:"",document_title:"",status:"",revision_number:"",document_type:"Document Type",schedule:p,purpose:"",reviewed_by_name:"",reviewed_by_designation:"",reviewed_by_date_checked:p,reviewed_by_action:"",reviewed_by_remarks:"",reviewed_by_email:"",verified_by_name:"Dr. Wenny Caseros",verified_by_designation:"University Chancellor",verified_by_date_checked:p,verified_by_action:"",verified_by_remarks:"",verified_by_email:"jorenleeluna24@gmail.com",approved_by_name:"Br. Rey E. Mejias FSC",approved_by_designation:"University President",approved_by_date_checked:p,approved_by_action:"",approved_by_remarks:"",approved_by_email:"jorenleeluna24@gmail.com",other_comments_remarks:"",document_code:"To Be Assigned By RMO",effectivity_date:"",rmo_name:"",rmo_email:"jorenleeluna24@gmail.com",document_attachment:"",tracking_id:""});z(()=>new Date);const I=()=>{const l=y.value.find(t=>t.designation===a.value.originating_office);l?(a.value.reviewed_by_name=l.name,a.value.reviewed_by_designation=l.designation,a.value.reviewed_by_email=l.individual_lsu_email):a.value.reviewed_by_name=""},B=async()=>{let l=await $fetch(f.value+"/api/drs/list").catch(t=>t.data)||0;if(l.length===0)a.value.tracking_id="DRS-"+h().year()+"-001",N();else{let t=[];l.filter(x=>{t.push(parseInt(x.tracking_id.slice(-3)))});let v=Math.max(...t);console.log(v),S.value=v+1,a.value.tracking_id="DRS-"+h().year()+"-"+String(S.value).padStart(3,"0"),N()}},N=async()=>{c.value===1&&(c.value=0,await $fetch(f.value+"/api/drs/create/",{method:"POST",headers:{"Content-Type":"application/json"},body:a.value}).then(l=>{k.value=!1,D.value=!0,c.value=0,console.log(l),L()}))},m=i(!1),R=()=>{a.value.status==="For Revision"?m.value=!0:m.value=!1},L=async()=>{await $fetch(f.value+"/api/drs/drs-notification-submit/",{method:"POST",headers:{"Content-Type":"application/json"},body:a.value}).then(l=>{console.log(l)})};return(l,t)=>{const v=P,x=j;return n(),d("div",W,[O(v),t[28]||(t[28]=b('<div class="" data-v-58fad6a8><div class="relative" data-v-58fad6a8><div class="shadow-lg pt-[70px] text-green-700" data-v-58fad6a8><div class="w-11/12 mx-auto flex justify-between" data-v-58fad6a8><div class="flex capitalize text-xs pt-2.5 pb-2.5" data-v-58fad6a8><div data-v-58fad6a8><a href="/" class="hover:underline" data-v-58fad6a8>Home</a></div><div data-v-58fad6a8><i class="fas fa-caret-right mx-1" data-v-58fad6a8></i><a href="/drs" class="mr-2 hover:underline" data-v-58fad6a8>Document Review Sheet</a></div></div><div class="flex hover:text-green-800 text-white" data-v-58fad6a8><div class="hover:bg-green-800 shadow bg-white hover:text-white text-green-800 px-3 h-full flex items-center capitalize text-xs border-r" data-v-58fad6a8><a href="/drs/track" class="flex items-center" data-v-58fad6a8><i class="fa fa-universal-access" aria-hidden="true" data-v-58fad6a8></i><span class="ml-3" data-v-58fad6a8>Track</span></a></div><div class="hover:bg-green-800 shadow bg-white hover:text-white text-green-800 px-3 h-full flex items-center capitalize text-xs" data-v-58fad6a8><a href="/drs/login" class="flex items-center" data-v-58fad6a8><i class="fa fa-user" aria-hidden="true" data-v-58fad6a8></i><span class="ml-3" data-v-58fad6a8>Admin Login</span></a></div></div></div></div></div></div>',1)),k.value?(n(),d("div",Y,[e("div",J,[e("div",K,[e("form",{onSubmit:E(B,["prevent"]),class:""},[e("div",Q,[e("div",X,[t[24]||(t[24]=e("h2",{class:"lg:text-base text-xs px-10 uppercase py-1.5 font-bold bg-green-900 text-white text-center"}," Document Review Sheet Form ",-1)),e("div",Z,[e("div",ee,[e("div",te,[e("div",ae,[e("div",se,[e("div",le,[e("div",ie,[t[13]||(t[13]=e("label",{class:"lg:text-xs text-[10px] text-black pb-2 font-bold whitespace-nowrap w-5/12"},[e("div",{class:"w-fit ml-auto pr-5"},[r(" Head Office "),e("span",{class:"text-red-600 font-normal text-sm"},"*")])],-1)),e("div",oe,[o(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>a.value.originating_office=s),class:"px-1 w-full border-b-2 border-t-0 border-x-0 border-green-700 shadow-lg rounded-sm lg:h-9 h-8 text-xs",required:"",onChange:I},[t[12]||(t[12]=e("option",{value:"Originating Office",disabled:"",selected:""},"Originating Office",-1)),(n(!0),d(F,null,U(y.value,(s,g)=>(n(),d("option",{value:s.designation,key:g},_(s.officeAbbr)+" | "+_(s.designation),9,de))),128))],544),[[T,a.value.originating_office]])])]),e("div",ne,[t[14]||(t[14]=e("label",{class:"lg:text-xs text-[10px] text-black pb-2 font-bold whitespace-nowrap w-5/12"},[e("div",{class:"w-fit ml-auto pr-5"},[r(" Originating Email "),e("span",{class:"text-red-600 font-normal text-sm"},"*")])],-1)),e("div",re,[o(e("input",{type:"email",class:"px-2 w-full border-b-2 border-t-0 border-x-0 border-green-700 shadow-lg rounded-sm lg:h-9 h-8 text-xs",placeholder:"Email","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.originating_email=s),required:""},null,512),[[u,a.value.originating_email]])])]),e("div",ue,[t[15]||(t[15]=e("label",{class:"lg:text-xs text-[10px] text-black pb-2 font-bold whitespace-nowrap w-5/12"},[e("div",{class:"w-fit ml-auto pr-5"},[r(" Document Title "),e("span",{class:"text-red-600 font-normal text-sm"},"*")])],-1)),e("div",pe,[o(e("input",{type:"text",class:"px-2 w-full border-b-2 border-t-0 border-x-0 border-green-700 shadow-lg rounded-sm lg:h-9 h-8 text-xs",placeholder:"Document Title","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.document_title=s),required:""},null,512),[[u,a.value.document_title]])])]),e("div",me,[t[17]||(t[17]=e("label",{class:"lg:text-xs text-[10px] text-black pb-2 font-bold whitespace-nowrap w-5/12"},[e("div",{class:"w-fit ml-auto pr-5"},[r(" Document Type "),e("span",{class:"text-red-600 font-normal text-sm lg:ml-1"},"*")])],-1)),e("div",ve,[o(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>a.value.document_type=s),class:"px-1 lg:w-fit border-b-2 border-t-0 border-x-0 border-green-700 shadow-lg rounded-sm lg:h-9 h-8 text-xs",required:""},[t[16]||(t[16]=e("option",{value:"Document Type",disabled:"",selected:""},"Document Type",-1)),(n(!0),d(F,null,U(A.value,(s,g)=>(n(),d("option",{value:s,key:g},_(s),9,fe))),128))],512),[[T,a.value.document_type]])])]),e("div",ce,[t[20]||(t[20]=e("label",{class:"lg:text-xs text-[10px] text-black pb-2 font-bold whitespace-nowrap w-5/12"},[e("div",{class:"w-fit ml-auto pr-5"},[r(" Status "),e("span",{class:"text-red-600 font-normal text-sm lg:ml-1"},"*")])],-1)),e("div",xe,[e("div",ge,[e("div",be,[o(e("input",{type:"radio",value:"New","onUpdate:modelValue":t[4]||(t[4]=s=>a.value.status=s),onChange:t[5]||(t[5]=s=>R()),class:"mr-1",id:"New",ref:"fileInput"},null,544),[[V,a.value.status]]),t[18]||(t[18]=e("label",{class:"ml-2",for:"New"},[e("span",{class:"font-bold mr-1"},"New")],-1))]),e("div",we,[e("label",_e,[e("span",he,[o(e("input",{type:"radio",value:"For Revision","onUpdate:modelValue":t[6]||(t[6]=s=>a.value.status=s),onChange:t[7]||(t[7]=s=>R()),class:"",id:"ForRevision"},null,544),[[V,a.value.status]])]),t[19]||(t[19]=e("span",{class:"font-bold mr-1"},"For Revision",-1)),e("span",{class:C(["font-bold mr-2",m.value?"":"hidden"])},"No. ",2),o(e("input",{class:C([m.value?"":"hidden","px-2 w-full border-b-2 border-t-0 border-x-0 border-green-700 shadow-lg py-1 rounded-sm text-xs"]),type:"text",placeholder:"Revision Number","onUpdate:modelValue":t[8]||(t[8]=s=>a.value.revision_number=s),ref:"fileInput"},null,2),[[u,a.value.revision_number]])])])])])]),e("div",ye,[t[22]||(t[22]=e("label",{class:"lg:text-xs text-[10px] text-black pb-2 font-bold whitespace-nowrap w-5/12"},[e("div",{class:"w-fit ml-auto pr-5"},[r(" Reference Document "),e("span",{class:"text-red-600 font-normal text-sm"},"*")])],-1)),e("div",ke,[t[21]||(t[21]=e("img",{src:"https://lsu-media-styles.sgp1.digitaloceanspaces.com/lsu-public-images/banners/logo/Google_Drive.png",class:"h-5 w-5 ml-2"},null,-1)),o(e("input",{type:"url",class:"px-1 w-full border-t-0 border-x-0 border-green-700 text-xs py-2",placeholder:"Google Drink Link","onUpdate:modelValue":t[9]||(t[9]=s=>a.value.document_attachment=s),required:""},null,512),[[u,a.value.document_attachment]])])])])]),e("div",De,[e("div",Se,[o(e("input",{type:"text",class:"px-1 w-full rounded-sm h-8 text-xs text-right",placeholder:"First Name","onUpdate:modelValue":t[10]||(t[10]=s=>a.value.originating_firstname=s),required:""},null,512),[[u,a.value.originating_firstname]]),o(e("input",{type:"text",class:"px-1 w-full rounded-sm h-8 text-xs",placeholder:"Last Name","onUpdate:modelValue":t[11]||(t[11]=s=>a.value.originating_lastname=s),required:""},null,512),[[u,a.value.originating_lastname]])]),t[23]||(t[23]=e("div",{class:"border-t-2 border-black text-center text-xs py-1"},"Originator’s Printed Name",-1))])])])])]),M.value?(n(),d("div",Ne," All fields are required information. Otherwise, type N/A if not applicable. ")):w("",!0),t[25]||(t[25]=e("div",{class:"pb-5 lg:px-5 px-3 mb-1"},[e("button",{class:"px-10 lg:rounded-lg rounded-md bg-green-900 text-white font-bold py-1.5 lg:w-fit w-full mx-auto block uppercase hover:bg-white border-2 border-green-900 hover:text-green-900 lg:text-sm text-xs"},[e("i",{class:"fa fa-paper-plane mr-2","aria-hidden":"true"}),r(" Submit ")])],-1))])])],32)]),t[26]||(t[26]=b('<div data-v-58fad6a8><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto" data-v-58fad6a8><defs data-v-58fad6a8><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" data-v-58fad6a8></path></defs><g class="parallax" data-v-58fad6a8><use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7" data-v-58fad6a8></use><use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" data-v-58fad6a8></use><use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" data-v-58fad6a8></use><use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" data-v-58fad6a8></use></g></svg></div>',1))])])):w("",!0),D.value?(n(),d("div",Re,t[27]||(t[27]=[b('<div class="lg:flex gap-10 lg:rounded-4xl bg-white lg:px-14 px-3 py-1 w-fit mx-auto lg:my-10 shadow-sm rounded-xl" data-v-58fad6a8><div class="flex items-center" data-v-58fad6a8><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/icons/check-mark-icon-isolated-on-white-background-vector-26464923.jpg" class="lg:w-44 w-20 mx-auto lg:mt-0 mt-14" data-v-58fad6a8></div><div class="text-xl text-green-900 text-center w-fit mx-auto lg:py-20 py-5" data-v-58fad6a8><h1 class="font-bold text-3xl" data-v-58fad6a8>Thanks for submitting! </h1><p class="font-light pt-3 pb-10" data-v-58fad6a8> Your request has been sent! </p><p class="font-light text-xs italic mb-10" data-v-58fad6a8>Please check your email.</p><a href="https://lsu.edu.ph/drs" class="bg-green-800 text-white rounded-3xl py-1.5 px-10 lg:mb-0 mb-5 mx-auto w-fit lg:block hidden text-sm uppercase" data-v-58fad6a8><i class="fa fa-arrow-circle-left mr-4" data-v-58fad6a8></i> Document Review Sheet </a></div></div>',1)]))):w("",!0),O(x)])}}},Le=H(Oe,[["__scopeId","data-v-58fad6a8"]]);export{Le as default};
