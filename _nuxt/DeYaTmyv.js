import{_ as Xe}from"./kUHg8CKG.js";import{k as Je,l as Ze,r,p as Ae,K as Ee,m as I,D as et,c as o,a as e,f as k,i as Ie,h as u,e as De,t as i,X as Le,n as p,j as x,d as D,F as H,g as K,y as $e,aa as tt,v as Q,q as P,b as Re,o as a,s as st,w as lt,ab as ot}from"./DSHxXfDY.js";import{_ as at}from"./5JjjnmY2.js";import{h as ae}from"./C5S46NFB.js";const nt={class:"h-screen flex"},rt={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},it={class:"w-full"},dt={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},ut={class:"flex items-center w-full px-2"},ct={class:"text-sm"},gt={class:"w-full overflow-y-scroll"},ft={class:"bg-green-800 fixed w-full z-10"},vt={class:"flex mx-auto justify-between py-2 px-3.5"},mt={class:"pt-14"},pt={class:"w-full lg:p-5 px-2 py-2"},xt={class:"w-full flex justify-between items-center mb-4 px-2 py-2 bg-white shadow rounded-md"},ht={class:"lg:flex justify-between w-full gap-x-3"},yt={class:"flex justify-between gap-x-2"},bt={class:""},wt=["disabled"],_t={key:0,class:"flex items-center lg:my-0 my-2"},kt=["value"],Ct={class:"flex gap-x-2 mb-4"},jt={class:"flex items-center w-full lg:mt-0 mt-2"},St={class:"relative w-full"},Mt={class:""},At={class:"appointment-lists mx-auto text-xs"},Et={key:0,class:"text-center"},It={key:1},Dt={key:0,class:"gap-4"},Lt={class:"w-fit flex px-2"},$t={class:""},Rt=["value"],Tt={class:"lg:w-7/12 w-full flex items-center"},Ut={class:"w-full"},Vt={class:"w-full lg:px-3 lg:flex items-center"},Bt={class:"text-[10px] font-light whitespace-nowrap"},Nt={class:"font-bold"},Pt={class:"w-full"},Yt={class:"w-full my-1"},qt=["onClick"],Ot={class:"space-y-4"},zt={class:"flex items-center"},Gt={class:"ml-4"},Ft={class:"text-sm font-medium text-gray-900"},Ht={class:"text-sm text-gray-500"},Kt={class:"bg-gray-50 p-4 rounded-md"},Qt={class:"grid grid-cols-1 gap-3"},Wt={class:"flex items-start"},Xt={class:"ml-3 text-sm"},Jt={class:"text-gray-500"},Zt={class:"flex items-start"},es={class:"ml-3 text-sm"},ts={class:"text-gray-500"},ss={class:"flex items-start"},ls={class:"ml-3 text-sm"},os={class:"text-gray-500"},as={class:"flex items-start"},ns={class:"ml-3 text-sm"},rs={class:"text-gray-500"},is={class:"w-11/12 mx-auto"},ds={class:"flex w-full"},us=["onUpdate:modelValue"],cs={class:"w-11/12 mx-auto"},gs={class:"flex w-full"},fs=["onUpdate:modelValue"],vs={class:"w-11/12 mx-auto"},ms={class:"flex w-full"},ps=["onUpdate:modelValue"],xs={class:"w-11/12 mx-auto"},hs={class:"flex w-full"},ys=["onUpdate:modelValue"],bs={class:"flex justify-between items-center mb-4 border-b pb-3"},ws={class:"text-lg font-medium text-gray-900"},_s={class:"mb-6 max-h-[40vh] overflow-y-auto"},ks={key:0,class:"text-center text-gray-500 py-4"},Cs={key:1,class:"space-y-3"},js={class:"flex justify-between items-start"},Ss={class:"text-gray-500"},Ms={class:"border-t pt-4"},As={class:"space-y-3"},Es={class:"flex justify-end gap-2"},Is=["disabled"],Ds={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ls={class:"flex min-h-full items-center justify-center p-4 text-center"},$s={class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all"},Rs={class:"mt-2"},Ts={class:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4"},Us={class:"flex"},Vs={class:"ml-3"},Bs={class:"text-sm text-yellow-700"},Ns={class:"font-medium"},Ps={class:"mt-4 flex justify-end gap-2"},Ys=["disabled"],qs={key:0,class:"fa fa-paper-plane mr-2"},Os={key:1,class:"fa fa-spinner fa-spin mr-2"},zs={class:"w-full py-1"},Gs={class:"lg:flex items-center gap-x-3"},Fs={class:"flex gap-x-3 w-fit mx-auto"},Hs={key:0,class:"flex gap-x-3"},Ks=["onClick"],Qs=["src"],Ws=["onClick"],Xs=["src"],Js=["onClick"],Zs=["src"],el={class:"lg:w-10/12 w-full items-center text-left"},tl={class:"w-full lg:px-3 lg:block flex items-center lg:py-0 py-2"},sl={class:"text-[10px] font-light whitespace-nowrap"},ll={class:"list-decimal lg:pl-4 pl-2.5"},ol={class:"lg:w-7/12 text-left"},al={key:0,class:"w-full lg:block flex items-center lg:py-0 py-2"},nl={class:"text-[10px] font-light whitespace-nowrap"},rl={class:""},il={class:"lg:w-fit w-full flex items-center justify-center py-1"},dl=["onClick"],ul=["src"],cl={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300"},gl={class:"text-center"},fl={class:"text-sm text-gray-500 mb-6"},vl={class:"flex justify-center gap-4"},ml=["disabled"],pl={key:0,class:"fa fa-spinner fa-spin mr-2"},xl=["disabled"],hl={key:1,class:"flex justify-center my-4 pb-10"},yl=["disabled"],bl=["onClick"],wl=["disabled"],_l={key:2,class:"text-center my-5"},kl={class:"fixed bottom-0 w-full"},Cl=1e3,ne=500,Z=4,Il={__name:"index",setup(jl){const ee=Je(),Y=Ze(),y=r([]);let Te=r(!0),h=r(!1),j=r(!1);const L=r(Y.mainDevServer);let re=r(null);const C=r("all"),$=r(!1),ie=r(""),Ue=()=>{if(!y.value.length)return;const l=["firstname","middlename","lastname","birthdate","mother_maiden_name","contact_number","email","alumni","college","course","year_graduated_last_attended","type_document_requests","details","tracking_id","logs"],t=(w,A)=>Array.isArray(w)?w.map(E=>typeof E=="object"?Object.values(E).join(" "):E).join(A==="type_document_requests"?`
`:"; "):typeof w=="object"&&w!==null?Object.values(w).join(" "):String(w??"").replace(/[\{\}\\"]/g,"").replace(/\s+/g," ").trim(),n=[l.join(","),...y.value.map(w=>l.map(A=>`"${t(w[A],A)}"`).join(","))],s=new Blob([n.join(`
`)],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(s),v=document.createElement("a");v.href=g,v.download="registrar_list.csv",document.body.appendChild(v),v.click(),document.body.removeChild(v)},te=l=>{ie.value=l,$.value=!0,b.value=!0,document.body.style.overflow="hidden"},W=()=>{$.value=!1,b.value=U(),document.body.style.overflow="auto"},R=r(!1),c=r(null),S=r(""),Ve=l=>{c.value=l,R.value=!0,b.value=!0,S.value="",document.body.style.overflow="hidden"},de=()=>{R.value=!1,b.value=U(),document.body.style.overflow="auto"},X=r(!1),q=r(!1),O=r(""),Be=async()=>{if(!(!S.value.trim()||!c.value))try{O.value=S.value.trim();const l={timestamp:ae().format("MMMM DD, YYYY h:mm:ss A"),status_remarks:O.value},t=c.value.logs?[...c.value.logs]:[];t.unshift(l),re.value=c.value.id;const n={...c.value,logs:t};await $fetch(L.value+"/api/registrar/"+re.value+"/edit/",{method:"PUT",headers:{"Content-Type":"application/json"},body:n}),c.value.logs=t,S.value="",await fe(),X.value=!0}catch(l){console.error("Error adding log:",l)}},ue=()=>{X.value=!1,O.value=""},Ne=async()=>{if(c.value){q.value=!0;try{const l={id:c.value.id,latest_status:O.value};console.log("Sending email data:",l),await $fetch(L.value+"/api/registrar/confirmation/",{method:"POST",headers:{"Content-Type":"application/json"},body:l}),console.log("Email sent successfully"),X.value=!1,O.value=""}catch(l){console.error("Error sending confirmation email:",l)}finally{q.value=!1}}},z=r(""),Pe=r([{value:"Arts and Sciences, Engineering, Architecture, Computer Studies",label:"Arts and Sciences, Engineering, Architecture, Computer Studies"},{value:"Business-Related Courses, BSTM",label:"Business-Related Courses, BSTM"},{value:"Nursing, and Graduate Studies",label:"Nursing, and Graduate Studies"},{value:"Education Courses, BSHM",label:"Education Courses, BSHM"},{value:"Criminology",label:"Criminology"}]),ce=r(!1);Ae(()=>{setTimeout(async()=>{const l=Y.user.email,t={"ccsea.registrar@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","jorenlee.luna@lsu.edu.ph":"Arts and Sciences, Engineering, Architecture, Computer Studies","cba.registrar@lsu.edu.ph":"Business-Related Courses, BSTM","onlinerequest@lsu.edu.ph":"Nursing, and Graduate Studies","cte.registrar@lsu.edu.ph":"Education Courses, BSHM","ccje.registra@lsu.edu.ph":"Criminology"},n=["jorenleeluna24@gmail.com","registrar@lsu.edu.ph"],s=[...n,...Object.keys(t)];Y.user.isAuthenticated&&s.includes(l)?(n.includes(l)?ce.value=!0:z.value=t[l]||"",await se(),ee.push("/registrar/dashboard"),Ye()):ee.push("/unauthorized")},5e3)});let T=null,b=r(!1);const U=()=>R.value||$.value||j.value||N.value,Ye=()=>{T&&clearInterval(T),T=setInterval(async()=>{b.value=U(),b.value||(await fe(),await qe())},Cl)},ge=()=>{T&&(clearInterval(T),T=null)},qe=async()=>{try{const l=y.value;if(!l||!Array.isArray(l)||l.length===0)return;const t={},n=[];l.forEach(s=>{if(s.tracking_id)if(t[s.tracking_id]){const g=t[s.tracking_id],v=new Date(g.created_at)>new Date(s.created_at)?g.id:s.id;n.push(v)}else t[s.tracking_id]=s});for(const s of n)console.log(`Removing duplicate item with ID: ${s}`),await $fetch(L.value+"/api/registrar/"+s+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});n.length>0&&(console.log(`Removed ${n.length} duplicate entries`),await se())}catch(l){console.error("Error checking for duplicates:",l)}},fe=async()=>{try{const l=await $fetch(L.value+"/api/registrar/list").catch(t=>t.data)||[];if(l.length>0&&(M.value.length>0?(M.value=l,oe()):y.value=l,c.value)){const t=l.find(n=>n.id===c.value.id);t&&(c.value=t)}}catch(l){console.error("Error fetching list items quietly:",l)}},se=async()=>{J.value=!0;try{const l=await $fetch(L.value+"/api/registrar/list").catch(t=>(console.error("Fetch error:",t),[]));y.value=Array.isArray(l)?l:[],M.value=[],G.value=""}catch(l){console.error("Error fetching list items:",l),y.value=[]}finally{J.value=!1}};Ee(()=>{ge()});const Oe=()=>{ee.push("/registrar/login"),Y.removeToken()},f=r([]),V=r(!1),ve=I(()=>f.value.length===B.value.length&&B.value.length>0),ze=()=>{ve.value?f.value=[]:f.value=B.value.map(l=>l.id)},Ge=()=>{f.value.length!==0&&(j.value=!0,b.value=!0)},Fe=()=>{j.value=!1,b.value=U()},He=async()=>{if(f.value.length!==0)try{V.value=!0;for(const l of f.value)await $fetch(L.value+"/api/registrar/"+l+"/delete/",{method:"DELETE",headers:{"Content-Type":"application/json"}});console.log(`${f.value.length} items deleted successfully`),f.value=[],await se(),j.value=!1,b.value=U()}catch(l){console.error("Error deleting items:",l)}finally{V.value=!1}},le=I(()=>{let l=[...y.value];return C.value==="done"?l=l.filter(t=>{var n;return(n=t.logs)==null?void 0:n.some(s=>{var v;const g=(v=s.status_remarks)==null?void 0:v.toLowerCase();return g==="done"||g==="completed"||g==="finish"||g==="complete"})}):C.value==="pending"&&(l=l.filter(t=>{var n;return(n=t.logs)==null?void 0:n.every(s=>{var v;const g=(v=s.status_remarks)==null?void 0:v.toLowerCase();return g!=="done"&&g!=="completed"&&g!=="finish"&&g!=="complete"})})),at.orderBy(l,"created_at","asc")}),J=r(!0),_=r(1),me=I(()=>Math.ceil(le.value.length/ne)),B=I(()=>{const l=(_.value-1)*ne,t=l+ne;return le.value.slice(l,t)}),Ke=I(()=>z.value?B.value.filter(l=>l.college===z.value):B.value),Qe=I(()=>{const l=[];let t=Math.max(1,_.value-Math.floor(Z/2)),n=Math.min(me.value,t+Z-1);n-t+1<Z&&(t=Math.max(1,n-Z+1));for(let s=t;s<=n;s++)l.push(s);return l}),N=r(!1),pe=r(null),We=l=>{pe.value=l,N.value=!0,b.value=!0,document.body.style.overflow="hidden"},xe=()=>{N.value=!1,b.value=U(),document.body.style.overflow="auto"};Ae(()=>{window.addEventListener("keydown",l=>{l.key==="Escape"&&$.value&&W()})}),Ee(()=>{window.removeEventListener("keydown",l=>{l.key==="Escape"&&$.value&&W()}),ge()});const G=r(""),M=r([]),oe=()=>{_.value=1,M.value.length===0&&y.value.length>0&&(M.value=[...y.value]),G.value.toLowerCase().trim();const l=M.value.length>0?M.value:y.value;y.value=l.filter(t=>{if(!t)return!1;const n=G.value.toLowerCase().trim();return Object.keys(t).some(s=>typeof t[s]=="string"?t[s].toLowerCase().includes(n):!1)}),f.value=[]},F=I(()=>{var l;return!((l=c.value)!=null&&l.logs)||!Array.isArray(c.value.logs)?[]:[...c.value.logs].sort((t,n)=>{const s=ae(t.timestamp,"MMMM DD, YYYY h:mm:ss A"),g=ae(n.timestamp,"MMMM DD, YYYY h:mm:ss A");return s.valueOf()-g.valueOf()})});return et(y,l=>{console.log("listItems updated:",l)}),(l,t)=>{const n=Xe;return a(),o("div",null,[e("div",nt,[k(e("div",rt,[e("div",it,[e("div",dt,[e("div",ut,[t[14]||(t[14]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",ct,i(u(Y).user.email),1)]),e("div",{onClick:t[0]||(t[0]=s=>Le(h)?h.value=!u(h):h=!u(h)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:p(["fa text-3xl text-white",u(h)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[15]||(t[15]=De('<div class=""><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto"></div><div class="text-center"><h1 class="font-bold text-green-800 text-2xl">Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/registrar/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1))])],512),[[Ie,u(h)]]),e("div",gt,[e("div",ft,[e("div",vt,[e("div",{onClick:t[1]||(t[1]=s=>Le(h)?h.value=!u(h):h=!u(h)),class:"w-auto flex items-center lg:px-1.5"},[e("i",{class:p(["fa text-3xl text-white",u(h)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),t[16]||(t[16]=e("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Registrar ",-1))]),e("button",{onClick:Oe,class:"flex hover:font-bold pt-1"},t[17]||(t[17]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)]))])]),e("div",mt,[e("div",pt,[k(e("div",null,[t[54]||(t[54]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),e("div",xt,[e("div",ht,[e("div",yt,[e("div",bt,[e("button",{onClick:ze,class:"whitespace-nowrap flex items-center px-2 bg-gray-200 hover:bg-gray-300 text-gray-700 lg:px-3 pr-2 py-1.5 rounded-md transition-colors duration-200 lg:text-sm text-xs"},i(u(ve)?"Deselect All":"Select All"),1)]),e("div",{class:p(f.value.length===0?"hidden":"")},[e("button",{onClick:Ge,class:p(["flex items-center hover:bg-red-600 text-white px-3 lg:py-1 py-0.5 rounded-md transition-colors duration-200 disabled:opacity-50 whitespace-nowrap",f.value.length===0?"bg-pink-200":"bg-red-500"]),disabled:f.value.length===0},[t[18]||(t[18]=e("i",{class:"fa fa-trash mr-2"},null,-1)),D(" ("+i(f.value.length)+") ",1)],10,wt)],2)]),ce.value?(a(),o("div",_t,[k(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>z.value=s),class:"lg:px-3 px-1 lg:py-1.5 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs"},[t[19]||(t[19]=e("option",{value:""},"All Colleges",-1)),(a(!0),o(H,null,K(Pe.value,s=>(a(),o("option",{key:s.value,value:s.value},i(s.label),9,kt))),128))],512),[[$e,z.value]])])):x("",!0),e("div",Ct,[e("button",{onClick:t[3]||(t[3]=s=>C.value="all"),class:p(["px-2 py-1 rounded-xl border",C.value==="all"?"bg-blue-600 text-white border-blue-600":"bg-white text-blue-600 border-blue-600 hover:bg-blue-600 hover:text-white"])}," All ",2),e("button",{onClick:t[4]||(t[4]=s=>C.value="pending"),class:p(["px-2 py-1 rounded-xl border",C.value==="pending"?"bg-red-600 text-white border-red-600":"bg-white text-red-600 border-red-600 hover:bg-red-600 hover:text-white"])}," Pending ",2),e("button",{onClick:t[5]||(t[5]=s=>C.value="done"),class:p(["px-2 py-1 rounded-xl border",C.value==="done"?"bg-green-600 text-white border-green-600":"bg-white text-green-600 border-green-600 hover:bg-green-600 hover:text-white"])}," Done ",2)]),e("div",jt,[e("div",St,[k(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>G.value=s),type:"search",placeholder:"Search",class:"lg:px-3 px-2 lg:py-1.5 py-1 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 w-full text-xs",onKeyup:tt(oe,["enter"])},null,544),[[Q,G.value]]),e("button",{onClick:oe,class:"absolute right-0 top-0 h-full px-3 text-gray-500 hover:text-green-600"},t[20]||(t[20]=[e("i",{class:"fa fa-search"},null,-1)]))])]),e("div",null,[e("button",{onClick:Ue,class:"whitespace-nowrap border px-2 py-1 rounded-lg bg-green-600 text-white font-bold"}," Export CSV ")])])]),e("div",Mt,[e("div",At,[J.value?(a(),o("div",Et,t[21]||(t[21]=[De('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(a(),o("div",It,[u(B).length>0?(a(),o("div",Dt,[(a(!0),o(H,null,K(u(Ke),(s,g)=>{var v,w,A,E,he,ye,be,we,_e,ke,Ce,je,Se,Me;return a(),o("div",{class:"flex items-center h-auto shadow lg:mb-0 mb-3 border-gray-200",key:g},[e("div",Lt,[e("div",$t,[k(e("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":t[7]||(t[7]=d=>f.value=d),class:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 focus:ring-2"},null,8,Rt),[[st,f.value]])])]),e("div",{class:p(["w-full px-2 py-1.5 border-l lg:flex items-center",g%2?"bg-gray-100":""])},[e("div",Tt,[e("div",Ut,[e("div",Vt,[e("div",Bt,[t[22]||(t[22]=e("span",{class:"mr-1"},"Tracking ID:",-1)),e("span",Nt,i(s.tracking_id),1)])])])]),e("div",Pt,[e("div",Yt,[e("div",{class:"w-full cursor-pointer text-xs cursor font-bold uppercase text-green-800 bg-green-50 hover:bg-green-900 hover:text-white py-1 px-1 flex items-center",onClick:d=>We(s)},[t[23]||(t[23]=e("i",{class:"fa fa-user mr-2.5"},null,-1)),D(" "+i(s.lastname)+", "+i(s.firstname)+" "+i(s.middlename),1)],8,qt)]),N.value&&pe.value===s?(a(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:xe},[e("div",{class:p(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":N.value,"scale-95 opacity-0":!N.value}]),onClick:t[8]||(t[8]=P(()=>{},["stop"]))},[e("div",{class:"flex justify-between items-center mb-4 border-b pb-3"},[t[25]||(t[25]=e("h3",{class:"text-lg font-medium text-gray-900"}," Personal Information ",-1)),e("button",{onClick:xe,class:"text-gray-400 hover:text-gray-500"},t[24]||(t[24]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",Ot,[e("div",zt,[t[26]||(t[26]=e("div",{class:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0"},[e("i",{class:"fa fa-user text-green-600"})],-1)),e("div",Gt,[e("p",Ft,i(s.firstname)+" "+i(s.middlename)+" "+i(s.lastname),1),e("p",Ht," Tracking ID: "+i(s.tracking_id),1)])]),e("div",Kt,[e("div",Qt,[e("div",Wt,[t[28]||(t[28]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-envelope"})],-1)),e("div",Xt,[t[27]||(t[27]=e("p",{class:"font-medium text-gray-900"}," Email ",-1)),e("p",Jt,i(s.email),1)])]),e("div",Zt,[t[30]||(t[30]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-phone"})],-1)),e("div",es,[t[29]||(t[29]=e("p",{class:"font-medium text-gray-900"}," Contact Number ",-1)),e("p",ts,i(s.contact_number),1)])]),e("div",ss,[t[32]||(t[32]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-birthday-cake"})],-1)),e("div",ls,[t[31]||(t[31]=e("p",{class:"font-medium text-gray-900"}," Date of Birth ",-1)),e("p",os,i(s.birthdate),1)])]),e("div",as,[t[34]||(t[34]=e("div",{class:"flex-shrink-0 h-5 w-5 text-green-500"},[e("i",{class:"fa fa-female"})],-1)),e("div",ns,[t[33]||(t[33]=e("p",{class:"font-medium text-gray-900"}," Mother's Maiden Name ",-1)),e("p",rs,i(s.mother_maiden_name),1)])]),e("div",is,[t[36]||(t[36]=e("label",{for:"alumni",class:"font-bold text-gray-800 mr-1"},"ICC / LSU Graduate? :",-1)),e("div",ds,[k(e("select",{class:"border-b w-full mx-auto text-xs px-1 shadow-sm","onUpdate:modelValue":d=>s.alumni=d},t[35]||(t[35]=[e("option",{value:"yes"},"Alumnus",-1),e("option",{value:"no"}," Non-Alumnus ",-1)]),8,us),[[$e,s.alumni]])])]),e("div",cs,[t[37]||(t[37]=e("label",{for:"college",class:"font-bold text-gray-800 mr-1"},"College:",-1)),e("div",gs,[k(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"College","onUpdate:modelValue":d=>s.college=d},null,8,fs),[[Q,s.college]])])]),e("div",vs,[t[38]||(t[38]=e("label",{for:"course",class:"font-bold text-gray-800 mr-1"},"Course:",-1)),e("div",ms,[k(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"Course","onUpdate:modelValue":d=>s.course=d},null,8,ps),[[Q,s.course]])])]),e("div",xs,[t[39]||(t[39]=e("label",{for:"year_graduated_last_attended",class:"font-bold text-gray-800 whitespace-nowrap mr-1"}," A.Y. Graduated | Attended:",-1)),e("div",hs,[k(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"Year Graduated or Last Attended","onUpdate:modelValue":d=>s.year_graduated_last_attended=d},null,8,ys),[[Q,s.year_graduated_last_attended]])])])])])])],2)])):x("",!0),R.value&&c.value===s?(a(),o("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 transition-opacity duration-300",onClick:de},[e("div",{class:p(["bg-white rounded-lg shadow-xl p-6 max-w-2xl w-full mx-4 transform transition-transform duration-300 max-h-[90vh] overflow-auto",{"scale-100 opacity-100":R.value,"scale-95 opacity-0":!R.value}]),onClick:t[10]||(t[10]=P(()=>{},["stop"]))},[e("div",bs,[e("h3",ws," Status Logs - "+i(((v=c.value)==null?void 0:v.tracking_id)||"N/A"),1),e("button",{onClick:de,class:"text-gray-400 hover:text-gray-500"},t[40]||(t[40]=[e("i",{class:"fa fa-times"},null,-1)]))]),e("div",_s,[!((w=c.value)!=null&&w.logs)||c.value.logs.length===0?(a(),o("div",ks," No logs available ")):(a(),o("div",Cs,[(a(!0),o(H,null,K(u(F),(d,m)=>(a(),o("div",{key:m,class:p(["border-l-4 rounded-r text-[10px]",m===u(F).length-1?"border-green-500 bg-green-50 py-3 ":"border-gray-300 bg-gray-50"])},[e("div",js,[e("div",{class:p(["font-medium",m===u(F).length-1?"text-green-800 text-sm":"text-gray-500"])},[e("div",{class:p(["w-full bg-transparent border-b focus:outline-none px-1",m===u(F).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},i(d.status_remarks),3)],2),e("div",Ss,[e("div",{class:p(["bg-transparent border-b focus:outline-none px-1 text-right",m===u(F).length-1?"border-green-300 focus:border-green-500":"border-gray-300 focus:border-gray-500"])},i(d.timestamp),3)])])],2))),128))]))]),e("div",Ms,[e("div",As,[e("div",null,[t[41]||(t[41]=e("label",{for:"status_remarks",class:"block text-sm font-medium text-gray-700 mb-1"},"Status / Remarks",-1)),k(e("textarea",{id:"status_remarks","onUpdate:modelValue":t[9]||(t[9]=d=>S.value=d),rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"Enter status update..."},null,512),[[Q,S.value]])]),e("div",Es,[e("button",{onClick:Be,disabled:!S.value.trim(),class:"inline-flex justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-sm font-medium text-white hover:bg-green-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-green-500 focus-visible:ring-offset-2 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},t[42]||(t[42]=[e("i",{class:"fa fa-plus mr-2"},null,-1),D(" Add ")]),8,Is)]),Re(ot,{appear:"",name:"fade"},{default:lt(()=>{var d;return[X.value?(a(),o("div",Ds,[e("div",Ls,[e("div",{class:"fixed inset-0 bg-black bg-opacity-25",onClick:ue}),e("div",$s,[t[47]||(t[47]=e("h3",{class:"text-lg font-medium leading-6 text-gray-900"}," Send Status Update Email ",-1)),e("div",Rs,[t[46]||(t[46]=e("p",{class:"text-sm text-gray-500"}," Would you like to notify the applicant about this status update via email? ",-1)),e("div",Ts,[e("div",Us,[t[45]||(t[45]=e("div",{class:"flex-shrink-0"},[e("i",{class:"fa fa-info-circle text-yellow-400"})],-1)),e("div",Vs,[e("p",Bs,[t[43]||(t[43]=D(" This will send an email to ")),e("span",Ns,i((d=c.value)==null?void 0:d.email),1),t[44]||(t[44]=D(" with the latest status information. "))])])])])]),e("div",Ps,[e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2",onClick:ue}," No, Skip Email "),e("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2",onClick:Ne,disabled:q.value},[q.value?(a(),o("i",Os)):(a(),o("i",qs)),D(" "+i(q.value?"Sending...":"Yes, Send Email"),1)],8,Ys)])])])])):x("",!0)]}),_:1})])])],2)])):x("",!0),e("div",zs,[e("div",Gs,[t[48]||(t[48]=e("div",{class:"font-bold text-[10px] mr-1 text-center"}," IDs and Documents: ",-1)),e("div",Fs,[s?(a(),o("span",Hs,[(he=(E=(A=s.valid_id_front)==null?void 0:A[0])==null?void 0:E.url)!=null&&he.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(a(),o("a",{key:0,onClick:P(d=>{var m;return te((m=s.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:m[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[e("img",{src:(ye=s.valid_id_front[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:ye[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Qs)],8,Ks)):x("",!0),(_e=(we=(be=s.valid_id_back)==null?void 0:be[0])==null?void 0:we.url)!=null&&_e.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(a(),o("a",{key:1,onClick:P(d=>{var m;return te((m=s.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:m[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[e("img",{src:(ke=s.valid_id_back[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:ke[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Xs)],8,Ws)):x("",!0),(Se=(je=(Ce=s.credential_evaluation_requests)==null?void 0:Ce[0])==null?void 0:je.url)!=null&&Se.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i)?(a(),o("a",{key:2,onClick:P(d=>{var m;return te((m=s.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:m[0])},["prevent"]),class:"cursor-pointer rounded-full border-2 border-green-800"},[e("img",{src:(Me=s.credential_evaluation_requests[0].url.match(/https:\/\/.*?\.(jpg|jpeg|png|gif|pdf|doc|docx)/i))==null?void 0:Me[0],class:"w-7 h-7 hover:opacity-80 rounded-full transition-opacity"},null,8,Zs)],8,Js)):x("",!0)])):x("",!0)])])])]),e("div",el,[e("div",tl,[e("div",sl,[t[49]||(t[49]=e("span",{class:"font-bold"},"Requested Documents:",-1)),e("ul",ll,[(a(!0),o(H,null,K(s.type_document_requests,(d,m)=>(a(),o("li",{class:"leading-[10px] text-[9px]",key:m},i(d),1))),128))])])])]),e("div",ol,[s.details?(a(),o("div",al,[e("div",nl,[t[50]||(t[50]=e("span",{class:"font-bold mr-1"},"Note:",-1)),e("span",rl,i(s.details),1)])])):x("",!0),e("div",il,[e("button",{class:"w-full whitespace-nowrap text-green-700 cursor-pointer bg-white border shadow-lg border-green-500 hover:bg-green-800 px-5 pt-1 pb-1 hover:text-white font-bold rounded-full uppercase",onClick:d=>Ve(s)}," Status ("+i(s.logs?s.logs.length:0)+") ",9,dl)])])],2)])}),128)),$.value?(a(),o("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",onClick:W},[e("div",{class:"relative max-w-4xl max-h-[90vh] overflow-auto bg-white p-2 rounded-lg",onClick:t[11]||(t[11]=P(()=>{},["stop"]))},[e("button",{onClick:W,class:"absolute top-2 right-2 text-gray-700 hover:text-red-500 bg-white rounded-full w-8 h-8 flex items-center justify-center shadow-md"},t[51]||(t[51]=[e("i",{class:"fa fa-close"},null,-1)])),e("img",{src:ie.value,class:"max-w-full max-h-[85vh] object-contain"},null,8,ul)])])):x("",!0),u(j)?(a(),o("div",cl,[e("div",{class:p(["bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300",{"scale-100 opacity-100":u(j),"scale-95 opacity-0":!u(j)}])},[e("div",gl,[t[52]||(t[52]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4"},[e("i",{class:"fa fa-exclamation-triangle text-red-600 text-xl"})],-1)),t[53]||(t[53]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Confirm Deletion ",-1)),e("p",fl," Are you sure you want to delete "+i(f.value.length===1?"this record":"these "+f.value.length+" records")+"? This action cannot be undone. ",1)]),e("div",vl,[e("button",{onClick:He,class:"inline-flex justify-center rounded-md border border-transparent bg-red-600 px-4 py-2 text-sm font-medium text-white hover:bg-red-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:V.value},[V.value?(a(),o("i",pl)):x("",!0),D(" "+i(V.value?"Deleting...":"Delete"),1)],8,ml),e("button",{onClick:Fe,class:"inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2 transition-colors duration-200",disabled:V.value}," Cancel ",8,xl)])],2)])):x("",!0)])):x("",!0),u(le).length>0?(a(),o("div",hl,[e("button",{disabled:_.value===1,onClick:t[12]||(t[12]=s=>_.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,yl),(a(!0),o(H,null,K(u(Qe),s=>(a(),o("button",{key:s,onClick:g=>_.value=s,class:p(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":_.value===s,"bg-gray-200":_.value!==s}])},i(s),11,bl))),128)),e("button",{disabled:_.value===u(me),onClick:t[13]||(t[13]=s=>_.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,wl)])):J.value?x("",!0):(a(),o("div",_l," No items found! "))]))])])],512),[[Ie,u(Te)]])])])])]),e("div",kl,[Re(n)])])}}};export{Il as default};
