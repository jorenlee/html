import{_ as z}from"./_VhkHRKM.js";import{_ as E}from"./mDJIy_nm.js";import{e as T,u as Y,r as u,s as F,g as O,c as o,a as e,b as x,h as R,v as U,f as i,j as A,n as _,t as h,F as v,l as b,o as a,k as S}from"./2cbOPICE.js";import{h as X}from"./C5S46NFB.js";import{_ as G}from"./5JjjnmY2.js";import{X as I}from"./DcI5gMmV.js";/* empty css        */import{_ as J}from"./DlAUqK2U.js";const q=[{time:["08:00 AM - 08:20 AM","08:20 AM - 08:40 AM","08:40 AM - 09:00 AM","09:00 AM - 09:20 AM","09:20 AM - 09:40 AM","09:40 AM - 10:00 AM","10:00 AM - 10:20 AM","10:20 AM - 10:40 AM","10:40 AM - 11:00 AM","11:00 AM - 11:20 AM","11:20 AM - 11:40 AM","11:40 AM - 12:00 NN","12:00 NN - 12:20 PM","12:20 PM - 12:40 PM","12:40 PM - 01:00 PM","01:00 PM - 01:20 PM","01:20 PM - 01:40 PM","01:40 PM - 02:00 PM","02:00 PM - 02:20 PM","02:20 PM - 02:40 PM","02:40 PM - 03:00 PM","03:00 PM - 03:20 PM","03:20 PM - 03:40 PM","03:40 PM - 04:00 PM","04:00 PM - 04:20 PM","04:20 PM - 04:40 PM","04:40 PM - 05:00 PM"]}],H={timeSelection:q},K={class:""},Q={class:"flex"},W={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},Z={class:"w-full"},ee={class:"bg-green-700"},te={class:"lg:flex mx-auto justify-between py-2 px-3.5"},se={class:"lg:flex items-center text-white gap-5"},ie={class:"flex -mt-1"},le={class:"text-sm"},oe={class:"border pb-5 m-5"},ae={class:"px-2 lg:flex gap-3"},ne={class:"w-fit mb-1"},re={class:""},ue={class:""},de={class:"w-full relative"},ce={class:"w-full border rounded-md"},me={class:"grid grid-cols-3 pt-2 justify-center"},pe={class:""},_e={class:"flex justify-between w-full"},he={class:""},ve={key:0},be={class:"text-xs -mt-0.5 mb-3 block"},fe={class:"text-xs"},ge={class:"relative"},Me={key:0},xe={class:""},ke=["onClick"],ye={__name:"index",async setup(we){let f,k;const g=T(),l=Y(),D=u(l.mainDevServer),y=([f,k]=F(()=>$fetch(D.value+"/api/library/booking/list/").catch(r=>r.data)),f=await f,k(),f);let d=u(),M=u([]),w=u([]),p=u([]);const j=u(H.timeSelection),N=u(l.user.developerEmail);O(()=>{l.user.isAuthenticated&&(l.user.email===N.value||l.user.email==="monaliza.mugot@lsu.edu.ph"||l.user.email==="marilyn.bejec@lsu.edu.ph"||l.user.email==="applejane.ebarle@lsu.edu.ph"||l.user.email==="janekaren.gudmalin@lsu.edu.ph"||l.user.email==="macy.beniola@lsu.edu.ph"||l.user.email==="lynn.lumacad@lsu.edu.ph"||l.user.email==="zosette.salas@lsu.edu.ph")?(y.filter(function(r){w.value.push(r.booking_date)}),g.push("/library/dashboard/appointment"),P()):g.push("/_/unauthorized")});const P=r=>{d.value=X(r).format("MM-DD-YYYY"),M.value=[],p.value=["-"],setTimeout(()=>{y.filter(function(t){t.booking_date===d.value&&(M.value.push(t.booking_time),p.value.push(t))})},100)},C=r=>{g.push("/library/dashboard/appointment/edit/"+r)};let c=u(!0);const V=()=>{g.push("/library/login"),l.removeToken()};return(r,t)=>{const $=z,B=E;return a(),o("div",K,[e("div",Q,[R(e("div",W,[x($)],512),[[U,i(c)]]),e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",{onClick:t[0]||(t[0]=n=>A(c)?c.value=!i(c):c=!i(c)),class:"w-10 px-1.5"},[e("i",{class:_(["fa text-3xl text-white",i(c)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",ie,[t[4]||(t[4]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",le,h(i(l).user.email),1)])]),e("button",{onClick:t[1]||(t[1]=n=>V()),class:"flex hover:font-bold pt-1"},t[5]||(t[5]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",oe,[e("div",null,[t[8]||(t[8]=e("div",{class:"py-2 mb-5 text-center bg-green-900 text-white uppercase text-xs tracking-widest"},"Appointments ",-1)),e("div",ae,[e("div",ne,[e("div",re,[e("div",ue,[x(i(I),{modelValue:i(d),"onUpdate:modelValue":[t[2]||(t[2]=n=>A(d)?d.value=n:d=n),t[3]||(t[3]=n=>P(i(d)))],inline:"","enable-time-picker":!1,name:"date","auto-apply":"",highlight:i(w),"year-range":[2025,2025],"disabled-week-days":[0,7],"week-start":"0"},null,8,["modelValue","highlight"])])])]),e("div",de,[e("div",ce,[e("ul",me,[(a(!0),o(v,null,b(j.value[0].time,(n,L)=>(a(),o("li",{class:"mb-3 font-bold mx-2 border p-3 min-h-[110px]",key:L},[e("div",pe,[e("div",_e,[e("div",he,[(a(!0),o(v,null,b(i(p),(s,m)=>(a(),o("div",{key:m,class:_({"text-red-700":s.status==="pending","text-yellow-500":s.status==="reserved","text-green-900":s.status==="received","text-blue-300":s.status==="returned"})},[n===s.booking_time?(a(),o("span",ve,[e("span",be,h(s.booking_time),1)])):S("",!0)],2))),128)),e("div",{class:_(["text-xs w-full",i(G).includes(i(M),n)?"hidden":""])},h(n),3)])]),e("div",fe,[e("div",ge,[(a(!0),o(v,null,b(i(p),(s,m)=>(a(),o("p",{key:m},[e("span",{class:_(n===s.booking_time?"":"hidden")},h(s.booking_date),3)]))),128))]),(a(!0),o(v,null,b(i(p),(s,m)=>(a(),o("p",{key:m},[n===s.booking_time?(a(),o("span",Me,[e("span",null,h(s.email),1),t[6]||(t[6]=e("br",null,null,-1)),e("span",null,h(s.borrower_category),1)])):S("",!0)]))),128)),(a(!0),o(v,null,b(i(p),(s,m)=>(a(),o("div",{key:m,class:""},[e("span",{class:_(["",n===s.booking_time?"":"hidden"])},[e("div",xe,[e("button",{onClick:Pe=>C(s.id),class:_(["w-full py-0.5 rounded-sm flex items-center gap-10 px-3 mt-3 justify-between",{"bg-red-700":s.status==="pending","bg-yellow-500":s.status==="reserved","bg-green-900":s.status==="received","bg-blue-300":s.status==="returned"}])},t[7]||(t[7]=[e("span",{class:"text-white"}," Go To Details",-1),e("i",{class:"fa fa-chevron-circle-right text-white rounded-lg uppercase text-sm","aria-hidden":"true"},null,-1)]),10,ke)])],2)]))),128))])])]))),128))])])])])])])])]),x(B)])}}},Be=J(ye,[["__scopeId","data-v-1edb952f"]]);export{Be as default};
