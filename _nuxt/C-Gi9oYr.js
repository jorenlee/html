import{k as j,l as C,Z as z,r as a,p as R,c as r,a as e,f as E,i as T,h as p,e as B,X as D,n as A,t as d,q as M,j as v,F as b,g as w,d as _,o as i}from"./BCJqazw-.js";import{h as O}from"./C5S46NFB.js";import"./5JjjnmY2.js";import{a as V}from"./t--hEgTQ.js";const Y={class:"flex"},N={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},$={class:"w-full min-h-screen"},P={class:"bg-green-800"},q={class:"lg:flex mx-auto justify-between py-2 px-3.5"},G={class:"lg:flex items-center text-white gap-5"},H={class:"flex -mt-1"},I={class:"text-sm"},X={class:"w-full p-5"},Z={class:"w-full lg:mb-0 mb-2"},J={class:"mt-3"},K={class:"flex w-full mb-3"},Q={class:"flex h-fit"},W={key:0},ee=["src"],te=["href"],se=["href"],ae={class:"ml-3 font-bold"},le={class:"fixed bg-green-900 py-4 bottom-0 w-full"},oe={class:"text-center text-white lg:text-sm text-xs"},ce={__name:"index",setup(re){const m=j(),n=C();z();const f=a(n.mainDevServer),y=a(O(new Date).format("YYYY"));R(()=>{setTimeout(()=>{n.user.isAuthenticated&&(n.user.email==="hr@lsu.edu.ph"||n.user.email==="jorenleeluna24@gmail.com")?m.push("/hr/dashboard/portal/create"):m.push("/unauthorized")},3e3)});let o=a(!0);a(!1);const h=a({image_link:[]});a("https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/circleLSULogo.jpg");const u=a([]),g=a([]),c=a(null),k=l=>{u.value=Array.from(l.target.files),console.log(l),u.value.forEach(t=>{console.log(`File: ${t.name}, Size: ${t.size} bytes`)})},S=async()=>{if(!u.value.length)return;const l=new FormData;u.value.forEach(t=>{l.append("file",t)});try{c.value="Uploading...";const t=await V.post(f.value+"/api/humanResource/upload/",l,{headers:{"Content-Type":"multipart/form-data"}});let s="https://lsu-media-styles.sgp1.digitaloceanspaces.com/lsu-media-styles/files/humanResource/files/";c.value="Upload successful!",console.log("Files uploaded:",t.data),g.value=t.data.map(x=>({name:x.name,url:s+x.name})),u.value=[],h.value.image_link=g.value,console.log(h.value.image_link),U(),console.log(h.value)}catch(t){console.error("File upload error:",t),c.value="Upload failed: "+t.message}},F=()=>{S()},U=async()=>{await $fetch(f.value+"/api/humanResource/create/",{method:"POST",headers:{"Content-Type":"application/json"},body:h.value}).then(l=>{console.log("response",l),m.push({path:"/hr/dashboard/portal/lists"})})},L=()=>{m.push("/hr"),n.removeToken()};return(l,t)=>(i(),r("div",null,[e("div",Y,[E(e("div",N,t[1]||(t[1]=[B('<div><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/circleLSULogo.jpg" class="lg:w-28 w-24 mx-auto rounded-full"></div><div class="text-center"><h2 class="font-bold text-green-800 text-lg uppercase"> hr dashboard </h2></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/hr/dashboard/portal/lists" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> View Lists </a><a href="/hr/dashboard/portal/create" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-plus-circle mr-3" aria-hidden="true"></i> CREATE </a><a href="/hr" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-address-card mr-3" aria-hidden="true"></i> LSU Recruitment </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1)]),512),[[T,p(o)]]),e("div",$,[e("div",P,[e("div",q,[e("div",G,[e("div",{onClick:t[0]||(t[0]=s=>D(o)?o.value=!p(o):o=!p(o)),class:"w-10 px-1.5"},[e("i",{class:A(["fa text-3xl text-white",p(o)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",H,[t[2]||(t[2]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",I,d(p(n).user.email),1)])]),e("button",{onClick:L,class:"flex hover:font-bold pt-1"},t[3]||(t[3]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",null,[e("div",X,[e("form",{onSubmit:M(F,["prevent"]),class:"px-3 flex flex-wrap"},[e("div",Z,[t[5]||(t[5]=e("label",{class:"text-[10px] text-gray-300"}," Banner ",-1)),e("div",J,[e("div",K,[e("div",Q,[e("input",{type:"file",onChange:k,accept:"image/*"},null,32)])]),c.value?(i(),r("div",W,d(c.value),1)):v("",!0),(i(!0),r(b,null,w(g.value,s=>(i(),r("div",{key:s.url},[s.url.includes("jpg")||s.url.includes("png")?(i(),r("img",{key:0,src:s.url,alt:"Uploaded File",class:"w-80"},null,8,ee)):v("",!0),t[4]||(t[4]=_()),e("a",{href:s.url,target:"_blank",rel:"noopener noreferrer"},d(s.name),9,te)]))),128)),(i(!0),r(b,null,w(u.value,s=>(i(),r("div",{key:s.url,class:"my-4 shadow-lg px-2 py-3 border-2"},[e("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",class:"tracking-tighter"},d(s.name),9,se),e("span",ae,d((s.size/1024/1024).toFixed(2))+" MB size ",1)]))),128))])]),t[6]||(t[6]=e("div",{class:"w-fit mt-5"},[e("button",{class:"w-fit mx-auto block bg-green-800 px-8 py-1.5 rounded-lg text-white"}," Submit ")],-1))],32)])])])]),e("div",le,[e("h1",oe,[_(" Copyright Â© "+d(y.value)+" ",1),t[7]||(t[7]=e("span",null,"La Salle University Ozamiz",-1))])])]))}};export{ce as default};
