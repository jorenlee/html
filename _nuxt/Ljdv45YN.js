import{_ as K}from"./BH3APOg-.js";import{e as W,u as X,r,g as Y,y as C,c as i,a as e,k as b,h as v,m as H,f as p,j as Z,v as j,d as f,n as d,i as O,F as w,l as y,t as a,N as I,b as ee,o as n}from"./DbPEojKM.js";import{_ as te}from"./5JjjnmY2.js";import"./C5S46NFB.js";const se={class:"lg:flex min-h-screen"},le={class:"w-full"},ae={key:0,class:"w-fit mx-auto flex items-center"},oe={key:1},ie={class:"w-fit mx-auto mt-4 shadow-lg rounded-lg"},ne={class:"w-full lg:p-5 px-2 py-2"},re={class:"relative"},de={key:0,class:"text-center"},ue={key:1},ce={key:0,class:"gap-4"},ge={class:"w-full"},ve={class:"lg:flex items-center w-full"},pe={class:"lg:w-3/12 w-full lg:border-r block text-left lg:px-2 px-0.5"},fe={class:"w-full px-2 py-0.5"},xe={class:""},me={class:""},he={class:"w-full px-2 py-0.5"},be={class:"px-2 py-0.5"},we={class:"lg:w-[100px] w-full flex items-center justify-center uppercase"},ye={class:"gap-x-0.5 w-full flex"},_e={class:"lg:w-[270px] w-full font-bold py-1 px-2 flex items-center lg:justify-normal justify-center"},ke={class:"lg:w-4/12 w-full flex items-center py-1"},Ce={class:"w-full"},Ie={class:"lg:flex items-center w-11/12 mx-auto mb-1"},Le={class:"flex w-full"},Pe={class:"border-b w-full mx-auto py-0.5 px-1 text-left"},Ve={key:0,class:"lg:flex items-center w-11/12 mx-auto"},Se={class:"flex w-full"},Ne={class:"border-b w-full mx-auto py-0.5 px-1 text-left"},$e={class:"flex gap-x-5 w-fit mx-auto pt-1"},Ue=["href"],Me=["href"],Te={class:"w-full px-10 lg:-mt-1"},Be=["onClick"],De={class:"pb-1 text-[10px] font-light whitespace-nowrap text-center"},He={class:""},Oe={key:2,class:"flex justify-center my-4"},Re=["disabled"],Ae=["onClick"],Fe=["disabled"],Ee={key:3,class:"text-center my-5"},Ge={key:0,class:"w-full z-10 bg-white h-full"},qe={class:"border-4 border-gray-100 shadow-lg"},ze={class:"flex items-center"},Qe={class:"lg:gap-x-3 lg:text-sm text-xs"},Je={class:"w-full"},Ke={class:"w-full"},We={class:"w-full"},Xe={class:"w-full"},Ye={class:"w-full"},Ze={class:"w-full lg:text-center my-2 border-2 border-green-800 shadow-2xl flex"},je={class:"w-full"},et={class:"w-full"},tt={class:"w-full"},st={class:"w-full"},lt={class:"flex items-center w-full lg:text-center my-2 border-2 border-green-800 shadow-2xl"},at=["onUpdate:modelValue"],ot=["onUpdate:modelValue"],it={class:"static bottom-0 w-full"},T=5,L=3,gt={__name:"index",setup(nt){W();const R=X(),P=r(R.mainDevServer),V=r(0),A=r("13579"),S=r("");let F=r(!0);r(!1),r(!1);const l=r(null),x=r(!1);Y(async()=>{await E()});const E=async()=>{try{V.value=await $fetch(P.value+"/api/campus-pass/list").catch(o=>o.data)||[]}catch(o){console.error("Error fetching list items:",o)}finally{U.value=!1}},G=()=>{window.print()},N=r(!1),q=()=>{A.value===S.value&&(N.value=!0)},z=async o=>{l.value=await $fetch(P.value+"/api/campus-pass/"+o+"/").catch(t=>t.data),console.log(o),console.log(l.value),x.value=!x.value},_=async o=>{console.log(o),Q(o)},Q=async o=>{await $fetch(P.value+"/api/campus-pass/"+o+"/edit/",{method:"PUT",body:l.value}).then(async t=>{console.log("response",t)})};let m=r(""),k;const $=C(()=>{if(k=Array.isArray(V.value)?[...V.value]:[],m.value!==""){const o=m.value.toLowerCase();k=k.filter(t=>{for(const g in t)if(typeof t[g]=="string"&&t[g].toLowerCase().includes(o))return!0;return!1})}return te.orderBy(k,"incharge_lastname","asc")}),U=r(!0),c=r(1),B=C(()=>Math.ceil($.value.length/T)),D=C(()=>{const o=(c.value-1)*T,t=o+T;return $.value.slice(o,t)}),J=C(()=>{const o=[];let t=Math.max(1,c.value-Math.floor(L/2)),g=Math.min(B.value,t+L-1);g-t+1<L&&(t=Math.max(1,g-L+1));for(let s=t;s<=g;s++)o.push(s);return o});return(o,t)=>{const g=K;return n(),i("div",null,[e("div",se,[e("div",le,[t[31]||(t[31]=e("div",{class:"bg-green-800"},[e("div",{class:"flex mx-auto justify-between py-2 px-3.5"},[e("a",{href:"/",class:"w-fit mx-auto"},[e("img",{src:"https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/lsu-w-h.png",class:"lg:h-9 h-8"})])])],-1)),N.value?b("",!0):(n(),i("div",ae,[v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>S.value=s),placeholder:"Pin Code",class:"text-center my-3 rounded-bl-md rounded-tl-md px-2 text-lg border shadow-lg border-green-700 w-[100px]",type:"password",maxlength:"5"},null,512),[[H,S.value]]),e("div",{onClick:q,class:"bg-green-800 font-bold text-white text-sm h-fit cursor-pointer px-3 py-[4px] rounded-br-md rounded-tr-md hover:bg-white hover:text-green-800 border border-green-800"}," Go ")])),N.value?(n(),i("div",oe,[e("div",ie,[v(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>Z(m)?m.value=s:m=s),placeholder:"Search ...",onInput:t[2]||(t[2]=(...s)=>o.handleSearch&&o.handleSearch(...s)),class:"pt-[3px] pb-[2px] px-2 border rounded-tl-md rounded-bl-md"},null,544),[[H,p(m)]]),t[12]||(t[12]=e("label",{class:"bg-green-700 text-white py-[5px] px-2 border-transparent rounded-tr-md rounded-br-md"},[e("i",{class:"fa fa-search","aria-hidden":"true"})],-1))]),e("div",ne,[v(e("div",null,[e("div",{class:"cursor-pointer w-full flex shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase",onClick:G},t[13]||(t[13]=[e("div",{class:"w-fit mx-auto flex items-center"},[e("span",{class:"w-fit mx-auto block rounded-md text-green-800 px-4 font-bold"},[e("i",{class:"fa fa-print"})]),f(" All Request Lists ")],-1)])),e("div",re,[e("div",{class:d(["appointment-lists mx-auto text-xs",x.value?"hidden":""])},[U.value?(n(),i("div",de,t[14]||(t[14]=[O('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(n(),i("div",ue,[p(D).length>0?(n(),i("div",ce,[(n(!0),i(w,null,y(p(D),(s,h)=>(n(),i("div",{class:"justify-evenly text-center items-center h-auto border border-gray-200 shadow mb-3",key:h},[e("div",ge,[e("div",ve,[e("div",pe,[e("div",fe,[e("span",xe,[t[15]||(t[15]=e("i",{class:"fa fa-user mr-2"},null,-1)),f(" "+a(s.incharge_lastname)+", ",1)]),e("span",me,a(s.incharge_firstname),1),e("span",{class:d([s.incharge_middlename==="-"?"hidden":"","mx-1"])},a(s.incharge_middlename),3)]),e("div",he,[t[16]||(t[16]=e("i",{class:"fa fa-envelope mr-2"},null,-1)),f(" "+a(s.incharge_contact_email),1)]),e("div",be,[t[17]||(t[17]=e("i",{class:"fa fa-phone lg:mr-2 mr-1.5"},null,-1)),f(" "+a(s.incharge_contact_number),1)])]),e("div",null,[e("div",we,[e("ul",ye,[(n(!0),i(w,null,y(s.type_of_access,(u,M)=>(n(),i("li",{key:M,class:"px-2 lg:py-0.5 py-2 lg:border-transparent border text-[10px] tracking-tighter w-full whitespace-nowrap lg:text-left text-center"},a(u),1))),128))])]),e("div",_e,[t[18]||(t[18]=e("i",{class:"fa fa-calendar mr-2"},null,-1)),f(" "+a(s.schedule),1)])]),e("div",ke,[e("div",Ce,[e("div",Ie,[t[19]||(t[19]=e("label",{for:"remarks",class:"font-bold text-gray-800 mr-2.5 text-left w-fit ml-0 block"},"Remarks:",-1)),e("div",Le,[e("p",Pe,a(s.remarks),1)])]),s.purpose?(n(),i("div",Ve,[t[20]||(t[20]=e("label",{for:"purpose",class:"font-bold text-gray-800 mr-3 text-left w-fit ml-0 block"},"Purpose:",-1)),e("div",Se,[e("p",Ne,a(s.purpose),1)])])):b("",!0)])]),e("div",{class:d(["lg:w-3/12",s.attendees==="Group"?"cursor-pointer hover:bg-gray-300 hover:text-black bg-gray-200":"bg-gray-50 h-16 flex items-center"])},[e("div",$e,[e("a",{href:s.approved_activities_link,target:"_blank",class:d(["font-bold w-full block text-green-800",s.approved_activities_link==="-"?"hidden":""])},t[21]||(t[21]=[e("i",{class:"fa fa-file-pdf text-lg"},null,-1)]),10,Ue),e("a",{href:s.approved_gso_docs_link,target:"_blank",class:d(["font-bold w-full block text-green-800",s.approved_gso_docs_link==="-"?"hidden":""])},t[22]||(t[22]=[e("i",{class:"fa fa-soccer-ball text-lg"},null,-1)]),10,Me)]),e("div",Te,[e("div",{class:"font-bold uppercase lg:w-full w-fit mx-auto text-center",onClick:u=>z(s.id)},[f(a(s.attendees)+" ",1),e("i",{class:d(["fa fa-caret-down text-lg ml-2 -mt-[1px] h-[0px]",s.attendees==="Group"?"text-green-800":"hidden"])},null,2)],8,Be),e("div",De,[t[23]||(t[23]=f(" TID: ")),e("span",He,a(s.tracking_id),1)])])],2)])])]))),128))])):b("",!0)])),p($).length>0?(n(),i("div",Oe,[e("button",{disabled:c.value===1,onClick:t[3]||(t[3]=s=>c.value--),class:"px-4 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Previous ",8,Re),(n(!0),i(w,null,y(p(J),s=>(n(),i("button",{key:s,onClick:h=>c.value=s,class:d(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":c.value===s,"bg-gray-200":c.value!==s}])},a(s),11,Ae))),128)),e("button",{disabled:c.value===p(B),onClick:t[4]||(t[4]=s=>c.value++),class:"px-4 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,Fe)])):U.value?b("",!0):(n(),i("div",Ee," No items found! "))],2),x.value?(n(),i("div",Ge,[e("div",qe,[e("div",ze,[t[25]||(t[25]=e("div",{class:"text-center border-b py-2 font-bold w-full"}," List of Names ",-1)),e("div",{onClick:t[5]||(t[5]=s=>x.value=!x.value),class:"bg-gray-600 hover:bg-white hover:text-gray-600 border-b border-l text-white px-2 py-[8px]"},t[24]||(t[24]=[e("i",{class:"fa fa-caret-left","aria-hidden":"true"},null,-1)]))]),e("div",Qe,[t[30]||(t[30]=O('<div class="lg:flex items-center hidden text-left lg:px-4 px-2 py-1 font-bold bg-gray-700 mb-0.5 border-b-2 border-gray-600 text-white"><div class="w-full">Full Name</div><div class="w-full">Email</div><div class="w-full">Tracking Id</div><div class="w-full">Type of Access</div><div class="w-full">Schedule</div><div class="w-full">Check-In</div></div>',1)),e("div",{class:d(["lg:flex items-center text-left lg:px-4 px-2 pt-2 mb-0.5 border-b-2 border-gray-600 lg:border-t-0 border-t-2",l.value.checkin==="login"?"bg-green-800 text-white":"text-black bg-gray-100"])},[e("div",Je,a(l.value.incharge_firstname)+" "+a(l.value.incharge_lastname),1),e("div",Ke,a(l.value.incharge_contact_email),1),e("div",We,a(l.value.tracking_id),1),e("div",Xe,[(n(!0),i(w,null,y(l.value.type_of_access,(s,h)=>(n(),i("div",{key:h},a(s),1))),128))]),e("div",Ye,a(l.value.schedule),1),e("div",Ze,[e("label",{class:d(["flex items-center text-center h-7 cursor-pointer text-xs bg-green-900 text-white",l.value.checkin==="login"?"hidden":"w-full"]),for:"loginHead"},[v(e("input",{id:"loginHead",name:"loginHead",type:"radio",value:"login","onUpdate:modelValue":t[6]||(t[6]=s=>l.value.checkin=s),onChange:t[7]||(t[7]=s=>_(l.value.id)),class:"absolute opacity-0 cursor-pointer h-0 w-0"},null,544),[[I,l.value.checkin]]),t[26]||(t[26]=e("span",{class:"w-fit mx-auto whitespace-nowrap px-3"}," Log-In",-1))],2),e("label",{class:d(["flex items-center text-center h-7 cursor-pointer text-xs bg-gray-300 text-black",l.value.checkin==="logout"?"hidden":"w-full"]),for:"logoutHead"},[v(e("input",{id:"logoutHead",name:"logoutHead",type:"radio",value:"logout","onUpdate:modelValue":t[8]||(t[8]=s=>l.value.checkin=s),onChange:t[9]||(t[9]=s=>_(l.value.id)),class:"absolute opacity-0 cursor-pointer h-0 w-0"},null,544),[[I,l.value.checkin]]),t[27]||(t[27]=e("span",{class:"w-fit mx-auto whitespace-nowrap px-3"}," Log-Out",-1))],2)])],2),(n(!0),i(w,null,y(l.value.name_list,(s,h)=>(n(),i("div",{key:h,class:d(["lg:flex items-center text-left lg:px-4 px-2 pt-2 border-b-2 border-gray-300",s.checkin==="login"?"bg-green-800 text-white":"text-black bg-gray-100"])},[e("div",je,a(s.firstname)+" "+a(s.lastname),1),e("div",et,a(s.email),1),e("div",tt,a(l.value.tracking_id),1),(n(!0),i(w,null,y(l.value.type_of_access,(u,M)=>(n(),i("div",{class:"w-full",key:M},a(u),1))),128)),e("div",st,a(l.value.schedule),1),e("div",lt,[e("label",{class:d(["flex items-center text-center w-full h-7 cursor-pointer text-xs bg-green-900 text-white",s.checkin==="login"?"hidden":"w-full"]),for:"logIn"},[v(e("input",{id:"logIn",name:"logIn",type:"radio",value:"login","onUpdate:modelValue":u=>s.checkin=u,class:"hidden cursor-pointer h-0 w-0",onChange:t[10]||(t[10]=u=>_(l.value.id))},null,40,at),[[I,s.checkin]]),t[28]||(t[28]=e("span",{class:"w-fit mx-auto"}," Log-In",-1))],2),e("label",{class:d(["flex items-center text-center w-full h-7 cursor-pointer text-xs bg-gray-300 text-black",s.checkin==="logout"?"hidden":"w-full"]),for:"logOut"},[v(e("input",{id:"logOut",name:"logOut",type:"radio",value:"logout","onUpdate:modelValue":u=>s.checkin=u,class:"hidden cursor-pointer h-0 w-0",onChange:t[11]||(t[11]=u=>_(l.value.id))},null,40,ot),[[I,s.checkin]]),t[29]||(t[29]=e("span",{class:"w-fit mx-auto"}," Log-Out",-1))],2)])],2))),128))])])])):b("",!0)])],512),[[j,p(F)]])])])):b("",!0)])]),e("div",it,[ee(g)])])}}};export{gt as default};
