import{_ as b}from"./CplcAMSF.js";import{_ as w}from"./BapVVDJV.js";import{u as y,f as k,r as n,g as C,c as S,a as e,h as d,v as T,e as i,b as u,i as j,n as B,t as M,j as D,k as m,o as R}from"./bvft0hb-.js";import"./vUEbHlag.js";import"./DlAUqK2U.js";import"./Cpj98o6Y.js";const V={class:""},E={class:"flex"},L={class:"pt-7 pb-24 w-3/12 px-5 bg-gray-100 lg:block hidden"},O={class:"w-full lg:h-screen"},P={class:"bg-green-800"},U={class:"lg:flex mx-auto justify-between py-2 px-3.5"},$={class:"lg:flex lg:items-center text-white gap-5"},z={class:"flex -mt-1"},F={class:"text-sm"},N={class:"text-xs mb-5"},A={class:"p-5"},H={class:"w-2/5 mt-1"},I={class:"w-2/5 mt-1"},Y={__name:"index",setup(q){const l=y(),s=k(),p=n(s.mainDevServer);C(()=>{s.user.isAuthenticated&&(s.user.email==="jorenleeluna24@gmail.com"||s.user.email==="procurement@lsu.edu.ph")?l.push("/_/panels/cits/create"):l.push("/_/unauthorized")});const c=n({firstname:"",middlename:"",lastname:"",lsu_email:s.user.email,admin_level_role:"",lsu_partner_category:"",office:"",office_abbr:"",department:"",department_abbr:"",created_at:""});let o=n(!0);const f=()=>{l.push("/_/cits-admin"),s.removeToken()},_=()=>{l.push("/_/panels/cits")},h=()=>{l.push("/_/panels/cits/create")},v=async()=>{errors.value=[],email==""&&role==""&&errors.value.push("Please fill in all fields."),errors.value.length==0&&await $fetch(p.value+"/api/cits/create/",{method:"POST",headers:{"Content-Type":"application/json"},body:c.value}).then(a=>{l.push({path:"/_/panels/cits"})})};return(a,t)=>{const x=b,g=w;return R(),S("div",V,[e("div",E,[d(e("div",L,[u(x,{goToList:_,goToCreate:h})],512),[[T,i(o)]]),e("div",O,[e("div",P,[e("div",U,[e("div",$,[e("div",{onClick:t[0]||(t[0]=r=>j(o)?o.value=!i(o):o=!i(o)),class:"w-10 px-1.5"},[e("i",{class:B(["fa text-3xl text-white",i(o)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)]),e("div",z,[t[3]||(t[3]=e("i",{class:"fa fa-user mr-2 mt-1","aria-hidden":"true"},null,-1)),e("h1",F,M(i(s).user.email),1)])]),e("button",{onClick:f,class:"flex hover:font-bold pt-1"},t[4]||(t[4]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5"},"Log Out",-1)]))])]),e("div",N,[e("div",A,[t[8]||(t[8]=e("div",{class:"lg:mb-4 text-lg font-medium"},"Create CITS",-1)),e("form",{onSubmit:D(v,["prevent"])},[e("div",null,[e("div",H,[t[5]||(t[5]=e("label",{class:"block uppercase tracking-wide text-gray-700 text-medium font-semibold mb-2",for:"startdate-1"}," Email ",-1)),d(e("input",{class:"shadow-md p-2 rounded-sm w-5/12 border",id:"field_1","onUpdate:modelValue":t[1]||(t[1]=r=>a.email=r),placeholder:"Email Here"},null,512),[[m,a.email]])]),e("div",I,[t[6]||(t[6]=e("label",{class:"block uppercase tracking-wide text-gray-700 text-medium font-semibold mb-2 mt-2",for:"startdate-1"}," Role ",-1)),d(e("input",{class:"shadow-md p-2 rounded-sm w-5/12 border",id:"field_2","onUpdate:modelValue":t[2]||(t[2]=r=>a.role=r),placeholder:"Role"},null,512),[[m,a.role]])])]),t[7]||(t[7]=e("div",{class:"w-1/2 justify-between flex mt-5"},[e("button",{class:"text-white lasalle-green rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center"}," Create Post ")],-1))],32)])])])]),u(g)])}}};export{Y as default};
