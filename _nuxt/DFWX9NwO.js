import{_ as F}from"./C_BHk2lj.js";import{k as O,l as Y,r as f,p as H,m as w,c as a,a as e,f as p,i as I,h as n,e as q,t as o,X as T,n as m,j as v,F as y,g as b,b as X,o as i,d as h,v as k,y as J}from"./BljpGjeo.js";import{_ as K}from"./5JjjnmY2.js";import"./C5S46NFB.js";const Q={class:"h-screen flex"},W={class:"pb-3 lg:w-3/12 bg-gray-100 w-full flex overflow-hidden"},Z={class:"w-full"},ee={class:"flex items-center justify-center text-white bg-green-900 lg:py-[16px] py-[8px] sta"},te={class:"flex items-center w-full px-2"},se={class:"text-sm"},le={class:"w-full overflow-y-scroll"},ae={class:"bg-green-800 fixed w-full"},oe={class:"flex mx-auto justify-between py-2 px-3.5"},ie={class:"pt-14"},ne={class:"w-full lg:p-5 px-2 py-2"},de={class:""},re={key:0,class:"text-center"},ce={key:1},ue={key:0,class:"gap-4"},fe={class:"w-full"},pe={class:"lg:flex items-center w-full"},xe={class:"lg:w-5/12 w-full block text-left text-[11px] leading-tight lg:px-2 px-2 lg:py-1 py-2"},ge={class:"w-full capitalize text-xs flex"},me={class:"max-w-[150px] truncate flex mr-1"},ve={class:""},he={class:"w-full text-xs"},_e={class:"w-full"},we={class:"w-full flex items-center lg:justify-start justify-center mt-1"},ye={class:"w-full pb-1 flex items-center lg:justify-start justify-center"},be={class:"lg:w-9/12 w-full flex items-center lg:py-0 py-4 border-r"},ke={class:"w-full"},Ce={class:"flex items-center w-11/12 mx-auto"},Le={class:"flex w-full"},De=["onUpdate:modelValue"],Ve={class:"flex items-center w-11/12 mx-auto"},Ne={class:"flex w-full"},Se=["onUpdate:modelValue"],Ie={class:"flex items-center w-11/12 mx-auto"},Pe={class:"flex w-full"},Ue=["onUpdate:modelValue"],$e={class:"flex items-center w-11/12 mx-auto"},je={class:"flex w-full"},Ae=["onUpdate:modelValue"],Me={class:"w-6/12 items-center text-left"},qe={class:"w-full px-3 lg:block flex items-center lg:py-0 py-2"},Te={class:"text-[10px] font-light whitespace-nowrap"},Ee={class:"list-disc pl-4"},Re={class:"lg:w-3/12 w-full text-left"},ze={class:"w-full px-3 lg:block flex items-center lg:py-0 py-2"},Be={class:"text-[10px] font-light whitespace-nowrap"},Ge={class:""},Fe={class:"w-full px-3 lg:block flex items-center lg:py-0 py-2"},Oe={class:"text-[10px] font-light whitespace-nowrap"},Ye={class:""},He={class:"w-full px-3 lg:block flex items-center lg:py-0 py-2"},Xe={class:"text-[10px] font-light whitespace-nowrap"},Je={class:""},Ke={class:"w-full px-3 lg:block flex items-center lg:py-0 py-2"},Qe={class:"text-[10px] font-light whitespace-nowrap"},We={class:"flex gap-x-3"},Ze={key:0,class:"flex gap-x-3"},et=["href"],tt=["src"],st=["href"],lt=["src"],at={key:1,class:"flex gap-x-3"},ot=["href"],it=["src"],nt={class:"lg:w-3/12 w-full flex items-center justify-center py-1"},dt={class:"flex w-full"},rt={class:"w-fit mx-auto lg:py-1 py-3 flex items-center"},ct={class:"lg:block flex items-center w-full"},ut=["onUpdate:modelValue","onChange"],ft={class:"flex px-2 font-bold pl-4"},pt={class:"lg:mr-0 lg:ml-auto mx-auto lg:py-0 my-3 lg:flex justify-center text-white items-center"},xt=["onClick"],gt={class:"h-screen w-full px-5 bg-[#ffffffa3] shadow-2xl absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center"},mt={key:1,class:"flex justify-center my-4 pb-10"},vt=["disabled"],ht=["onClick"],_t=["disabled"],wt={key:2,class:"text-center my-5"},yt={key:0,class:"w-full z-10 bg-white h-full mb-16"},bt={class:"border-4 border-gray-100 shadow-lg"},kt={class:"flex items-center"},Ct={class:"lg:grid grid-cols-4 lg:gap-x-3 lg:text-sm text-xs"},Lt={class:"fixed bottom-0 w-full"},P=500,C=4,Pt={__name:"index",setup(Dt){const L=O(),u=Y(),D=f(0);let E=f(!0),d=f(!1),x=f(!1);const V=f(u.mainDevServer);f(u.emailServer),H(async()=>{setTimeout(async()=>{u.user.isAuthenticated&&(u.user.email==="jorenleeluna24@gmail.com"||u.user.email==="registrar@lsu.edu.ph")?(await U(),L.push("/registrar/dashboard")):L.push("/unauthorized")},5e3),await U()});const R=()=>{L.push("/registrar/login"),u.removeToken()},U=async()=>{try{D.value=await $fetch(V.value+"/api/registrar/list").catch(l=>l.data)||[]}catch(l){console.error("Error fetching list items:",l)}finally{S.value=!1}},$=l=>{x.value=!x.value,deleteIDItem.value=l},z=async()=>{await $fetch(V.value+"/api/campus-pass/"+deleteIDItem.value+"/delete/",{method:"DELETE",headers:{Authorization:u.user.token,"Content-Type":"application/json"}}).then(async l=>{console.log("response",l),D.value=await $fetch(V.value+"/api/campus-pass/list").catch(t=>t.data)||0,x.value=!x.value})};let j;const N=w(()=>(j=D.value,K.orderBy(j,"created_at","asc"))),S=f(!0),c=f(1),A=w(()=>Math.ceil(N.value.length/P)),M=w(()=>{const l=(c.value-1)*P,t=l+P;return N.value.slice(l,t)}),B=w(()=>{const l=[];let t=Math.max(1,c.value-Math.floor(C/2)),g=Math.min(A.value,t+C-1);g-t+1<C&&(t=Math.max(1,g-C+1));for(let s=t;s<=g;s++)l.push(s);return l});return(l,t)=>{const g=F;return i(),a("div",null,[e("div",Q,[p(e("div",W,[e("div",Z,[e("div",ee,[e("div",te,[t[5]||(t[5]=e("i",{class:"fa fa-user mx-2","aria-hidden":"true"},null,-1)),e("h1",se,o(n(u).user.email),1)]),e("div",{onClick:t[0]||(t[0]=s=>T(d)?d.value=!n(d):d=!n(d)),class:"w-10 px-1.5 lg:hidden flex"},[e("i",{class:m(["fa text-3xl text-white",n(d)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2)])]),t[6]||(t[6]=q('<div class=""><div class="w-fit mx-auto mt-5 mb-3"><img src="https://raw.githubusercontent.com/jorenlee/lsu-public-images/main/images/images/logos/LSU_Seal.PNG" class="lg:w-24 w-20 mx-auto"></div><div class="text-center"><h1 class="font-bold text-green-800 text-2xl">Dashboard</h1></div><div class="mx-auto mt-10 mb-5 grid grid-cols-1"><a href="/registrar/dashboard" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-black hover:bg-black hover:text-white"><i class="fa fa-list mr-3" aria-hidden="true"></i> All Request Lists </a><a href="/" class="text-xs mx-auto mb-2 w-full uppercase whitespace-nowrap px-5 py-1 font-bold text-left text-green-900 hover:bg-green-900 hover:text-white"><i class="fa fa-globe mr-3" aria-hidden="true"></i> LSU HOME PAGE </a></div></div>',1))])],512),[[I,n(d)]]),e("div",le,[e("div",ae,[e("div",oe,[e("div",{onClick:t[1]||(t[1]=s=>T(d)?d.value=!n(d):d=!n(d)),class:"w-auto flex items-center lg:px-1.5"},[e("i",{class:m(["fa text-3xl text-white",n(d)?"fa-caret-left":"fa-bars"]),"aria-hidden":"true"},null,2),t[7]||(t[7]=e("p",{class:"text-white whitespace-nowrap lg:ml-5 ml-3 font-bold uppercase lg:text-sm text-xs"}," Registrar ",-1))]),e("button",{onClick:R,class:"flex hover:font-bold pt-1"},t[8]||(t[8]=[e("i",{class:"fa fa-sign-out text-white text-xl"},null,-1),e("h1",{class:"text-xs text-white p-1.5 lg:flex hidden"},"Log Out",-1)]))])]),e("div",ie,[e("div",ne,[p(e("div",null,[t[30]||(t[30]=e("div",{class:"w-full shadow bg-gray-100 text-green-900 font-bold px-2 text-center mb-3 py-2 text-xs uppercase"}," All Request Lists ",-1)),e("div",de,[e("div",{class:m(["appointment-lists mx-auto text-xs",l.toggleListsName?"hidden":""])},[S.value?(i(),a("div",re,t[9]||(t[9]=[q('<div class=""><div class="flex animate-pulse space-x-4"><div class="flex-1"><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-200"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-300"></div><div class="h-0.5 bg-gray-100"></div><div class="h-10 bg-gray-100"></div><div class="h-0.5 bg-gray-100"></div></div></div></div>',1)]))):(i(),a("div",ce,[n(M).length>0?(i(),a("div",ue,[(i(!0),a(y,null,b(n(M),(s,_)=>(i(),a("div",{class:"justify-evenly items-center h-auto shadow lg:mb-0 mb-5 border-gray-200",key:_},[e("div",fe,[e("div",pe,[e("div",xe,[e("div",ge,[e("span",me,[t[10]||(t[10]=e("i",{class:"fa fa-user mr-2.5"},null,-1)),h(" "+o(s.lastname)+", ",1)]),e("span",ve,o(s.firstname),1),e("span",{class:m([s.middlename==="-"?"hidden":"","mx-1"])},o(s.middlename),3)]),e("div",he,[t[11]||(t[11]=e("i",{class:"fa fa-envelope mr-1.5"},null,-1)),h(" "+o(s.email),1)]),e("div",_e,[t[12]||(t[12]=e("i",{class:"fa fa-phone mr-1"},null,-1)),h(" "+o(s.contact_number),1)]),e("div",we,[t[13]||(t[13]=e("i",{class:"fa fa-birthday-cake mr-2 ml-0.5"},null,-1)),h(" "+o(s.birthdate),1)]),e("div",ye,[t[14]||(t[14]=e("i",{class:"fa fa-female mr-2 text-lg"},null,-1)),h(" "+o(s.mother_maiden_name),1)])]),e("div",be,[e("div",ke,[e("div",Ce,[t[15]||(t[15]=e("label",{for:"alumni",class:"font-bold text-gray-800 mr-1"},"Alumni:",-1)),e("div",Le,[p(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm","onUpdate:modelValue":r=>s.alumni=r},null,8,De),[[k,s.alumni]])])]),e("div",Ve,[t[16]||(t[16]=e("label",{for:"college",class:"font-bold text-gray-800 mr-1"},"College:",-1)),e("div",Ne,[p(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"College","onUpdate:modelValue":r=>s.college=r},null,8,Se),[[k,s.college]])])]),e("div",Ie,[t[17]||(t[17]=e("label",{for:"course",class:"font-bold text-gray-800 mr-1"},"Course:",-1)),e("div",Pe,[p(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"Course","onUpdate:modelValue":r=>s.course=r},null,8,Ue),[[k,s.course]])])]),e("div",$e,[t[18]||(t[18]=e("label",{for:"year_graduated_last_attended",class:"font-bold text-gray-800 whitespace-nowrap mr-1"}," A.Y. Graduated | Attended:",-1)),e("div",je,[p(e("input",{type:"text",class:"border-b w-full mx-auto text-xs px-1 shadow-sm",placeholder:"Year Graduated or Last Attended","onUpdate:modelValue":r=>s.year_graduated_last_attended=r},null,8,Ae),[[k,s.year_graduated_last_attended]])])])])]),e("div",Me,[e("div",qe,[e("div",Te,[t[19]||(t[19]=e("span",{class:"font-bold"},"Type of Document Requests:",-1)),e("ul",Ee,[(i(!0),a(y,null,b(s.type_document_requests,(r,G)=>(i(),a("li",{key:G},o(r),1))),128))])])])]),e("div",Re,[e("div",ze,[e("div",Be,[t[20]||(t[20]=e("span",{class:"font-bold mr-1"},"Data Privacy:",-1)),e("span",Ge,o(s.data_privacy),1)])]),e("div",Fe,[e("div",Oe,[t[21]||(t[21]=e("span",{class:"font-bold mr-1"},"Tracking:",-1)),e("span",Ye,o(s.tracking_id),1)])]),e("div",He,[e("div",Xe,[t[22]||(t[22]=e("span",{class:"font-bold mr-1"},"Remarks:",-1)),e("span",Je,o(s.remarks),1)])]),e("div",Ke,[e("div",Qe,[t[23]||(t[23]=e("span",{class:"font-bold mr-1"},"IDs and Documents:",-1)),e("div",We,[s?(i(),a("span",Ze,[e("a",{href:s.valid_id_front[0].url,target:"_blank"},[e("img",{src:s.valid_id_front[0].url,class:"w-10"},null,8,tt)],8,et),e("a",{href:s.valid_id_back[0].url,target:"_blank"},[e("img",{src:s.valid_id_back[0].url,class:"w-10"},null,8,lt)],8,st)])):v("",!0),s?(i(),a("span",at,[e("a",{href:s.credential_evaluation_requests[0].url,target:"_blank"},[e("img",{src:s.credential_evaluation_requests[0].url,class:"w-10"},null,8,it)],8,ot)])):v("",!0)])])])]),e("div",nt,[e("div",dt,[e("div",rt,[e("div",ct,[t[25]||(t[25]=e("label",{class:"font-bold block text-black lg:mr-0 mr-2"},"Status",-1)),p(e("select",{"onUpdate:modelValue":r=>s.status=r,name:"borrower_category",class:"shadow block font-bold rounded-md w-fit border pb-0.5 border-[#e5e7eb] capitalize",required:"",onChange:r=>l.requestChangeStatus(s.id,s.status,s.purpose,s.remarks)},t[24]||(t[24]=[e("option",{value:"pending"}," Pending ",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"declined"},"declined",-1),e("option",{value:"for revision"}," revision ",-1)]),40,ut),[[J,s.status]])])])])]),e("div",ft,[e("div",pt,[e("button",{onClick:r=>$(s.id),class:"text-red-500 hover:text-white hover:bg-red-500 bg-white border border-red-500 px-1.5 py-0.5 rounded-md"},t[26]||(t[26]=[e("i",{class:"fa fa-close rounded-lg uppercase","aria-hidden":"true"},null,-1)]),8,xt)])])])])]))),128)),p(e("div",gt,[e("div",{class:"my-[10%] bg-white w-fit mx-auto px-10 py-3 rounded-lg shadow-2xl"},[t[27]||(t[27]=e("div",{class:"my-6"}," Are you sure you want to Delete? ",-1)),e("div",{class:"flex gap-5 mx-auto w-fit my-5"},[e("span",{class:"bg-green-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:z},"Yes"),e("span",{class:"bg-red-900 text-white px-3 py-1 rounded-lg cursor-pointer",onClick:$},"Cancel")])])],512),[[I,n(x)]])])):v("",!0),n(N).length>0?(i(),a("div",mt,[e("button",{disabled:c.value===1,onClick:t[2]||(t[2]=s=>c.value--),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Prev ",8,vt),(i(!0),a(y,null,b(n(B),s=>(i(),a("button",{key:s,onClick:_=>c.value=s,class:m(["hover:bg-green-500 hover:text-white",{"px-4 py-2 mx-1 rounded":!0,"bg-green-800 text-white":c.value===s,"bg-gray-200":c.value!==s}])},o(s),11,ht))),128)),e("button",{disabled:c.value===n(A),onClick:t[3]||(t[3]=s=>c.value++),class:"px-2 py-2 mx-1 bg-gray-200 rounded hover:bg-gray-500 hover:text-white"}," Next ",8,_t)])):S.value?v("",!0):(i(),a("div",wt," No items found! "))]))],2),l.toggleListsName?(i(),a("div",yt,[e("div",bt,[e("div",kt,[t[29]||(t[29]=e("div",{class:"text-center border-b py-2 font-bold w-full"}," List of Names ",-1)),e("div",{onClick:t[4]||(t[4]=s=>l.toggleListsName=!l.toggleListsName),class:"bg-gray-600 hover:bg-white hover:text-gray-600 border-b border-l text-white px-2 py-[8px]"},t[28]||(t[28]=[e("i",{class:"fa fa-close","aria-hidden":"true"},null,-1)]))]),e("div",Ct,[(i(!0),a(y,null,b(l.displayListName,(s,_)=>(i(),a("div",{key:_,class:"text-left lg:px-10 px-2 py-1 bg-gray-100 mb-0.5"},[e("div",null,o(s.lastname)+", "+o(s.firstname)+" "+o(s.middlename),1),e("div",null,o(s.email),1)]))),128))])])])):v("",!0)])],512),[[I,n(E)]])])])])]),e("div",Lt,[X(g)])])}}};export{Pt as default};
